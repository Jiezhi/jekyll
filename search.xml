<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[2020å¹´åº¦ Python åº“ Top10åº“ä¹‹1-Typer]]></title>
    <url>%2F2021%2F01%2F24%2Fpy-2020-top10lib-01-typer%2F</url>
    <content type="text"><![CDATA[Typer æ˜¯ä¸€ä¸ªäººè§äººçˆ±ï¼ŒèŠ±è§èŠ±å¼€çš„ç”¨äºŽæž„å»º CLI ç¨‹åºçš„åº“ï¼ŒåŸºäºŽ Python 3.6+çš„ç±»åž‹æç¤ºï¼ˆtype hintsï¼‰ã€‚ Typer å®˜æ–¹æ–‡æ¡£ï¼šhttps://typer.tiangolo.com/æºç åœ°å€ï¼š https://github.com/tiangolo/typer ç‰¹æ€§ äº¤äº’å¼ç¼–å†™ï¼šæ˜“äºŽä½¿ç”¨å’Œå­¦ä¹ ï¼Œå‡å°‘ debug å’Œé˜…è¯»æ–‡æ¡£æ—¶é—´ã€‚ å®¹æ˜“ä½¿ç”¨ï¼šæ”¯æŒæ‰€æœ‰çš„ shell è‡ªåŠ¨æç¤ºå’Œè‡ªåŠ¨è¡¥å…¨ã€‚ ç®€çŸ­ï¼š é¿å…é‡å¤ï¼Œä»Žå‚æ•°å£°æ˜Žä¸­èŽ·å–ä¿¡æ¯ å¼€ç®±å³ç”¨ï¼š 2è¡Œä»£ç å³å¯ä½¿ç”¨ï¼Œä¸€è¡Œ importï¼Œä¸€è¡Œå‡½æ•°è°ƒç”¨ æ— æƒ§å¤æ‚é¡¹ç›®ï¼š é¡¹ç›®å†å¤æ‚ï¼ŒTyperç…§æ ·æŸ¥ ä¾èµ–Python 3.6+ å®‰è£…pip install typer ä¸¾ä¾‹æœ€ç®€å•çš„å®žçŽ°, main.py:123456789import typerdef main(name: str): typer.echo(f"Hello &#123;name&#125;")if __name__ == "__main__": typer.run(main) è¿è¡Œ1234567891011121314151617181920212223242526272829ðŸ’¬ è¿è¡Œç¨‹åºpython main.pyðŸ’¬ å‹å¥½åœ°æç¤ºä½ ç¼ºå°‘ NAME å‚æ•°Usage: main.py [OPTIONS] NAMETry "main.py --help" for help.Error: Missing argument 'NAME'.ðŸ’¬ è‡ªå¸¦ --helppython main.py --helpUsage: main.py [OPTIONS] NAMEArguments: NAME [required]Options: --install-completion Install completion for the current shell. --show-completion Show completion for the current shell, to copy it or customize the installation. --help Show this message and exit.ðŸ’¬ å½“ä½ åˆ›å»ºä¸€ä¸ªpythonåŒ…ï¼Œå®‰è£…æ—¶å¸¦ä¸Š--install-completionå‚æ•°ï¼Œåˆ™èŽ·å¾—äº†è‡ªåŠ¨è¡¥å…¨çš„åŠŸèƒ½ðŸ’¬ çŽ°åœ¨ä¼ å…¥ NAME å‚æ•°è¿è¡Œpython main.py CamilaHello CamilaðŸ’¬ æˆåŠŸè¿è¡Œï¼ ðŸŽ‰ ä»£ç å‡çº§ä¿®æ”¹ main.py ä»£ç ï¼Œæ–°å¢ž typer.Typer() app å®žä¾‹å¹¶åˆ›å»ºä¸¤ä¸ªå¸¦å‚æ•°çš„å­å‘½ä»¤ï¼š 1234567891011121314151617181920import typerapp = typer.Typer()@app.command()def hello(name: str): typer.echo(f"Hello &#123;name&#125;")@app.command()def goodbye(name: str, formal: bool = False): if formal: typer.echo(f"Goodbye Ms. &#123;name&#125;. Have a good day.") else: typer.echo(f"Bye &#123;name&#125;!")if __name__ == "__main__": app() ä»£ç ä¸­ï¼š æ˜¾ç¤ºåˆ›å»ºä¸€ä¸ªtyper.Typerå®žä¾‹ ä¹‹å‰ä»£ç ä¸­typer.runå…¶å®žéšå¼åœ°åˆ›å»ºäº†æ”¹å®žä¾‹ é€šè¿‡ `@app.command()` åˆ›å»ºäº†ä¸¤ä¸ªå­å‘½ä»¤ è°ƒç”¨ app() 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960ðŸ’¬ æŸ¥çœ‹ --help å†…å®¹python main.py --helpUsage: main.py [OPTIONS] COMMAND [ARGS]...Options: --install-completion Install completion for the current shell. --show-completion Show completion for the current shell, to copy it or customize the installation. --help Show this message and exit.Commands: goodbye helloðŸ’¬ åŒ…å«ä¸¤ä¸ªå­å‘½ä»¤ï¼ˆå³ä¸¤ä¸ªå‡½æ•°ï¼‰: goodbye and helloðŸ’¬ æŸ¥çœ‹å­å‘½ä»¤ hello çš„å¸®åŠ©python main.py hello --helpUsage: main.py hello [OPTIONS] NAMEArguments: NAME [required]Options: --help Show this message and exit.ðŸ’¬ ç„¶åŽå†çœ‹ä¸‹ goodbye çš„python main.py goodbye --helpUsage: main.py goodbye [OPTIONS] NAMEArguments: NAME [required]Options: --formal / --no-formal [default: False] --help Show this message and exit.ðŸ’¬ ä¸º bool ç±»åž‹çš„å‚æ•°åˆ›å»ºäº† --formal and --no-formal é€‰é¡¹ ðŸŽ‰ðŸ’¬ æ‰§è¡Œä¸‹ hello å‘½ä»¤python main.py hello CamilaHello CamilaðŸ’¬ å†æ‰§è¡Œä¸‹ goodbye å‘½ä»¤python main.py goodbye CamilaBye Camila!ðŸ’¬ å†åŠ ä¸Š --formalpython main.py goodbye --formal CamilaGoodbye Ms. Camila. Have a good day. æ€»ç»“åªéœ€å£°æ˜Žä¸€æ¬¡å‡½æ•°å…¥å‚ç±»åž‹ï¼Œå³å¯ä»¥åˆ›å»ºä¸€ä¸ªå¸¦è‡ªåŠ¨è¡¥é½å‘½ä»¤åŠŸèƒ½çš„ç¨‹åºã€‚ æ›´å¤šå†…å®¹ï¼Œè¯¦è§å®˜ç½‘æ•™ç¨‹ï¼šhttps://typer.tiangolo.com/tutorial/]]></content>
      <categories>
        <category>default</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[mongo-on-hive]]></title>
    <url>%2F2020%2F08%2F28%2Fmongo-on-hive%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718:59:20,376 ERROR [main] org.apache.hadoop.mapred.YarnChild: Error running child : java.lang.NoSuchMethodError: org.apache.hadoop.hive.ql.exec.Utilities.deserializeExpression(Ljava/lang/String;)Lorg/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc; at com.mongodb.hadoop.hive.input.HiveMongoInputFormat.getFilter(HiveMongoInputFormat.java:134) at com.mongodb.hadoop.hive.input.HiveMongoInputFormat.getRecordReader(HiveMongoInputFormat.java:103) at org.apache.hadoop.hive.ql.io.HiveInputFormat.getRecordReader(HiveInputFormat.java:295) at org.apache.hadoop.hive.ql.io.CombineHiveInputFormat.getRecordReader(CombineHiveInputFormat.java:685) at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.&lt;init&gt;(MapTask.java:175) at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:444) at org.apache.hadoop.mapred.MapTask.run(MapTask.java:349) at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:174) at java.security.AccessController.doPrivileged(Native Method) at javax.security.auth.Subject.doAs(Subject.java:422) at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1875) at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:168)18:59:20,478 INFO [main] org.apache.hadoop.metrics2.impl.MetricsSystemImpl: Stopping MapTask metrics system...18:59:20,478 INFO [main] org.apache.hadoop.metrics2.impl.MetricsSystemImpl: MapTask metrics system stopped.18:59:20,478 INFO [main] org.apache.hadoop.metrics2.impl.MetricsSystemImpl: MapTask metrics system shutdown complete. https://github.com/mongodb/mongo-hadoop/pull/147/files]]></content>
      <categories>
        <category>default</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Atlaså‡çº§2.1.0å‡ºé”™ä¿®å¤ï¼ˆCDH 6.3.1ï¼‰]]></title>
    <url>%2F2020%2F08%2F18%2Fatlas2-hive-hook-error%2F</url>
    <content type="text"><![CDATA[ã€Žæ—§å±±æ¾ç«¹è€ï¼Œé˜»å½’ç¨‹ã€‚ã€â€”â€” å²³é£ž ã€Šå°é‡å±±ã€‹ å‡çº§åŽå‘çŽ° Hive è°ƒç”¨ Atlas Hook æŠ¥å¦‚ä¸‹çš„é”™è¯¯ï¼š12345678910111213141516171819202122232425[HiveServer2-Background-Pool: Thread-52]: HiveHook.run(): failed to process operation CREATETABLEjava.lang.NoSuchMethodError: org.apache.hadoop.hive.metastore.api.Database.getCatalogName()Ljava/lang/String; at org.apache.atlas.hive.bridge.HiveMetaStoreBridge.getDatabaseName(HiveMetaStoreBridge.java:577) ~[hive-bridge-2.1.0.jar:2.1.0] at org.apache.atlas.hive.hook.AtlasHiveHookContext.getQualifiedName(AtlasHiveHookContext.java:201) ~[hive-bridge-2.1.0.jar:2.1.0] at org.apache.atlas.hive.hook.AtlasHiveHookContext.init(AtlasHiveHookContext.java:293) ~[hive-bridge-2.1.0.jar:2.1.0] at org.apache.atlas.hive.hook.AtlasHiveHookContext.&lt;init&gt;(AtlasHiveHookContext.java:83) ~[hive-bridge-2.1.0.jar:2.1.0] at org.apache.atlas.hive.hook.AtlasHiveHookContext.&lt;init&gt;(AtlasHiveHookContext.java:64) ~[hive-bridge-2.1.0.jar:2.1.0] at org.apache.atlas.hive.hook.HiveHook.run(HiveHook.java:175) [hive-bridge-2.1.0.jar:2.1.0] at org.apache.atlas.hive.hook.HiveHook.run(HiveHook.java:52) [hive-bridge-shim-2.1.0.jar:2.1.0] at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1960) [hive-exec-2.1.1-cdh6.3.1.jar:2.1.1-cdh6.3.1] at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1563) [hive-exec-2.1.1-cdh6.3.1.jar:2.1.1-cdh6.3.1] at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1339) [hive-exec-2.1.1-cdh6.3.1.jar:2.1.1-cdh6.3.1] at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1334) [hive-exec-2.1.1-cdh6.3.1.jar:2.1.1-cdh6.3.1] at org.apache.hive.service.cli.operation.SQLOperation.runQuery(SQLOperation.java:256) [hive-service-2.1.1-cdh6.3.1.jar:2.1.1-cdh6.3.1] at org.apache.hive.service.cli.operation.SQLOperation.access$600(SQLOperation.java:92) [hive-service-2.1.1-cdh6.3.1.jar:2.1.1-cdh6.3.1] at org.apache.hive.service.cli.operation.SQLOperation$BackgroundWork$1.run(SQLOperation.java:345) [hive-service-2.1.1-cdh6.3.1.jar:2.1.1-cdh6.3.1] at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_181] at javax.security.auth.Subject.doAs(Subject.java:422) [?:1.8.0_181] at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1875) [hadoop-common-3.0.0-cdh6.3.1.jar:?] at org.apache.hive.service.cli.operation.SQLOperation$BackgroundWork.run(SQLOperation.java:357) [hive-service-2.1.1-cdh6.3.1.jar:2.1.1-cdh6.3.1] at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181] at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181] at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181] æŽ’æŸ¥åŽå‘çŽ° Atlas ä»£ç ä¸­ç”¨çš„ Hive ç‰ˆæœ¬ä¸º3.1.0ï¼Œè€Œç›®å‰ CDH 6.3.1çš„ Hive æ˜¯ 2.1.1ã€‚hive-bridge æ¨¡å—ä¸­è°ƒç”¨äº†2.1.1ç‰ˆæœ¬ä¸­ä¸å­˜åœ¨çš„æ–¹æ³•æŠ¥é”™å¯¼è‡´ã€‚ æ‰€ä»¥ä¿®æ”¹addons/hive-bridge/src/main/java/org/apache/atlas/hive/bridge/HiveMetaStoreBridge.javaä¸­çš„getDatabaseName()æ–¹æ³•å³å¯ã€‚ ä¿®æ”¹å‰ï¼š12345678910public static String getDatabaseName(Database hiveDB) &#123; String dbName = hiveDB.getName().toLowerCase(); String catalogName = hiveDB.getCatalogName() != null ? hiveDB.getCatalogName().toLowerCase() : null; if (StringUtils.isNotEmpty(catalogName) &amp;&amp; !StringUtils.equals(catalogName, DEFAULT_METASTORE_CATALOG)) &#123; dbName = catalogName + SEP + dbName; &#125; return dbName;&#125; ä¿®æ”¹åŽï¼š123456789101112public static String getDatabaseName(Database hiveDB) &#123; String dbName = hiveDB.getName().toLowerCase(); /* String catalogName = hiveDB.getCatalogName() != null ? hiveDB.getCatalogName().toLowerCase() : null; if (StringUtils.isNotEmpty(catalogName) &amp;&amp; !StringUtils.equals(catalogName, DEFAULT_METASTORE_CATALOG)) &#123; dbName = catalogName + SEP + dbName; &#125; */ return dbName;&#125; ç„¶åŽé‡æ–°è¿›addons/hive-bridgeç›®å½•ä¸‹æ‰“åŒ…å‡º hive-bridge-2.1.0.jarã€‚ æœ€åŽç”¨è¿™ä¸ªæ–°çš„åŒ…æ›¿æ¢atlas-hive-plugin-implç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œé‡å¯ HiveServer2 å³å¯ã€‚]]></content>
      <categories>
        <category>BigData</category>
      </categories>
      <tags>
        <tag>Atlas</tag>
        <tag>CDH</tag>
        <tag>BigData</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CDH ä¸­ Flume é…ç½®åŠæ‹¦æˆªå™¨çš„å®žçŽ°]]></title>
    <url>%2F2020%2F06%2F03%2Fcdh-flume-custom-interceptor%2F</url>
    <content type="text"><![CDATA[è®°å½•é…ç½® Flume ä»¥åŠè‡ªå®šä¹‰ Flume æ‹¦æˆªå™¨ï¼ˆInterceptorï¼‰çš„è¿‡ç¨‹ã€‚ Flume é…ç½®å †å†…å­˜è®¾ç½® CDH ä¸­æ·»åŠ  flume åŽå¥½åƒé»˜è®¤ç»™äº†50M å †å†…å­˜ï¼Œæµ‹è¯•ç”¨ç”¨å¯ä»¥ï¼Œå®žé™…ä½¿ç”¨è¿˜æ˜¯æ”¹æˆ1G æˆ–ä»¥ä¸Šå§ã€‚ Hive ç›¸å…³é…ç½®å¦‚æžœéœ€è¦æŠŠæ•°æ® sink åˆ° hive çš„è¯ï¼Œflume å¯èƒ½ä¼šå› ä¸ºæ‰¾ä¸åˆ° Hive ç›¸å…³ä¾èµ–æŠ¥é”™ï¼š 123456789101112131415161718192021Failed to start agent because dependencies were not found in classpath. Error follows.java.lang.NoClassDefFoundError: org/apache/hive/hcatalog/streaming/RecordWriter at org.apache.flume.sink.hive.HiveSink.createSerializer(HiveSink.java:223) at org.apache.flume.sink.hive.HiveSink.configure(HiveSink.java:203) at org.apache.flume.conf.Configurables.configure(Configurables.java:41) at org.apache.flume.node.AbstractConfigurationProvider.loadSinks(AbstractConfigurationProvider.java:453) at org.apache.flume.node.AbstractConfigurationProvider.getConfiguration(AbstractConfigurationProvider.java:106) at org.apache.flume.node.PollingPropertiesFileConfigurationProvider$FileWatcherRunnable.run(PollingPropertiesFileConfigurationProvider.java:145) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at java.lang.Thread.run(Thread.java:748)Caused by: java.lang.ClassNotFoundException: org.apache.hive.hcatalog.streaming.RecordWriter at java.net.URLClassLoader.findClass(URLClassLoader.java:381) at java.lang.ClassLoader.loadClass(ClassLoader.java:424) at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349) at java.lang.ClassLoader.loadClass(ClassLoader.java:357) ... 13 more é‚£ä¹ˆéœ€è¦é…ç½®ä¸‹ Flume env çš„é…ç½®ï¼ŒHIVE_HOME å’Œ HCAT_HOME å…·ä½“ä½ç½®æ ¹æ®æƒ…å†µå¡«å†™ Flume ä»Ž Kafka è¯»å–æ•°æ®è§£æžè‡³ Hive ä¸­Flume é…ç½®æ–‡ä»¶123456789101112131415161718192021222324252627282930# For Data Flowtier1.sources=source1tier1.channels=channel1tier1.sinks=sink1# Sourcetier1.sources.source1.interceptors=i1tier1.sources.source1.interceptors.i1.type=io.jiezhi.dw.flume.interceptor.EventsInterceptor$Buildertier1.sources.source1.type=org.apache.flume.source.kafka.KafkaSourcetier1.sources.source1.channels = channel1tier1.sources.source1.batchSize = 15000tier1.sources.source1.batchDurationMillis = 2000tier1.sources.source1.kafka.bootstrap.servers = node1:9092,node2:9092,node3:9092tier1.sources.source1.kafka.topics = test_topictier1.sources.source1.kafka.consumer.group.id = dw# Channeltier1.channels.channel1.type=memorytier1.channels.channel1.capacity=15000tier1.channels.channel1.transactionCapacity=15000# Sinktier1.sinks.sink1.channel=channel1tier1.sinks.sink1.type=hivetier1.sinks.sink1.hive.metastore=thrift://node1:9083tier1.sinks.sink1.hive.batchSize=15000tier1.sinks.sink1.hive.database=testtier1.sinks.sink1.hive.table=test_tbltier1.sinks.sink1.serializer=JSON è¿™é‡Œé¢ç”¨äº†è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼ˆinterceptorï¼‰å› ä¸ºä»Ž Kafka ä¸­èŽ·å–çš„æ•°æ®ä¸èƒ½ç›´æŽ¥æ’å…¥åˆ° Hive è¡¨ä¸­ï¼Œæ‰€ä»¥éœ€è¦ä»Žä¸­è½¬æ¢ä¸‹æ ¼å¼ã€‚ Hive å»ºè¡¨å¿…é¡»æ˜¯äº‹åŠ¡è¡¨ä¸”éœ€è¦åˆ†æ¡¶ï¼š 1234567891011CREATE TABLE test.test_tbl ( `id` BIGINT, `time` BIGINT, `event` STRING, `type` STRING, ... `platform` STRING, `params` STRING) CLUSTERED BY (`id`) INTO 11 BUCKETS STORED AS ORC TBLPROPERTIES ('transactional' = 'true'); è¯»å–Hiveæ•°æ®æŠ¥é”™ï¼š This command is not allowed on an ACID table test.test_tbl with a non-ACID transaction manager.Failed command: SELECT * from test.test_tbl LIMIT 10. è¦è®¾ç½®ä¸€ä¸‹åŽæŸ¥è¯¢ï¼š SET hive.txn.manager=org.apache.hadoop.hive.ql.lockmgr.DbTxnManager; å¯å‚è§è¿™é‡Œã€‚ å®žçŽ°Flumeæ‹¦æˆªå™¨å¦‚æžœä»Ž Source èŽ·å¾—çš„æ•°æ®ä¸èƒ½ç›´æŽ¥ä½¿ç”¨ï¼Œé‚£ä¹ˆä¸€ç§æ–¹å¼æ˜¯å…ˆè½åˆ° HDFSï¼Œç„¶åŽç”¨ Spark ç­‰ç¨‹åºå¤„ç†åŽå†è½åˆ° Hive ä¸­ï¼Œå¦ä¸€ç§æ–¹å¼æ˜¯å®žçŽ° Flume æ‹¦æˆªå™¨ã€‚è¿™è¾¹é‡‡ç”¨åŽä¸€ç§æ–¹å¼ã€‚ å…¶å®žå¾ˆç®€å•ï¼š é…ç½®ä¾èµ–ï¼š12345&lt;dependency&gt; &lt;groupId&gt;org.apache.flume&lt;/groupId&gt; &lt;artifactId&gt;flume-ng-core&lt;/artifactId&gt; &lt;version&gt;1.9.0&lt;/version&gt;&lt;/dependency&gt; å®žçŽ°Interceptorçš„æŽ¥å£é‡ç‚¹æ˜¯åœ¨intercept()æ–¹æ³•ä¸­å®žçŽ°å¯¹åº”çš„é€»è¾‘ 123456789101112131415161718192021222324252627282930313233343536373839public class EventsInterceptor implements Interceptor &#123; private ObjectMapper mapper = new ObjectMapper(); public static class Builder implements Interceptor.Builder &#123; public Interceptor build() &#123; return new UserEventsInterceptor(); &#125; public void configure(Context context) &#123; &#125; &#125; public void initialize() &#123; &#125; public byte[] convertUserEvent(byte[] body) &#123; // Do something &#125; public Event intercept(Event event) &#123; event.setBody(convertJson(event.getBody())); return event; &#125; public List&lt;Event&gt; intercept(List&lt;Event&gt; events) &#123; for (Event event : events) &#123; intercept(event); &#125; return events; &#125; public void close() &#123; &#125;&#125; ç„¶åŽ mvn clean package åŽæŠŠjar åŒ…æ”¾åˆ° flume agent çš„èŠ‚ç‚¹ä¸Šï¼Œå½“ç„¶æ”¾çš„ä½ç½®æ ¹æ®ps aux | grep flume-ngæ¥å†³å®šï¼Œæ¯”å¦‚æˆ‘è¿™è¾¹å°±æ˜¯/data/opt/cloudera/parcels/CDH-6.3.1-1.cdh6.3.1.p0.1470567/lib/flume-ng/lib/ ç„¶åŽé‡å¯ Flume å³å¯ã€‚]]></content>
      <categories>
        <category>BigData</category>
      </categories>
      <tags>
        <tag>BigData</tag>
        <tag>Flume</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CDH6é…ç½® Atlasï¼ŒåŠ Hive Hook]]></title>
    <url>%2F2020%2F03%2F31%2Fatlas2-cdh6-hive-hook%2F</url>
    <content type="text"><![CDATA[å› ä¸º CDH ç¤¾åŒºç‰ˆä¸èƒ½ä½¿ç”¨ Navigatorï¼Œæ‰€ä»¥éœ€è¦è‡ªå·±é›†æˆä¸€ä¸ªApache Atlasã€‚ ç‰ˆæœ¬è¯´æ˜Ž20200818 Updated: ç›®å‰æœ€æ–°ç‰ˆæ˜¯2.1.0ï¼Œå¦‚æžœ Hive ç‰ˆæœ¬æ˜¯3.1ä¸€ä¸‹çš„ï¼Œå¯èƒ½å­˜åœ¨ä¸å…¼å®¹é—®é¢˜ã€‚åœ¨ç¼–è¯‘å‰ä¿®æ”¹ä¸‹æºç ï¼Œå‚è€ƒè¿™ç¯‡ã€‚ Atlas: 2.0 Download CDH: 6.3.1 (Parcels) å…¶å®ƒAtlas ä¾èµ– Solrï¼ˆæˆ– ESï¼‰ã€HBaseå’Œ Kafka æ¥å·¥ä½œï¼Œå…ˆç¡®ä¿ CDH è¿™3ä¸ªå·²ç»å¼€å¯ï¼Œæˆ–è€…ç¼–è¯‘ Atlasä»£ç æ—¶é›†æˆè¿›åŽ»ï¼ˆç”Ÿäº§ä¸å»ºè®®ï¼‰ã€‚ ç¼–è¯‘ä»Žå®˜ç½‘ä¸‹è½½Atlas 2.0çš„ä»£ç ï¼Œç„¶åŽè¿›è¡Œç¼–è¯‘ï¼Œè¯¦è§å®˜ç½‘ï¼ˆåŸºæœ¬æ²¡å•¥å‘ï¼Œé™¤éž maven ç‰ˆæœ¬å¤ªä½Žï¼ŒåŽ»ä¸‹ä¸€ä¸ªæœ€æ–°çš„å³å¯ï¼‰12345tar xvfz apache-atlas-2.0.0-sources.tar.gzcd apache-atlas-sources-2.0.0/export MAVEN_OPTS="-Xms2g -Xmx2g"mvn clean -DskipTests installmvn clean -DskipTests package -Pdist ç¼–è¯‘å¥½çš„ä½ç½®åœ¨distro/target/ä¸‹12345678910111213141516171819202122232425262728[root@node1 target]# ll distro/targettotal 738Mdrwxr-xr-x. 3 root root 32 Mar 31 10:08 apache-atlas-2.0.0-bin-rw-r--r--. 1 root root 360M Mar 31 10:08 apache-atlas-2.0.0-bin.tar.gzdrwxr-xr-x. 3 root root 44 Mar 31 10:08 apache-atlas-2.0.0-falcon-hook-rw-r--r--. 1 root root 8.8M Mar 31 10:08 apache-atlas-2.0.0-falcon-hook.tar.gzdrwxr-xr-x. 3 root root 43 Mar 31 10:08 apache-atlas-2.0.0-hbase-hook-rw-r--r--. 1 root root 11M Mar 31 10:08 apache-atlas-2.0.0-hbase-hook.tar.gzdrwxr-xr-x. 3 root root 42 Mar 31 10:08 apache-atlas-2.0.0-hive-hook-rw-r--r--. 1 root root 16M Mar 31 10:08 apache-atlas-2.0.0-hive-hook.tar.gzdrwxr-xr-x. 3 root root 43 Mar 31 10:08 apache-atlas-2.0.0-kafka-hook-rw-r--r--. 1 root root 8.8M Mar 31 10:08 apache-atlas-2.0.0-kafka-hook.tar.gzdrwxr-xr-x. 3 root root 32 Mar 31 10:08 apache-atlas-2.0.0-server-rw-r--r--. 1 root root 260M Mar 31 10:08 apache-atlas-2.0.0-server.tar.gz-rw-r--r--. 1 root root 11M Mar 31 10:08 apache-atlas-2.0.0-sources.tar.gzdrwxr-xr-x. 3 root root 43 Mar 31 10:08 apache-atlas-2.0.0-sqoop-hook-rw-r--r--. 1 root root 8.8M Mar 31 10:08 apache-atlas-2.0.0-sqoop-hook.tar.gzdrwxr-xr-x. 3 root root 43 Mar 31 10:08 apache-atlas-2.0.0-storm-hook-rw-r--r--. 1 root root 57M Mar 31 10:08 apache-atlas-2.0.0-storm-hook.tar.gzdrwxr-xr-x. 2 root root 6 Mar 31 10:08 archive-tmp-rw-r--r--. 1 root root 94K Mar 31 10:08 atlas-distro-2.0.0.jardrwxr-xr-x. 2 root root 4.0K Mar 31 10:08 bindrwxr-xr-x. 5 root root 231 Mar 31 10:08 confdrwxr-xr-x. 2 root root 28 Mar 31 10:08 maven-archiverdrwxr-xr-x. 3 root root 22 Mar 31 10:08 maven-shared-archive-resourcesdrwxr-xr-x. 2 root root 55 Mar 31 10:08 META-INF-rw-r--r--. 1 root root 3.9K Mar 31 10:08 rat.txtdrwxr-xr-x. 3 root root 22 Mar 31 10:08 test-classes æˆ‘ä»¬ç›´æŽ¥ä½¿ç”¨apache-atlas-2.0.0-bin.tar.gzå’Œéœ€è¦ hook çš„ç»„ä»¶å¦‚ï¼šapache-atlas-2.0.0-hive-hook.tar.gz ã€apache-atlas-2.0.0-sqoop-hook.tar.gz é…ç½®å°†éœ€è¦çš„ tar.gzæ–‡ä»¶è§£åŽ‹åˆ°æŒ‡å®šç›®å½•å¦‚/opt/atlas æ”¹å‡ ä¸ªå…³é”®çš„é…ç½®vim conf/atlas-application.properties 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748atlas.graph.storage.hostname=node1:2181,node2:2181,node3:2181#Solr#Solr cloud mode propertiesatlas.graph.index.search.solr.mode=cloudatlas.graph.index.search.solr.zookeeper-url=node1:2181/solr,node2:2181/solr,node3:2181/solratlas.graph.index.search.solr.zookeeper-connect-timeout=60000atlas.graph.index.search.solr.zookeeper-session-timeout=60000atlas.graph.index.search.solr.wait-searcher=true######### Notification Configs #########atlas.notification.embedded=falseatlas.kafka.data=$&#123;sys:atlas.home&#125;/data/kafkaatlas.kafka.zookeeper.connect=node1:2181,node2:2181,node3:2181atlas.kafka.bootstrap.servers=node1:9092,node2:9092,node3:9092atlas.kafka.zookeeper.session.timeout.ms=4000atlas.kafka.zookeeper.connection.timeout.ms=2000atlas.kafka.zookeeper.sync.time.ms=20atlas.kafka.auto.commit.interval.ms=1000atlas.kafka.hook.group.id=atlas######### Server Properties #########atlas.rest.address=http://0.0.0.0:21001######### Entity Audit Configs #########atlas.audit.hbase.tablename=apache_atlas_entity_auditatlas.audit.zookeeper.session.timeout.ms=1000atlas.audit.hbase.zookeeper.quorum=node1:2181,node2:2181,node3:2181## Server port configuration ï¼ˆè¿™è¾¹ä½¿ç”¨210001ï¼Œé¿å…ç«¯å£å’Œ Impala çš„å†²çªï¼‰atlas.server.http.port=21001#atlas.server.https.port=21443### ä»¥ä¸‹ä¸ºæ–°å¢žé…ç½®ï¼ŒæŒ‰éœ€æ·»åŠ ######### Hive Hook Configs #######atlas.hook.hive.synchronous=falseatlas.hook.hive.numRetries=3atlas.hook.hive.queueSize=10000atlas.cluster.name=primary######### Sqoop Hook Configs #######atlas.hook.sqoop.synchronous=false # whether to run the hook synchronously. false recommended to avoid delays in Sqoop operation completion. Default: falseatlas.hook.sqoop.numRetries=3 # number of retries for notification failure. Default: 3atlas.hook.sqoop.queueSize=10000 # queue size for the threadpool. Default: 10000 è¿™æ—¶å€™å¯ä»¥å°è¯•å¯åŠ¨ä¸‹./bin/atlas_start.pyå¹¶çœ‹ä¸€ä¸‹ log tail -f logs/application.logï¼Œæˆ‘è¿™è¾¹é‡åˆ°äº†é—®é¢˜ï¼š12345678910112020-03-31 11:42:57,437 INFO - [main:] ~ Creating indexes for graph. (GraphBackedSearchIndexer:248)2020-03-31 11:42:58,605 INFO - [main:] ~ Created index : vertex_index (GraphBackedSearchIndexer:253)2020-03-31 11:42:58,692 INFO - [main:] ~ Created index : edge_index (GraphBackedSearchIndexer:259)2020-03-31 11:42:58,700 INFO - [main:] ~ Created index : fulltext_index (GraphBackedSearchIndexer:265)2020-03-31 11:42:58,824 ERROR - [main:] ~ GraphBackedSearchIndexer.initialize() failed (GraphBackedSearchIndexer:307)org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException: Error from server at http://BD-Cal-Pro-02:8983/solr: Can not find the specified config set: vertex_index at org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:627) at org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:253) ä¸çŸ¥é“ä¸ºä½• atlas æ²¡èƒ½åœ¨ solr åˆ›å»ºéœ€è¦çš„æ•°æ®ï¼Œåªèƒ½æ‰‹åŠ¨åˆ›å»ºäº†1234567solrctl instancedir --create atlas conf/solr/solrctl collection --create vertex_index -s 1 -c atlas -r 1solrctl collection --create edge_index -s 1 -c atlas -r 1solrctl collection --create fulltext_index -s 1 -c atlas -r 1 è‡³æ­¤ atlas å°±å¯ä»¥æ­£å¸¸å¯åŠ¨äº†ã€‚ Jar åŒ…é…ç½®æŠŠé…ç½®å¤åˆ¶åˆ° hook/hive ä¸‹ï¼Œç„¶åŽæ‰“åŒ…è¿›atlas-plugin-classloader-2.0.0.jar zip -u atlas-plugin-classloader-2.0.0.jar atlas-application.properties æœ‰çš„æ•™ç¨‹æ˜¯ç›´æŽ¥è·¨ç›®å½•åŽ‹ç¼©è¿›åŽ»äº†ï¼Œä½†å®žé™…æ‰§è¡Œä¼šå‡ºé”™ã€‚ Hive Hookè¿™è¾¹éœ€è¦åŽ»CM ä¸­ Hive é…ç½®é¡µé¢ä¿®æ”¹ï¼š Hive Auxiliary JARs Directory ${ATLAS_HOME}/hook/hive Gateway Client Environment Advanced Configuration Snippet (Safety Valve) for hive-env.sh HIVE_AUX_JARS_PATH=${ATLAS_HOME}/hook/hive HiveServer2 Advanced Configuration Snippet (Safety Valve) for hive-site.xml1234567891011121314&lt;property&gt;&lt;name&gt;hive.exec.post.hooks&lt;/name&gt;&lt;value&gt;org.apache.atlas.hive.hook.HiveHook&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;hive.reloadable.aux.jars.path&lt;/name&gt;&lt;value&gt;$&#123;ATLAS_HOME&#125;/hook/hive/&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;atlas.cluster.name&lt;/name&gt;&lt;value&gt;primary&lt;/value&gt;&lt;/property&gt; é…ç½®å¥½åŽé‡å¯ Hiveï¼Œåˆ›å»ºä¸€å¼ æµ‹è¯•è¡¨å¯ä»¥çœ‹åˆ°Atlas ä¸­ä¼šå‡ºçŽ°è¯¥è¡¨çš„è®°å½•ã€‚ å¯¼å…¥åŽ†å²æ•°æ®å¦‚æžœéœ€è¦åŽ†å²æ•°æ®ï¼Œåˆ™å¯ä»¥é€šè¿‡ hook-binä¸‹é¢çš„ import_hive.sh å¯¼å…¥å³å¯ï¼Œä¸»è¦è¦æŠŠ atlas-application.properties å¤åˆ¶åˆ° HIVE_CONF_HOME ä¸‹é¢ï¼ˆ/etc/hive/confï¼‰ã€‚]]></content>
      <categories>
        <category>BigData</category>
      </categories>
      <tags>
        <tag>Atlas</tag>
        <tag>CDH</tag>
        <tag>Hive</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CDHä¸­sqoopæ— æ³•åœ¨ hue ä¸­æ­£ç¡®æ‰§è¡Œçš„é—®é¢˜]]></title>
    <url>%2F2020%2F01%2F17%2Frun-sqoop-with-oozie-in-hue%2F</url>
    <content type="text"><![CDATA[JDBCçš„é…ç½®ç»™ä½ å¸¦æ¥å¤šå°‘çš„éº»çƒ¦ï¼Ÿ å®‰è£…å¥½ CDH åŽï¼Œæ·»åŠ å®Œ sqoop 1æœåŠ¡åŽï¼ŒåŽ» hue ä¸­æ‰§è¡Œç›´æŽ¥æŠ¥é”™ã€‚ 1234567891011121314151617No child hadoop job is executed.java.lang.reflect.InvocationTargetException ... at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1875) at org.apache.oozie.action.hadoop.LauncherAM.main(LauncherAM.java:141)Caused by: java.lang.SecurityException: Intercepted System.exit(1) at org.apache.oozie.action.hadoop.security.LauncherSecurityManager.checkExit(LauncherSecurityManager.java:57) at java.lang.Runtime.exit(Runtime.java:107) at java.lang.System.exit(System.java:971) at org.apache.sqoop.Sqoop.main(Sqoop.java:252) at org.apache.oozie.action.hadoop.SqoopMain.runSqoopJob(SqoopMain.java:214) at org.apache.oozie.action.hadoop.SqoopMain.run(SqoopMain.java:199) at org.apache.oozie.action.hadoop.LauncherMain.run(LauncherMain.java:104) at org.apache.oozie.action.hadoop.SqoopMain.main(SqoopMain.java:51) ... 16 moreIntercepting System.exit(1)Failing Oozie Launcher, Main Class [org.apache.oozie.action.hadoop.SqoopMain], exit code [1] å›´ç»•è¿™ä¸ªé—®é¢˜æ‰¾äº†å¾ˆä¹…çš„éƒ½æ— æ³•æ‰¾åˆ°å¯¹åº”çš„é—®é¢˜ï¼Œä¹‹å‰éƒ½æ˜¯ç›´æŽ¥åŽ» YARN é‡Œçœ‹çš„ Logã€‚è¿™ä¸¤å¤©åŽ»çœ‹äº† stderr é‡Œçš„é”™è¯¯æ‰å‘çŽ°æ˜¯ JDBC é©±åŠ¨é€ æˆçš„é—®é¢˜ï¼ˆåæ§½ä¸‹æŸéª¨æ–‡å…¬å¸ï¼‰å¾ˆå¤šç¨‹åºæœ¬å¯ä»¥å¼€ç®±å³ç”¨æˆ–è€…ä¸€é”®å®‰è£…çš„ï¼Œç»“æžœè€æ˜¯å› ä¸º JDBC é©±åŠ¨è¦åŽ»æ‰‹åŠ¨ä¸‹è½½è€Œæµªè´¹å¾ˆå¤šæ—¶é—´ã€‚å†çœ‹ä¸‹çœŸæ­£çš„é”™è¯¯ï¼š123456java.lang.RuntimeException: Could not load db driver class: com.mysql.jdbc.Driver at org.apache.sqoop.manager.SqlManager.makeConnection(SqlManager.java:874) at org.apache.sqoop.manager.GenericJdbcManager.getConnection(GenericJdbcManager.java:59) at org.apache.sqoop.manager.CatalogQueryManager.listTables(CatalogQueryManager.java:102) at org.apache.sqoop.tool.ListTablesTool.run(ListTablesTool.java:49) at org.apache.sqoop.Sqoop.run(Sqoop.java:146) ç„¶åŽä»¥ä¸ºæ˜¯ sqoop JDBC é©±åŠ¨æ²¡å®‰è£…å¥½ï¼Œä¸è¿‡åœ¨èŠ‚ç‚¹ä¸Šå´å¯ä»¥ç›´æŽ¥ç”¨ sqoop å‘½ä»¤æ¥å¯¼å…¥å¯¼å‡ºæ•°æ®ã€‚é‚£è¯´æ˜Ž sqoop çš„é©±åŠ¨æ²¡é—®é¢˜å‘€ï¼Œæˆ‘ä»¬çŸ¥é“ sqoop æœ€ç»ˆæ˜¯è½åœ¨ oozie ä¸Šæ‰§è¡Œçš„ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯æœ‰å¯èƒ½ oozie æ‰¾ä¸åˆ°å¯¹åº”çš„é©±åŠ¨é€ æˆçš„å‘¢ã€‚ æˆ‘ä»¬åŽ» oozie æ‰€åœ¨çš„èŠ‚ç‚¹ä¸Šæ‰§è¡Œå‘½ä»¤ï¼š 123456789101112$ oozie admin -shareliblist[Available ShareLib]hivedistcpgitmapreduce-streamingsparkooziehcataloghive2sqooppig çœ‹ä¸€ä¸‹ sqoop ç›¸å…³çš„ jar åŒ…ï¼š1234567891011121314$ oozie admin -shareliblist sqoop[Available ShareLib]sqoop hdfs://yournodename:8020/user/oozie/share/lib/lib_20200108192149/sqoop/HikariCP-2.6.1.jar hdfs://yournodename:8020/user/oozie/share/lib/lib_20200108192149/sqoop/HikariCP-java7-2.4.12.jar hdfs://yournodename:8020/user/oozie/share/lib/lib_20200108192149/sqoop/ST4-4.0.4.jar hdfs://yournodename:8020/user/oozie/share/lib/lib_20200108192149/sqoop/aggdesigner-algorithm-6.0.jar hdfs://yournodename:8020/user/oozie/share/lib/lib_20200108192149/sqoop/ant-1.9.1.jar hdfs://yournodename:8020/user/oozie/share/lib/lib_20200108192149/sqoop/ant-launcher-1.9.1.jar hdfs://yournodename:8020/user/oozie/share/lib/lib_20200108192149/sqoop/antlr-2.7.7.jar hdfs://yournodename:8020/user/oozie/share/lib/lib_20200108192149/sqoop/antlr-runtime-3.4.jar hdfs://yournodename:8020/user/oozie/share/lib/lib_20200108192149/sqoop/aopalliance-1.0.jar hdfs://yournodename:8020/user/oozie/share/lib/lib_20200108192149/sqoop/aopalliance-repackaged-2.5.0-b32.jar ... grep ä¸€ä¸‹ï¼Œå‘çŽ°å¹¶æ²¡æœ‰ JDBC é©±åŠ¨ï¼Œé‚£ä¹ˆéœ€è¦å°† sqoop ç›®å½•ä¸‹ï¼ˆä¸€èˆ¬ä¸º/var/lib/sqoop/ï¼‰çš„ jdbc é©±åŠ¨æ”¾åˆ° oozie ç›®å½•ä¸‹ï¼ˆå…·ä½“åœ¨ HDFS ä¸Šçš„ç›®å½•çœ‹ä¸Šé¢çš„è¾“å‡ºç»“æžœå°±çŸ¥é“äº†ï¼‰ã€‚å¦‚æžœ sqoop çš„ jdbc è¿˜æ²¡é…å¥½ï¼Œç›´æŽ¥æŒ‰ç…§CDH æ–‡æ¡£å®‰è£…å³å¯ã€‚ æœ€åŽæ‰§è¡Œä¸‹æ›´æ–°å³å¯ï¼š123456$ oozie admin -sharelibupdate[ShareLib update status] sharelibDirOld = hdfs://yournodename:8020/user/oozie/share/lib/lib_20200108192149 host = http://yournodename:11000/oozie sharelibDirNew = hdfs://yournodename:8020/user/oozie/share/lib/lib_20200108192149 status = Successful]]></content>
      <categories>
        <category>BigData</category>
      </categories>
      <tags>
        <tag>CDH</tag>
        <tag>Sqoop</tag>
        <tag>Hue</tag>
        <tag>Ooozie</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Supervisordä»‹ç»ä¸Žä½¿ç”¨]]></title>
    <url>%2F2020%2F01%2F16%2Fsupervisord%2F</url>
    <content type="text"><![CDATA[æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›æœ‰äº›è¿›ç¨‹èƒ½æ—¶åˆ»è¿è¡Œï¼Œå¹¶èƒ½åœ¨å‡ºé”™åŽè‡ªåŠ¨é‡å¯ã€‚é™¤äº†ç”¨ç³»ç»Ÿå¸¦çš„ systemd ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥ç”¨supervisordã€‚è¿™é‡Œç®€å•ä»‹ç» supervisord çš„å®‰è£…å’Œä½¿ç”¨ã€‚é¡¹ç›®åœ°å€ å®‰è£…å®‰è£…æ¯”è¾ƒç®€å•ï¼špip install supervisor åˆ›å»ºé…ç½®æ–‡ä»¶ä½¿ç”¨echo_supervisord_confå‘½ä»¤å¯ä»¥åˆ›å»ºä¸€ä»½é…ç½®æ–‡ä»¶æ¨¡æ¿ï¼Œæ¯”å¦‚è¦æŠŠé…ç½®æ–‡ä»¶æ”¾åœ¨/etc/supervisord.confï¼Œåˆ™æ‰§è¡Œï¼šecho_supervisord_conf &gt; /etc/supervisord.confå¦å¤–å¦‚æžœä½ æƒ³æŠŠé…ç½®æ–‡ä»¶æ”¾åœ¨å…¶ä»–åœ°æ–¹ï¼Œåˆ™å¯ä»¥è‡ªå·±æŒ‡å®šåœ°å€ï¼Œåªæ˜¯åœ¨å¯åŠ¨ supervisord æ—¶åŠ -cæ˜¾å¼æŒ‡å®šé…ç½®æ–‡ä»¶åœ°å€supervisord -c supervisord.conf é…ç½®é…ç½®ä»»åŠ¡ä¿®æ”¹supervisord.confæ–‡ä»¶ï¼Œåœ¨84è¡Œå·¦å³ä½ç½®åŠ å…¥ä½ æƒ³è¦æ‰§è¡Œçš„è¿›ç¨‹ï¼ŒæŒ‰å¦‚ä¸‹æ ¼å¼ï¼š12[program:theprogramname]command=/bin/cat ; the program (relative uses PATH, can take args) æ¯”å¦‚æˆ‘æƒ³ç”¨å‘½ä»¤é€šè¿‡ ssh æ¥ä»£ç†è¿œç¨‹çš„ä¸€ä¸ª web é¡µé¢ï¼š12[program:cm]command=ssh -N -L *:7180:localhost:7180 214 é…ç½® http æœåŠ¡supervisord å¯ä»¥å¼€å¯ http æœåŠ¡ï¼Œé€šè¿‡ web é¡µé¢æ¥æŸ¥çœ‹å’Œç®¡ç†ä»»åŠ¡ã€‚å¦‚æžœéœ€è¦å¼€å¯ï¼Œå¯ä»¥æ‰“å¼€inet_http_serveré…ç½®ï¼Œå¤§æ¦‚åœ¨39è¡Œã€‚1234[inet_http_server] ; inet (TCP) server disabled by defaultport=0.0.0.0:9001 ; ip_address:port specifier, *:port for all ifaceusername=admin ; default is no username (open server)password=thepassword ; default is no password (open server) å¯åŠ¨ç›´æŽ¥æ‰§è¡Œsupervisordå³å¯å¯åŠ¨ï¼Œå¦‚æžœéœ€è¦æŒ‡å®šé…ç½®æ–‡ä»¶ä½ç½®åˆ™ä½¿ç”¨-cå‚æ•°ã€‚ ç®¡ç†Web é¡µé¢ç®¡ç†å¦‚æžœåœ¨é…ç½®ä¸­å¼€å¯äº† http æœåŠ¡ï¼Œåˆ™å¯ä»¥ç›´æŽ¥è®¿é—® http åœ°å€ï¼Œè¾“å…¥è´¦æˆ·å¯†ç åŽå³å¯ã€‚ é€šè¿‡ supervisorctl ç®¡ç†æ¯”å¦‚è¦æŸ¥çœ‹æ‰€æœ‰ä»»åŠ¡çŠ¶æ€ï¼šsupervisorctl status allæˆ–è€…é‡å¯æ‰€æœ‰æœåŠ¡ï¼šsupervisorctl restart all æ›´å¤šå‘½ä»¤å¯å‚è§ï¼šsupervisorctl-command-line-options]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>tools</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sqoop å¸¸è§é—®é¢˜]]></title>
    <url>%2F2019%2F12%2F12%2Fsqoop-issues%2F</url>
    <content type="text"><![CDATA[è®°å½• Sqoop ä½¿ç”¨è¿‡ç¨‹ä¸­å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆã€‚ 1.è¡¨åä¸ºæ•°æ®åº“çš„ä¿ç•™å­—æ®µ123INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM order AS t WHERE 1=0ERROR manager.SqlManager: Error executing statement: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'order AS t WHERE 1=0' at line 1com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'order AS t WHERE 1=0' at line 1 Sqoop åœ¨æ‰§è¡Œä»»åŠ¡å‰ï¼Œä¼šæ‰§è¡Œç±»ä¼¼çš„è¯­å¥æ¥åˆ¤æ–­æºè¡¨æ˜¯å¦æœ‰é—®é¢˜ï¼šSELECT t.* FROM TABLE_NAME AS t WHERE 1=0ç„¶è€Œè¿™é‡ŒæŠ¥çš„é”™è¡¨ç¤ºè¿™å¥è¯­å¥æœ‰é”™è¯¯ï¼Œæ— æ³•æ‰§è¡Œã€‚ä»”ç»†ä¸€çœ‹åŽŸæ¥ä¸šåŠ¡åº“é‚£è¾¹çš„è¡¨åä¸º orderï¼Œæ˜¾ç„¶è¿™ä¸ªè®¢å•è¡¨åä½¿ç”¨äº† MySQL ä¸­çš„ä¿ç•™å…³é”®å­—äº†ã€‚åœ¨ MySQL ä¸­ï¼Œä½¿ç”¨ å°†å«å…³é”®å­—çš„åç§°å¼•èµ·æ¥å³å¯æ­£å¸¸æ‰§è¡Œï¼Œå¦‚ï¼š1SELECT t.* FROM `order` AS t WHERE 1=0ã€‚ å¦‚æžœåœ¨ Sqoop å‘½ä»¤ä¸­ç›´æŽ¥ä½¿ç”¨ order å´æ— æ³•æ­£å¸¸æ‰§è¡Œï¼Œorder ä¼šè¢« shell å½“æˆç‹¬ç«‹çš„å‘½ä»¤æ¥æ‰§è¡Œï¼Œä¹Ÿä¼šç›´æŽ¥æŠ¥é”™ã€‚ï¼ˆç»è¿‡æµ‹è¯•ä½¿ç”¨å•å¼•å·&#39;&#39;ã€åŒå¼•å·&quot;&quot;åŠè½¬ä¹‰å­—ç¬¦éƒ½æ— æ³•æ‰§è¡Œ Sqoop ä»»åŠ¡ã€‚) Updated: å¯ä»¥è¯•ä¸‹æ–¹å¼1--table \`order\` ä½† sqoop åœ¨æ‰¾ä¸»é”®æ—¶ä¼¼ä¹Žä¼šå‡ºé”™ï¼Œæ‰€ä»¥æœ€å¥½é€šè¿‡--split-byæŒ‡å®šä¸»é”®ï¼‰ é‚£å¯ä»¥è€ƒè™‘1.ç”¨ --query æ¥è§£å†³ å¯å‚è€ƒFree-form Query Imports 2.å°† sqoop è¯­å¥æ”¾åˆ°æ–‡ä»¶ä¸­ï¼Œç„¶åŽä½¿ç”¨sqoop --options-fileæ¥æ‰§è¡Œå¯¹åº”çš„æ–‡ä»¶å¯å‚è€ƒUsing Options Files to Pass Arguments 2.MySQL ä¸­ Time ç±»åž‹é”™è¯¯åœ¨æ•°æ®åº“ä¸­ï¼Œæ¯”å¦‚é—¨åº—è¥ä¸šæ—¶é—´æœ‰çš„ä¼šå¡«å†™24:00:00ï¼Œä½†æ˜¯åœ¨ sqoop å¯¼å…¥è¿‡ç¨‹ä¸­ä¼šå‡ºçŽ°å¦‚ä¸‹é”™è¯¯ï¼š 12345678910111213141516171819202122232425Error: java.io.IOException: SQLException in nextKeyValue at org.apache.sqoop.mapreduce.db.DBRecordReader.nextKeyValue(DBRecordReader.java:275) at org.apache.hadoop.mapred.MapTask$NewTrackingRecordReader.nextKeyValue(MapTask.java:568) at org.apache.hadoop.mapreduce.task.MapContextImpl.nextKeyValue(MapContextImpl.java:80) at org.apache.hadoop.mapreduce.lib.map.WrappedMapper$Context.nextKeyValue(WrappedMapper.java:91) at org.apache.hadoop.mapreduce.Mapper.run(Mapper.java:145) at org.apache.sqoop.mapreduce.AutoProgressMapper.run(AutoProgressMapper.java:64) at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:799) at org.apache.hadoop.mapred.MapTask.run(MapTask.java:347) at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:174) at java.security.AccessController.doPrivileged(Native Method) at javax.security.auth.Subject.doAs(Subject.java:422) at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1875) at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:168)Caused by: java.sql.SQLException: java.sql.SQLException: Illegal hour value '24' for java.sql.Time type in value '24:00:00. at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1056) at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:957) at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:927) at com.mysql.jdbc.ResultSet.getTimeFromString(ResultSet.java:6096) at com.mysql.jdbc.ResultSet.getStringInternal(ResultSet.java:5819) at com.mysql.jdbc.ResultSet.getString(ResultSet.java:5645) at org.apache.sqoop.lib.JdbcWritableBridge.readString(JdbcWritableBridge.java:68) at partner_stores.readFields(partner_stores.java:505) at org.apache.sqoop.mapreduce.db.DBRecordReader.nextKeyValue(DBRecordReader.java:242) ... 12 more è¿™æ˜¯å› ä¸º sqoop å¯¼å…¥ MySQL ç”¨çš„æ˜¯ JDBCï¼Œç„¶è€Œ JDBC çš„é©±åŠ¨ä¸­å¯¹ Time ç±»åž‹æœ€å¤§æ”¯æŒåˆ°â€23:59:59â€ï¼Œæ‰€ä»¥å½“ Time ç±»åž‹æ•°æ®å‡ºçŽ°è¶…è¿‡â€23:59:59â€æ•°æ®å°±ä¼šæŠ¥è¿™ä¸ªé”™ã€‚ å°è¯•è¿‡ä½¿ç”¨--map-column-javaï¼Œä½†ä¾ç„¶ä¼šæŠ¥é”™12--map-column-javaendTime=String è§£å†³åŠžæ³•ï¼š1.è®©ä¸šåŠ¡äººå‘˜ä¿®æ”¹æ•°æ®åº“ï¼Œè¦ä¹ˆæŠŠç±»åž‹æ”¹æˆ Varchar ç±»åž‹ï¼Œè¦ä¹ˆæŠŠæ•°æ®åˆ·æˆæœ€å¤§â€23:59:59â€2.è‡ªå·±åŠ¨æ‰‹, ä½¿ç”¨--queryï¼Œåœ¨ select æ“ä½œä¸­è¿›è¡Œç±»åž‹è½¬æ¢ï¼š12SELECT id, CAST(startTime AS CHAR) startTime, CAST(endTime AS CHAR) endTimeFROM shop.stores]]></content>
      <categories>
        <category>BigData</category>
      </categories>
      <tags>
        <tag>Sqoop</tag>
        <tag>HDFS</tag>
        <tag>Hive</tag>
        <tag>MySQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Sqoop å¢žé‡æ›´æ–°]]></title>
    <url>%2F2019%2F09%2F05%2Fsqoop-incremental%2F</url>
    <content type="text"><![CDATA[Sqoop å¢žé‡æ›´æ–°æ•°æ®ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ï¼š append æ¨¡å¼è¯¥æ¨¡å¼é€‚ç”¨äºŽè¡¨ä¸­åªæœ‰æ–°æ•°æ®æ·»åŠ çš„æƒ…å†µ lastmodified æ¨¡å¼è¯¥æ¨¡å¼é€‚ç”¨äºŽçŽ°æœ‰æ•°æ®å¯èƒ½è¢«ä¿®æ”¹çš„æƒ…å†µ]]></content>
      <categories>
        <category>BigData</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>Sqoop</tag>
        <tag>HDFS</tag>
        <tag>Hive</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¾ç½® idea ä¸­çš„ Vimï¼ˆåŒæ ·é€‚ç”¨äºŽjetbrains å®¶å…¶ä»–äº§å“ï¼‰]]></title>
    <url>%2F2019%2F08%2F30%2Fset-vim-in-idea%2F</url>
    <content type="text"><![CDATA[ä¹‹å‰æ¯æ¬¡å¯åŠ¨ idea æˆ– pycharm åŽéƒ½è¦å•ç‹¬è®¾ç½®ä¸‹æ‰å¼€å§‹å·¥ä½œï¼Œé‚£ä¹ˆæ€Žä¹ˆæ‰èƒ½åƒè®¾ç½® vimrc ä¸€æ ·è®¾ç½® idea ä¸­çš„ vim å‘¢ï¼Ÿ å¯èƒ½å¾ˆå¤šäºº.vimrc æ–‡ä»¶ä¸­éƒ½æœ‰è¿™ä¸ªè®¾ç½®ï¼š12set relativenumberset number è¿™ä¸ªè®¾ç½®ä½¿å¾—ä¸Šä¸‹è·³è½¬ï¼ˆj/kï¼‰å†ä¹Ÿä¸ç”¨åŽ»è®¡ç®—è¡Œæ•°äº†. idea ä¸­çš„ vim è®¾ç½®ä¹Ÿåƒ.vimrcä¸€æ ·ï¼Œåªä¸è¿‡è®¾ç½®åœ¨.ideavimrcæ–‡ä»¶ä¸­ã€‚ æ‰€ä»¥åªè¦åœ¨åœ¨~/.ideavimrc æ–‡ä»¶ä¸­åŠ ä¸Šä»¥ä¸‹é…ç½®å³å¯ï¼ˆæœ‰å…¶ä»–vimè®¾ç½®ä¹Ÿå¯ä»¥åŠ å…¥åˆ°è¿™é‡Œï¼‰:12set relativenumberset number]]></content>
      <categories>
        <category>Tools</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[é€šè¿‡ ssh è¿œç¨‹ä»£ç†ï¼Œè®¿é—®è¿œç¨‹èµ„æº]]></title>
    <url>%2F2019%2F03%2F29%2Ftunnel-server-socket-over-ssh%2F</url>
    <content type="text"><![CDATA[å¹³æ—¶æˆ‘ä»¬ä½¿ç”¨SSHå¤§å¤šç”¨æ¥ï¼Œç™»å½•è¿œç¨‹æœåŠ¡å™¨æ¥è¿›è¡Œè¿œç¨‹æ“ä½œã€‚ ä½†æ˜¯ SSH å¼ºå¤§çš„åŠŸèƒ½è¿œè¿œä¸æ­¢ç™»å½•è¿œç¨‹æœåŠ¡å™¨ï¼Œæ¯”å¦‚è¯´æˆ‘åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²äº†ä¸€ä¸ªæœåŠ¡ï¼Œä½†æ˜¯ç«¯å£å·å¹¶æ²¡æœ‰å¯¹å¤–å¼€æ”¾æ€Žä¹ˆåŠžï¼Ÿåˆæˆ–è€…ç”Ÿäº§çŽ¯å¢ƒçš„æ•°æ®åº“æœ¬åœ°æ— æ³•è¿žæŽ¥ï¼Œè€Œåªèƒ½é€šè¿‡çº¿ä¸ŠçŽ¯å¢ƒè¿žæŽ¥æ€Žä¹ˆåŠžï¼Ÿ SSHSSH è®¿é—®è¿œç¨‹é¡µé¢åœ¨ Shadowsocks ä¹‹å‰ï¼Œå¾ˆå¤šäººæ˜¯ä½¿ç”¨ SSH æ¥è·¨è¿‡é•¿åŸŽçš„ã€‚çŽ°åœ¨é‡åˆ°çš„é—®é¢˜ï¼Œç”Ÿäº§çŽ¯å¢ƒéƒ¨ç½²äº† Flinkï¼Œè™½è¯´ Flink æä¾›äº† REST Api æ¥æŸ¥çœ‹ä¿¡æ¯çš„ï¼Œä½†æ˜¯æŸ¥çœ‹é¡µé¢è¿˜æ˜¯æ›´æ–¹ä¾¿ç‚¹ã€‚ä½†æ˜¯åˆæ²¡åŠžæ³•è¿žæŽ¥ç”Ÿäº§çŽ¯å¢ƒæ€Žä¹ˆåŠžï¼Ÿå…¶å®žå¯ä»¥é€šè¿‡ SSH å»ºç«‹æœ¬åœ°å’ŒæœåŠ¡å™¨çš„é€šé“ï¼Œè¿›è€Œå¯ä»¥è®¿é—®è¿œç¨‹æœåŠ¡å™¨çš„èµ„æºã€‚æ¯”å¦‚ï¼Œflink é¡µé¢é»˜è®¤ç«¯å£å·ä¸º8081ï¼Œåœ¨ç»ˆç«¯é‡Œæ‰§è¡Œè¿™ä¸ªå‘½ä»¤åŽï¼Œå³å¯é€šè¿‡è®¿é—®æœ¬åœ°çš„ localhost:8081 è®¿é—®æœåŠ¡å™¨ä¸Šçš„ flink é¡µé¢ã€‚ssh -L 8081:localhost:8081 user@flinkserver SSH ä»£ç†è®¿é—®æ•°æ®åº“å…¶å®žé“ç†å’Œä¸Šé¢çš„ä¸€æ ·ï¼Œä¸€èˆ¬ç”Ÿäº§çŽ¯å¢ƒæ•°æ®åº“æˆ‘ä»¬æ˜¯æ²¡æ³•ç›´æŽ¥è¿žæŽ¥çš„ã€‚ä¸è¿‡åªè¦æœ‰å¯ä»¥è®¿é—®è¯¥æ•°æ®åº“çš„å…¶ä»–æœåŠ¡å™¨ SSH é…ç½®å°±è¡Œäº†ï¼ŒåŒä¸€ä¸ªåŽŸç†ï¼Œä½†å®žçŽ°æ–¹å¼å°±å¾ˆå¤šäº†ã€‚ ç›´æŽ¥ç™»å½•æœåŠ¡å™¨ï¼Œé€šè¿‡ mysql å‘½ä»¤æ¥è®¿é—®ã€‚ç®€å•ç²—æš´ï¼Œä½†æ¯”è¾ƒç¹çã€‚ ä½¿ç”¨æ”¯æŒ SSH tunnel çš„å®¢æˆ·ç«¯æ¥è¿žæŽ¥æ•°æ®åº“ï¼Œæ¯”å¦‚ DataGrip åŒæ ·ï¼Œä½¿ç”¨ ssh å‘½ä»¤æ¥å»ºç«‹é€šé“ï¼Œæœ¬åœ°å°±å¯ä»¥è®¿é—®äº†ã€‚æ¯”å¦‚æ•°æ®åº“åœ°å€ä¸ºï¼š192.168.100.100:3306ï¼Œè¿œç¨‹æœåŠ¡å™¨ä¸ºï¼šroot@192.168.10.200ï¼Œä½¿ç”¨æœ¬åœ°3307ç«¯å£æ¥æ˜ å°„ï¼ˆå…¶ä»–ç«¯å£ä¹Ÿè¡Œï¼Œæˆ‘å› ä¸ºæœ¬åœ°3306è¢«ç”¨äº†ï¼Œæ‰€ä»¥ç”¨3307äº†ï¼‰ssh -L 3307:192.168.100.100:3306 root@192.168.10.200 æ‰§è¡Œè¿‡åŽï¼Œåªéœ€è¦è¿žæŽ¥ localhost:3307 å°±å¯ä»¥è®¿é—®æ•°æ®åº“äº†ã€‚ SSH è¿˜æœ‰å¾ˆå¤šå¼ºå¤§çš„åŠŸèƒ½ï¼Œä¸‹æ¬¡æœ‰ç©ºå†å†™ä¸€ä¸‹é…ç½®çš„ä¼˜åŒ–ã€‚ Reference:https://askubuntu.com/questions/112177/how-do-i-tunnel-and-browse-the-server-webpage-on-my-laptop https://unix.stackexchange.com/questions/14160/ssh-tunneling-error-channel-1-open-failed-administratively-prohibited-open]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>ssh</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Flink åˆ†å¸ƒå¼è¿è¡Œæ—¶çŽ¯å¢ƒï¼ˆDistributed Runtime Environmentï¼‰]]></title>
    <url>%2F2019%2F03%2F08%2Fflink-distributed-runtime-environment%2F</url>
    <content type="text"><![CDATA[æœ¬ç¯‡æ–‡ç« ä»‹ç» Flink çš„åˆ†å¸ƒå¼è¿è¡Œæ—¶çŽ¯å¢ƒç›¸å…³çš„æ¦‚å¿µã€‚ æœ¬æ–‡è¯‘è‡ªFlinkå®˜ç½‘ ä»»åŠ¡å’Œæ“ä½œé“¾å¯¹äºŽåˆ†å¸ƒå¼çš„æ‰§è¡Œï¼ŒFlinkå°†æ“ä½œå­ä»»åŠ¡é“¾æŽ¥(chain)åˆ°ä»»åŠ¡(task)ä¸­ã€‚æ¯ä¸ªä»»åŠ¡ç”±ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œã€‚å°†æ“ä½œé“¾æŽ¥åˆ°ä»»åŠ¡æ˜¯ä¸€é¡¹æœ‰ç”¨çš„ä¼˜åŒ–ï¼šå®ƒå¯ä»¥å‡å°‘çº¿ç¨‹åˆ°çº¿ç¨‹åˆ‡æ¢å’Œç¼“å†²çš„å¼€é”€ï¼Œå¹¶åœ¨é™ä½Žå»¶è¿Ÿçš„åŒæ—¶æé«˜æ•´ä½“åžåé‡ã€‚é“¾æŽ¥è¡Œä¸ºå¯ä»¥é…ç½®;æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…é“¾æŽ¥æ–‡æ¡£ã€‚ ä¸‹å›¾ä¸­çš„ç¤ºä¾‹æ•°æ®æµç”±äº”ä¸ªå­ä»»åŠ¡æ‰§è¡Œï¼Œå› æ­¤å…·æœ‰äº”ä¸ªå¹¶è¡Œçº¿ç¨‹ã€‚ æ“ä½œé“¾æŽ¥å¯¼ä»»åŠ¡ ä½œä¸šç®¡ç†å™¨ï¼Œä»»åŠ¡ç®¡ç†å™¨å’Œå®¢æˆ·ç«¯Flinkè¿è¡Œæ—¶åŒ…å«ä¸¤ç§ç±»åž‹çš„è¿›ç¨‹ï¼š ä½œä¸šç®¡ç†å™¨ï¼ˆJobManagersï¼Œä¹Ÿç§°ä¸ºmasterï¼‰åè°ƒåˆ†å¸ƒå¼æ‰§è¡Œã€‚ä»–ä»¬å®‰æŽ’ä»»åŠ¡ï¼Œåè°ƒæ£€æŸ¥ç‚¹ï¼Œåè°ƒæ•…éšœæ¢å¤ç­‰ã€‚ è‡³å°‘æœ‰ä¸€ä¸ªJob Managerã€‚è®¾ç½®é«˜å¯ç”¨ï¼ˆHA, High-Availabilityï¼‰çš„è¯å°†å…·æœ‰å¤šä¸ªJobManagersï¼Œå…¶ä¸­ä¸€ä¸ªå§‹ç»ˆæ˜¯é¢†å¯¼è€…(leader)ï¼Œå…¶å®ƒçš„å¤„äºŽå¾…æœºçŠ¶æ€(standby)ã€‚ ä»»åŠ¡ç®¡ç†å™¨ï¼ˆTaskManagersï¼Œä¹Ÿç§°ä¸ºworkerï¼‰æ‰§è¡Œæ•°æ®æµçš„ä»»åŠ¡ï¼ˆæˆ–æ›´å…·ä½“åœ°è¯´ï¼Œå­ä»»åŠ¡ï¼‰ï¼Œå¹¶ç¼“å†²å’Œäº¤æ¢æ•°æ®æµã€‚ å¿…é¡»å§‹ç»ˆè‡³å°‘æœ‰ä¸€ä¸ªTaskManagerã€‚ JobManagerså’ŒTaskManagerså¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å¯åŠ¨ï¼šç‹¬ç«‹é›†ç¾¤ç›´æŽ¥åœ¨æœºå™¨é‡Œå¯åŠ¨ï¼Œæˆ–åœ¨å®¹å™¨ä¸­ï¼Œæˆ–ç”±YARNæˆ–Mesosç­‰èµ„æºæ¡†æž¶æ¥ç®¡ç†ã€‚ TaskManagersè¿žæŽ¥åˆ°JobManagersï¼Œé€šçŸ¥è‡ªå·±å¯ç”¨ï¼Œç„¶åŽè¢«åˆ†é…ä»»åŠ¡ã€‚ å®¢æˆ·ç«¯ä¸æ˜¯è¿è¡Œæ—¶å’Œç¨‹åºæ‰§è¡Œçš„ä¸€éƒ¨åˆ†ï¼Œè€Œæ˜¯è¢«ç”¨äºŽå‡†å¤‡æ•°æ®æµå¹¶å°†æ•°æ®æµå‘é€åˆ°JobManagerã€‚ä¹‹åŽï¼Œå®¢æˆ·ç«¯å¯ä»¥æ–­å¼€è¿žæŽ¥æˆ–ä¿æŒè¿žæŽ¥ä»¥æŽ¥æ”¶è¿›åº¦æŠ¥å‘Šã€‚å®¢æˆ·ç«¯è¦ä¹ˆä½œä¸ºè§¦å‘æ‰§è¡Œçš„Java / Scalaç¨‹åºçš„ä¸€éƒ¨åˆ†è¿è¡Œï¼Œè¦ä¹ˆæ˜¯åœ¨å‘½ä»¤è¡Œè¿›ç¨‹ä¸­è¿è¡Œ ./bin/flink run â€¦. æ‰§è¡ŒFlinkæ•°æ®æµæ‰€æ¶‰åŠçš„è¿‡ç¨‹ ä»»åŠ¡æ§½å’Œèµ„æºæ¯ä¸ªworkerï¼ˆTaskManagerï¼‰éƒ½æ˜¯ä¸€ä¸ªJVMè¿›ç¨‹ï¼Œå¯ä»¥åœ¨ä¸åŒçš„çº¿ç¨‹ä¸­æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªå­ä»»åŠ¡ã€‚ä¸ºäº†æŽ§åˆ¶workeræŽ¥å—çš„ä»»åŠ¡æ•°é‡ï¼Œworkerä¸­æœ‰ä»»åŠ¡æ§½ï¼ˆtask slotsï¼‰ï¼ˆè‡³å°‘ä¸€ä¸ªï¼‰ã€‚ æ¯ä¸ªä»»åŠ¡æ§½ä»£è¡¨TaskManagerçš„å›ºå®šèµ„æºå­é›†ã€‚ä¾‹å¦‚ï¼Œå…·æœ‰ä¸‰ä¸ªä»»åŠ¡æ§½çš„TaskManagerä¼šå°†å…¶1/3çš„æ‰˜ç®¡å†…å­˜åˆ†é…åˆ°æ¯ä¸ªæ’æ§½ã€‚åˆ‡æ¢èµ„æºæ„å‘³ç€å­ä»»åŠ¡ä¸ä¼šä¸Žæ¥è‡ªå…¶ä»–ä½œä¸šçš„å­ä»»åŠ¡ç«žäº‰æ‰˜ç®¡å†…å­˜ï¼Œè€Œæ˜¯ç«žäº‰å…·æœ‰ä¸€å®šé‡çš„ä¿ç•™æ‰˜ç®¡å†…å­˜ã€‚è¯·æ³¨æ„ï¼Œè¿™é‡Œæ²¡æœ‰CPUéš”ç¦»;å½“å‰ä»»åŠ¡æ§½åªåˆ†ç¦»ä»»åŠ¡çš„æ‰˜ç®¡å†…å­˜ã€‚ é€šè¿‡è°ƒæ•´ä»»åŠ¡æ§½çš„æ•°é‡ï¼Œç”¨æˆ·å¯ä»¥å®šä¹‰å­ä»»åŠ¡ä¹‹é—´å¦‚ä½•ç›¸äº’éš”ç¦»ã€‚æ¯ä¸ªTaskManageræœ‰ä¸€ä¸ªæ’æ§½æ„å‘³ç€æ¯ä¸ªä»»åŠ¡ç»„åœ¨ä¸€ä¸ªå•ç‹¬çš„JVMä¸­è¿è¡Œï¼ˆä¾‹å¦‚ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªå•ç‹¬çš„å®¹å™¨ä¸­å¯åŠ¨ï¼‰ã€‚æ‹¥æœ‰å¤šä¸ªæ’æ§½æ„å‘³ç€æ›´å¤šå­ä»»åŠ¡å…±äº«åŒä¸€ä¸ªJVMã€‚åŒä¸€JVMä¸­çš„ä»»åŠ¡å…±äº«TCPè¿žæŽ¥ï¼ˆé€šè¿‡å¤šè·¯å¤ç”¨ï¼‰å’Œå¿ƒè·³æ¶ˆæ¯ã€‚å®ƒä»¬è¿˜å¯ä»¥å…±äº«æ•°æ®é›†å’Œæ•°æ®ç»“æž„ï¼Œä»Žè€Œå‡å°‘æ¯ä»»åŠ¡å¼€é”€ã€‚ å…·æœ‰ä»»åŠ¡æ§½å’Œä»»åŠ¡çš„TaskManager é»˜è®¤æƒ…å†µä¸‹ï¼ŒFlinkå…è®¸å­ä»»åŠ¡å…±äº«æ’æ§½ï¼Œå³ä½¿å®ƒä»¬æ˜¯ä¸åŒä»»åŠ¡çš„å­ä»»åŠ¡ï¼Œåªè¦å®ƒä»¬æ¥è‡ªåŒä¸€ä¸ªä½œä¸šã€‚ç»“æžœå°±æ˜¯ï¼Œä¸€ä¸ªæ§½å¯ä»¥ä¿å­˜ä½œä¸šçš„æ•´ä¸ªç®¡é“ã€‚å…è®¸æ­¤æ’æ§½å…±äº«æœ‰ä¸¤ä¸ªä¸»è¦å¥½å¤„ï¼š Flinké›†ç¾¤éœ€è¦çš„ä»»åŠ¡æ§½æ•°é‡ä¸Žä½œä¸šä¸­ä½¿ç”¨çš„æœ€é«˜å¹¶è¡Œåº¦çš„ä»»åŠ¡æ§½ä¸€æ ·å¤šã€‚æ— éœ€è®¡ç®—ç¨‹åºæ€»å…±åŒ…å«å¤šå°‘ä»»åŠ¡ï¼ˆå…·æœ‰ä¸åŒçš„å¹¶è¡Œæ€§ï¼‰ã€‚ æ›´å®¹æ˜“èŽ·å¾—æ›´å¥½çš„èµ„æºåˆ©ç”¨çŽ‡ã€‚æ²¡æœ‰æ’æ§½å…±äº«ï¼Œéžå¯†é›†çš„source/ map()å­ä»»åŠ¡å°†å ç”¨ä¸Žèµ„æºå¯†é›†åž‹çª—å£å­ä»»åŠ¡ä¸€æ ·å¤šçš„èµ„æºã€‚é€šè¿‡æ’æ§½å…±äº«ï¼Œå°†ç¤ºä¾‹ä¸­çš„åŸºæœ¬å¹¶è¡Œæ€§ä»Ž2å¢žåŠ åˆ°6å¯ä»¥å……åˆ†åˆ©ç”¨æ—¶éš™èµ„æºï¼ŒåŒæ—¶ç¡®ä¿ç¹é‡çš„å­ä»»åŠ¡åœ¨TaskManagersä¹‹é—´å…¬å¹³åˆ†é…ã€‚ å…·æœ‰å…±äº«ä»»åŠ¡æ§½çš„TaskManagers APIè¿˜åŒ…æ‹¬èµ„æºç»„æœºåˆ¶ï¼Œå¯ç”¨äºŽé˜²æ­¢æ„å¤–çš„æ’æ§½å…±äº«ã€‚ æ ¹æ®ç»éªŒï¼Œä¸€ä¸ªå¾ˆå¥½çš„é»˜è®¤ä»»åŠ¡æ§½æ•°å°±æ˜¯CPUæ ¸å¿ƒæ•°ã€‚ä½¿ç”¨è¶…çº¿ç¨‹ï¼Œæ¯ä¸ªæ’æ§½ç„¶åŽéœ€è¦2ä¸ªæˆ–æ›´å¤šç¡¬ä»¶çº¿ç¨‹ã€‚ State Backends(çŠ¶æ€åŽç«¯?)å­˜å‚¨é”®/å€¼ç´¢å¼•çš„ç¡®åˆ‡æ•°æ®ç»“æž„å–å†³äºŽæ‰€é€‰çš„state backendã€‚ä¸€ä¸ªstate backendå°†æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­çš„å“ˆå¸Œæ˜ å°„ä¸­ï¼Œå¦ä¸€ä¸ªstate backendä½¿ç”¨RocksDBä½œä¸ºé”®/å€¼å­˜å‚¨ã€‚é™¤äº†å®šä¹‰ä¿å­˜çŠ¶æ€çš„æ•°æ®ç»“æž„ä¹‹å¤–ï¼Œstate backendè¿˜å®žçŽ°äº†èŽ·å–é”®/å€¼çŠ¶æ€çš„æ—¶é—´ç‚¹å¿«ç…§ï¼Œå¹¶å°†è¯¥å¿«ç…§å­˜å‚¨ä¸ºæ£€æŸ¥ç‚¹çš„ä¸€éƒ¨åˆ†çš„é€»è¾‘ã€‚ æ£€æŸ¥ç‚¹å’Œå¿«ç…§ ä¿å­˜ç‚¹ï¼ˆSavepointsï¼‰ç”¨Data Stream APIç¼–å†™çš„ç¨‹åºå¯ä»¥ä»Žä¿å­˜ç‚¹ä¸­æ¢å¤æ‰§è¡Œã€‚ä¿å­˜ç‚¹å…è®¸æ›´æ–°ç¨‹åºå’ŒFlinkç¾¤é›†ï¼Œè€Œä¸ä¼šä¸¢å¤±ä»»ä½•çŠ¶æ€ã€‚ ä¿å­˜ç‚¹æ˜¯æ‰‹åŠ¨è§¦å‘çš„æ£€æŸ¥ç‚¹ï¼Œå®ƒå¯ä»¥ç”Ÿæˆä¸€ä¸ªç¨‹åºçš„å¿«ç…§å¹¶æŠŠå®ƒå†™åˆ°state backendã€‚ ä»–ä»¬ä¾é å¸¸è§„çš„æ£€æŸ¥ç‚¹æœºåˆ¶ã€‚ åœ¨æ‰§è¡ŒæœŸé—´ï¼Œç¨‹åºä¼šå®šæœŸåœ¨å·¥ä½œèŠ‚ç‚¹ä¸Šåˆ›å»ºå¿«ç…§å¹¶ç”Ÿæˆæ£€æŸ¥ç‚¹ã€‚ å¯¹äºŽç¨‹åºæ¢å¤ï¼Œä»…éœ€è¦æœ€åŽå®Œæˆçš„æ£€æŸ¥ç‚¹ï¼Œå¹¶ä¸”ä¸€æ—¦å®Œæˆæ–°æ£€æŸ¥ç‚¹ï¼Œå°±å¯ä»¥å®‰å…¨åœ°ä¸¢å¼ƒæ—§æ£€æŸ¥ç‚¹ã€‚ ä¿å­˜ç‚¹ä¸Žè¿™äº›å®šæœŸæ£€æŸ¥ç‚¹ç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºŽå®ƒä»¬ç”±ç”¨æˆ·è§¦å‘ï¼Œå¹¶ä¸”åœ¨è¾ƒæ–°çš„æ£€æŸ¥ç‚¹å®Œæˆæ—¶ä¸ä¼šè‡ªåŠ¨è¿‡æœŸã€‚ å¯ä»¥ä»Žå‘½ä»¤è¡Œåˆ›å»ºä¿å­˜ç‚¹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡REST APIå–æ¶ˆä½œä¸šã€‚]]></content>
      <categories>
        <category>Flink</category>
      </categories>
      <tags>
        <tag>Flink</tag>
        <tag>Translate</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³ macos systemuiserver æ— å“åº”çš„é—®é¢˜]]></title>
    <url>%2F2019%2F03%2F07%2Fmacos-systemuiserver-not-responding%2F</url>
    <content type="text"><![CDATA[æŠŠ MBP å‡çº§åˆ°æœ€æ–°ç³»ç»Ÿï¼ˆ10.14.3ï¼‰åŽï¼Œå‘çŽ°ä¼‘çœ åŽå†æ‰“å¼€ç”µè„‘ï¼Œç‚¹å‡»æ— çº¿ç½‘æˆ–åˆ‡æ¢wifi çš„æ—¶å€™ï¼Œç³»ç»Ÿå¼€å§‹è½¬èŠèŠ±ï¼Œç³»ç»Ÿè®¾ç½®ä¹Ÿæ— å“åº”äº†ï¼ŒåŽ»Activity Monitor é‡Œä¼šå‘çŽ° systemuiserver not respondingï¼Œè²Œä¼¼é™¤äº†é‡å¯åˆ«æ— ä»–æ³•ã€‚ å½“ç„¶é™¤äº†é‡å¯ï¼Œä½ åªéœ€è¦åœ¨å‘½ä»¤è¡Œé‡Œæ‰§è¡Œä¸€ä¸ªå‘½ä»¤å°±å¯ä»¥äº†ã€‚ 1sudo kill -9 `ps aux | grep -v grep | grep /usr/libexec/airportd | awk '&#123;print $2&#125;'` è¿™è¡Œå‘½ä»¤çš„æ„æ€æ˜¯å¼ºè¡Œæ€æ­»airportdçš„è¿›ç¨‹ï¼Œç„¶åŽä¼šå¯¼è‡´ç›¸å…³è¿›ç¨‹é‡å¯ã€‚è™½è¯´æ²¡æœ‰ä»Žæ ¹æœ¬ä¸Šè§£å†³é—®é¢˜ï¼Œä½†æ¯”é‡å¯ç³»ç»Ÿå¥½å¤šäº†ã€‚]]></content>
      <categories>
        <category>MacOS</category>
      </categories>
      <tags>
        <tag>Macos</tag>
        <tag>Bug</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Flinkç¼–ç¨‹æ¨¡åž‹]]></title>
    <url>%2F2019%2F03%2F04%2Fflink-concepts-programming-model%2F</url>
    <content type="text"><![CDATA[Flink çš„ç¼–ç¨‹æ¨¡åž‹ä¸ºæ•°æ®æµç¼–ç¨‹æ¨¡åž‹ï¼ˆDataflow Programming Modelï¼‰ï¼Œè¿™é‡Œä»‹ç»ç¼–ç¨‹æ¨¡åž‹é‡Œé¢çš„å‡ ä¸ªæ¦‚å¿µã€‚ æœ¬æ–‡è¯‘è‡ªFlinkå®˜ç½‘ï¼šApache Flink 1.7 Documentation: Dataflow Programming Model æ•°æ®æµç¼–ç¨‹æ¨¡åž‹ï¼ˆDataflow Programming Modelï¼‰ æŠ½è±¡å±‚æ¬¡ï¼ˆLevels of Abstractionï¼‰Flink æä¾›å‡ ç§ä¸åŒå±‚æ¬¡çš„æŠ½è±¡æ¥å¼€å‘ æµ/æ‰¹ï¼ˆstreaming/batchï¼‰ç¨‹åº æœ€ä½Žçº§çš„æŠ½è±¡ä»…æä¾›çŠ¶æ€æµï¼ˆstateful streamingï¼‰ï¼Œå®ƒé€šè¿‡ Process Function ï¼ˆå¤„ç†å‡½æ•°ï¼‰å†…åµŒåœ¨ DataStream API ä¸­ã€‚å®ƒå®¹è®¸ç”¨æˆ·è‡ªç”±åœ°å¤„ç†æ¥è‡ªä¸€ä¸ªæˆ–å¤šä¸ªæµçš„äº‹ä»¶ï¼Œå¹¶ä¸”ä½¿ç”¨ä¸€è‡´çš„å®¹é”™çŠ¶æ€ã€‚æ­¤å¤–ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥ç»™äº‹ä»¶æ—¶é—´å’Œå¤„ç†æ—¶é—´æ³¨å†Œå›žè°ƒï¼Œä½¿å¾—ç¨‹åºå¯ä»¥å®žçŽ°å¤æ‚çš„è®¡ç®—ã€‚ å®žè·µä¸­ï¼Œå¤šæ•°çš„åº”ç”¨ç¨‹åºä¸éœ€è¦ä½¿ç”¨ä¸Šè¿°çš„ä½Žçº§çš„æŠ½è±¡ï¼Œä»…éœ€è¦ä½¿ç”¨æ ¸å¿ƒæŽ¥å£ï¼ˆCore APIï¼‰æ¥ç¼–ç ï¼Œæ¯”å¦‚ DataStream API (æ•°æ®æµæŽ¥å£ï¼Œæœ‰ç•Œ/æ— ç•Œæµ) å’Œ DataSet API ï¼ˆæ•°æ®é›†æŽ¥å£ï¼Œæœ‰ç•Œæ•°æ®é›†ï¼‰ã€‚è¿™äº›æµç•…çš„æŽ¥å£ä¸ºæ•°æ®å¤„ç†æä¾›äº†é€šç”¨æž„å»ºæµç¨‹ï¼Œè¯¸å¦‚ç”¨æˆ·æŒ‡å®šçš„è½¬æ¢ï¼ˆtransformationï¼‰ã€è¿žæŽ¥ï¼ˆjoinï¼‰ã€èšåˆï¼ˆaggregationï¼‰ã€çª—å£ï¼ˆwindowï¼‰ã€çŠ¶æ€ï¼ˆstateï¼‰ç­‰ä¸åŒå½¢å¼ã€‚è¿™äº›æŽ¥å£å¤„ç†çš„æ•°æ®ç±»åž‹åœ¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€ä¸­ä»¥ç±»ï¼ˆclassï¼‰çš„å½¢å¼å‘ˆçŽ°ã€‚ ä½Žå±‚æ¬¡çš„å¤„ç†å‡½æ•°ï¼ˆProcess Functionï¼‰ä¸Žæ•°æ®æµæŽ¥å£ï¼ˆDataStream APIï¼‰çš„äº¤äº’ï¼Œä½¿å¾—æŸäº›ç‰¹å®šçš„æ“ä½œå¯ä»¥æŠ½è±¡ä¸ºæ›´ä½Žçš„å±‚æ¬¡æˆä¸ºå¯èƒ½ã€‚æ•°æ®é›†æŽ¥å£ï¼ˆDataSet APIï¼‰åœ¨æœ‰ç•Œçš„æ•°æ®é›†ä¸Šæä¾›é¢å¤–çš„åŽŸå§‹æ“ä½œï¼Œä¾‹å¦‚å¾ªçŽ¯å’Œè¿­ä»£ï¼ˆloops/iterationsï¼‰ã€‚ è¡¨æŽ¥å£ï¼ˆTable APIï¼‰ä½¿ä»¥è¡¨ä¸ºä¸­å¿ƒçš„å£°æ˜Žæ€§ DSLï¼Œå¯ä»¥åŠ¨æ€åœ°æ”¹å˜è¡¨ï¼ˆå½“å±•ç¤ºæµçš„æ—¶å€™ï¼‰ã€‚Table APIéµå¾ªï¼ˆæ‰©å±•ï¼‰å…³ç³»åž‹æ¨¡åž‹ï¼šè¡¨é™„åŠ äº†ä¸€ä¸ªæ¨¡å¼(schema)ï¼ˆç±»ä¼¼äºŽå…³ç³»åž‹æ•°æ®åº“ä¸­çš„è¡¨ï¼‰ï¼Œæ­¤APIæä¾›äº†å¯æ¯”è¾ƒçš„æ“ä½œï¼Œä¾‹å¦‚selectï¼Œprojectï¼Œjoinï¼Œgroup-byï¼Œaggregateç­‰ã€‚Table APIç¨‹åºä»¥å£°æ˜Žæ–¹å¼å®šä¹‰åº”è¯¥æ‰§è¡Œçš„é€»è¾‘æ“ä½œï¼Œè€Œä¸æ˜¯å‡†ç¡®åœ°æŒ‡å®šæ“ä½œä»£ç ã€‚ å°½ç®¡Table APIå¯ä»¥é€šè¿‡å„ç§ç±»åž‹çš„ç”¨æˆ·å®šä¹‰å‡½æ•°è¿›è¡Œæ‰©å±•ï¼Œä½†å®ƒçš„è¡¨çŽ°åŠ›ä¸å¦‚Core APIï¼Œä½†ä½¿ç”¨èµ·æ¥æ›´ç®€æ´ï¼ˆç¼–å†™çš„ä»£ç æ›´å°‘ï¼‰ã€‚ æ­¤å¤–ï¼ŒTable APIç¨‹åºè¿˜ä¼šé€šè¿‡ä¼˜åŒ–ç¨‹åºï¼Œåœ¨æ‰§è¡Œä¹‹å‰åº”ç”¨ä¼˜åŒ–è§„åˆ™ã€‚ å¯ä»¥åœ¨è¡¨å’ŒDataStream/ DataSetä¹‹é—´æ— ç¼è½¬æ¢ï¼Œå…è®¸åœ¨ç¨‹åºä¸­æ··åˆTable APIä»¥åŠDataStreamå’ŒDataSet APIã€‚ Flinkæä¾›çš„æœ€é«˜çº§æŠ½è±¡æ˜¯SQLã€‚ è¿™ç§æŠ½è±¡åœ¨è¯­ä¹‰å’Œè¡¨è¾¾æ–¹é¢ç±»ä¼¼äºŽTable APIï¼Œä½†æ˜¯å°†ç¨‹åºè¡¨ç¤ºä¸ºSQLæŸ¥è¯¢è¡¨è¾¾å¼ã€‚ SQLæŠ½è±¡ä¸ŽTable APIç´§å¯†äº¤äº’ï¼ŒSQLæŸ¥è¯¢å¯ä»¥åœ¨Table APIä¸­å®šä¹‰çš„è¡¨ä¸Šæ‰§è¡Œã€‚ ç¨‹åºå’Œæ•°æ®æµï¼ˆPrograms and Dataflowsï¼‰Flinkç¨‹åºçš„åŸºæœ¬æž„å»ºå—æ˜¯æµï¼ˆstreamsï¼‰å’Œè½¬æ¢ï¼ˆtransformationsï¼‰ã€‚ ï¼ˆè¯·æ³¨æ„ï¼ŒFlinkçš„DataSet APIä¸­ä½¿ç”¨çš„DataSetä¹Ÿæ˜¯å†…éƒ¨æµï¼Œç¨åŽä¼šè¯¦ç»†ä»‹ç»ã€‚ï¼‰ä»Žæ¦‚å¿µä¸Šè®²ï¼Œæµæ˜¯ï¼ˆå¯èƒ½æ°¸æ— æ­¢å¢ƒçš„ï¼‰æ•°æ®è®°å½•æµï¼Œè€Œè½¬æ¢æ˜¯å°†ä¸€ä¸ªæˆ–å¤šä¸ªæµä½œä¸ºè¾“å…¥ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ªæˆ–å¤šä¸ªè¾“å‡ºæµçš„æ“ä½œã€‚ æ‰§è¡Œæ—¶ï¼ŒFlinkç¨‹åºæ˜ å°„åˆ°æµæ•°æ®æµï¼ˆstreaming dataflowsï¼‰ï¼Œç”±æµ(streams)å’Œè½¬æ¢è¿ç®—ç¬¦(operators)ç»„æˆã€‚ æ¯ä¸ªæ•°æ®æµéƒ½ä»¥ä¸€ä¸ªæˆ–å¤šä¸ªæº(sources)å¼€å¤´ï¼Œå¹¶ä»¥ä¸€ä¸ªæˆ–å¤šä¸ªæŽ¥æ”¶å™¨(sinks)ç»“æŸã€‚ æ•°æ®æµç±»ä¼¼äºŽä»»æ„æœ‰å‘æ— çŽ¯å›¾ï¼ˆDAGs, Directed acyclic graphsï¼‰ã€‚ å°½ç®¡é€šè¿‡è¿­ä»£ç»“æž„å…è®¸ç‰¹æ®Šå½¢å¼çš„å¾ªçŽ¯ï¼Œä½†ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬å°†åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹å¯¹å…¶è¿›è¡ŒæŽ©é¥°ç®€åŒ–ã€‚ é€šå¸¸ï¼Œç¨‹åºä¸­çš„è½¬æ¢ä¸Žæ•°æ®æµä¸­çš„è¿ç®—ç¬¦ä¹‹é—´å­˜åœ¨ä¸€å¯¹ä¸€çš„å¯¹åº”å…³ç³»ã€‚ ä½†æ˜¯ï¼Œæœ‰æ—¶ä¸€ä¸ªè½¬æ¢å¯èƒ½åŒ…å«å¤šä¸ªè½¬æ¢è¿ç®—ç¬¦ã€‚ æºï¼ˆsorucesï¼‰å’ŒæŽ¥æ”¶å™¨ï¼ˆsinksï¼‰è¢«è®°å½•åœ¨æµè¿žæŽ¥å™¨å’Œæ‰¹å¤„ç†è¿žæŽ¥å™¨æ–‡æ¡£ä¸­ã€‚ è½¬æ¢ï¼ˆtransformationï¼‰è¢«è®°å½•åœ¨DataStreamè¿ç®—ç¬¦å’ŒDataSetè½¬æ¢ä¸­ã€‚ å¹¶è¡Œæ•°æ®æµFlinkä¸­çš„ç¨‹åºæœ¬è´¨ä¸Šæ˜¯å¹¶è¡Œï¼ˆparallelï¼‰å’Œåˆ†å¸ƒå¼çš„ï¼ˆdistributedï¼‰ã€‚ åœ¨æ‰§è¡ŒæœŸé—´ï¼Œæµå…·æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæµåˆ†åŒºï¼ˆstream partitionsï¼‰ï¼Œå¹¶ä¸”æ¯ä¸ªè¿ç®—ç¬¦å…·æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè¿ç®—å­ä»»åŠ¡(operator subtasks)ã€‚ è¿ç®—å­ä»»åŠ¡å½¼æ­¤ç‹¬ç«‹ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä¸åŒçš„çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œä¹Ÿå¯èƒ½æ˜¯åœ¨ä¸åŒçš„æœºå™¨æˆ–å®¹å™¨ä¸Šæ‰§è¡Œã€‚ è¿ç®—å­ä»»åŠ¡çš„æ•°é‡å°±æ˜¯æŸä¸ªç‰¹å®šè¿ç®—ç¬¦çš„å¹¶è¡Œåº¦ï¼ˆparallelismï¼‰ã€‚ æµçš„å¹¶è¡Œåº¦å§‹ç»ˆæ˜¯å…¶ç”Ÿæˆçš„è¿ç®—ç¬¦çš„å¹¶è¡Œåº¦ã€‚ åŒä¸€ç¨‹åºçš„ä¸åŒè¿ç®—ç¬¦å¯èƒ½å…·æœ‰ä¸åŒçš„å¹¶è¡Œçº§åˆ«ã€‚ æµå¯ä»¥ä»¥ä¸€å¯¹ä¸€ï¼ˆæˆ–è½¬å‘ï¼‰çš„æ¨¡å¼æˆ–ä»¥é‡æ–°åˆ†å‘çš„æ¨¡å¼åœ¨ä¸¤ä¸ªè¿ç®—ç¬¦ä¹‹é—´ä¼ è¾“æ•°æ®ï¼š ä¸€å¯¹ä¸€ï¼ˆOne-to-oneï¼‰æµï¼ˆä¾‹å¦‚ï¼Œåœ¨ä¸Šå›¾ä¸­çš„Sourceå’Œmap()è¿ç®—ç¬¦ä¹‹é—´ï¼‰ä¿ç•™å…ƒç´ çš„åˆ†åŒºå’ŒæŽ’åºã€‚è¿™æ„å‘³ç€map()è¿ç®—ç¬¦çš„subtask[1]çœ‹åˆ°çš„å…ƒç´ ä¸ŽSourceè¿ç®—ç¬¦çš„subtask[1]ç”Ÿæˆçš„å…ƒç´ é¡ºåºç›¸åŒã€‚ é‡æ–°åˆ†å‘ï¼ˆRedistributingï¼‰æµï¼ˆåœ¨ä¸Šé¢çš„map()å’ŒkeyBy/windowä¹‹é—´ï¼Œä»¥åŠkeyBy/windowå’ŒSinkä¹‹é—´ï¼‰é‡æ–°åˆ†é…æµçš„åˆ†åŒºã€‚æ¯ä¸ªè¿ç®—å­ä»»åŠ¡å°†æ•°æ®å‘é€åˆ°ä¸åŒçš„ç›®æ ‡å­ä»»åŠ¡ï¼Œå…·ä½“å–å†³äºŽæ‰€é€‰çš„è½¬æ¢ã€‚ç¤ºä¾‹æ˜¯keyBy()ï¼ˆé€šè¿‡æ•£åˆ—é”®é‡æ–°åˆ†åŒºï¼‰ï¼Œbroadcast()æˆ–rebalance()ï¼ˆéšæœºé‡æ–°åˆ†åŒºï¼‰ã€‚åœ¨é‡æ–°åˆ†å‘çš„äº¤æ¢ä¸­ï¼Œå…ƒç´ ä¹‹é—´çš„æŽ’åºä»…ä¿ç•™åœ¨æ¯å¯¹å‘é€å’ŒæŽ¥æ”¶å­ä»»åŠ¡ä¸­ï¼ˆä¾‹å¦‚ï¼Œmap()çš„subtask[1]å’ŒkeyBy/windowçš„subtask[2]ï¼‰ã€‚å› æ­¤ï¼Œåœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œä¿ç•™äº†æ¯ä¸ªé”®çš„æŽ’åºï¼Œä½†å¹¶è¡Œåº¦ç¡®å®žå¸¦æ¥äº†ä¸åŒé”®çš„èšåˆç»“æžœåˆ°è¾¾sinkçš„é¡ºåºçš„ä¸ç¡®å®šæ€§ã€‚ æœ‰å…³é…ç½®å’ŒæŽ§åˆ¶å¹¶è¡Œæ€§çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…å¹¶è¡Œæ‰§è¡Œçš„æ–‡æ¡£ã€‚ çª—å£ï¼ˆWindowsï¼‰èšåˆäº‹ä»¶ï¼ˆå¦‚ï¼Œcountsï¼Œsumsï¼‰åœ¨æµä¸Šçš„å·¥ä½œæ–¹å¼ä¸Žæ‰¹å¤„ç†æ–¹å¼ä¸åŒã€‚ ä¾‹å¦‚ï¼Œä¸å¯èƒ½è®¡ç®—æµä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œå› ä¸ºæµé€šå¸¸æ˜¯æ— é™çš„ï¼ˆæ— ç•Œï¼‰ã€‚ ç›¸åï¼Œæµä¸Šçš„èšåˆï¼ˆcountsï¼Œsumsç­‰ï¼‰ç”±çª—å£(windows)é™å®šï¼Œä¾‹å¦‚â€œåœ¨æœ€åŽ5åˆ†é’Ÿå†…è®¡æ•°â€æˆ–â€œæœ€åŽ100ä¸ªå…ƒç´ çš„æ€»å’Œâ€ã€‚ Windowså¯ä»¥æ˜¯æ—¶é—´é©±åŠ¨çš„ï¼ˆä¾‹å¦‚ï¼šæ¯30ç§’ï¼‰æˆ–æ•°æ®é©±åŠ¨ï¼ˆä¾‹å¦‚ï¼šæ¯100ä¸ªå…ƒç´ ï¼‰ã€‚ äººä»¬é€šå¸¸åŒºåˆ†ä¸åŒç±»åž‹çš„çª—å£ï¼Œä¾‹å¦‚ç¿»æ»šçª—å£(tumbling windows)ï¼ˆæ²¡æœ‰é‡å ï¼‰ï¼Œæ»‘åŠ¨çª—å£(sliding windows)ï¼ˆå…·æœ‰é‡å ï¼‰å’Œä¼šè¯çª—å£(session windows)ï¼ˆç”±ä¸æ´»åŠ¨é—´éš™æ‰“æ–­ï¼‰ã€‚ å¯ä»¥åœ¨æ­¤åšå®¢æ–‡ç« ä¸­æ‰¾åˆ°æ›´å¤šçª—å£ç¤ºä¾‹ã€‚ æ›´å¤šè¯¦ç»†ä¿¡æ¯å¯å‚é˜…çª—å£æ–‡æ¡£ã€‚ æ—¶é—´ï¼ˆTimeï¼‰å½“åœ¨æµç¨‹åºä¸­å¼•ç”¨æ—¶é—´ï¼ˆä¾‹å¦‚å®šä¹‰çª—å£ï¼‰æ—¶ï¼Œå¯ä»¥å‚è€ƒä¸åŒçš„æ—¶é—´æ¦‚å¿µï¼š äº‹ä»¶æ—¶é—´ï¼ˆEvent Timeï¼‰æ˜¯åˆ›å»ºäº‹ä»¶çš„æ—¶é—´ã€‚ å®ƒé€šå¸¸ç”±äº‹ä»¶ä¸­çš„æ—¶é—´æˆ³æè¿°ï¼Œä¾‹å¦‚ç”±ç”Ÿäº§ä¼ æ„Ÿå™¨æˆ–ç”Ÿäº§æœåŠ¡ç”Ÿæˆã€‚ Flinké€šè¿‡æ—¶é—´æˆ³åˆ†é…å™¨ï¼ˆtimestamp assignersï¼‰è®¿é—®äº‹ä»¶æ—¶é—´æˆ³ã€‚ æŽ¥æ”¶æ—¶é—´(Ingestion Time)æ˜¯äº‹ä»¶åœ¨æºæ“ä½œç¬¦å¤„è¿›å…¥Flinkæ•°æ®æµçš„æ—¶é—´ã€‚ å¤„ç†æ—¶é—´ï¼ˆProcessing Timeï¼‰æ˜¯æ¯ä¸ªæ“ä½œç¬¦æ‰§è¡ŒåŸºäºŽæ—¶é—´çš„æ“ä½œæ—¶çš„æœ¬åœ°æ—¶é—´ã€‚ äº‹ä»¶æ—¶é—´ï¼ŒæŽ¥æ”¶æ—¶é—´å’Œå¤„ç†æ—¶é—´ æœ‰å…³å¦‚ä½•å¤„ç†æ—¶é—´çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…äº‹ä»¶æ—¶é—´æ–‡æ¡£ã€‚ çŠ¶æ€è¿ç®—ï¼ˆStateful Operationsï¼‰è™½ç„¶æ•°æ®æµä¸­çš„è®¸å¤šè¿ç®—åªæ˜¯ä¸€æ¬¡æŸ¥çœ‹ä¸€ä¸ªå•ç‹¬çš„äº‹ä»¶ï¼ˆä¾‹å¦‚äº‹ä»¶è§£æžå™¨ï¼‰ï¼Œä½†æŸäº›è¿ç®—ä¼šè®°ä½å¤šä¸ªäº‹ä»¶ï¼ˆä¾‹å¦‚çª—å£è¿ç®—ç¬¦ï¼‰çš„ä¿¡æ¯ã€‚è¿™äº›æ“ä½œç§°ä¸ºstatefulã€‚ çŠ¶æ€è¿ç®—çš„çŠ¶æ€å¯ä»¥è¢«è®¤ä¸ºæ˜¯ç”±å†…åµŒçš„é”®/å€¼å­˜å‚¨æ¥ç»´æŠ¤ã€‚çŠ¶æ€å’ŒçŠ¶æ€è¿ç®—ç¬¦è¯»å–çš„æµè¢«ä¸¥æ ¼åœ°åˆ†åŒºå’Œåˆ†å‘ã€‚å› æ­¤ï¼Œåªæœ‰åœ¨keyBy()å‡½æ•°ä¹‹åŽæ‰èƒ½åœ¨keyed streamä¸Šè®¿é—®é”®/å€¼çŠ¶æ€ï¼Œå¹¶ä¸”é™åˆ¶ä¸ºä¸Žå½“å‰äº‹ä»¶çš„é”®ç›¸å…³è”çš„å€¼ã€‚å¯¹é½æµå’ŒçŠ¶æ€çš„é”®å¯ç¡®ä¿æ‰€æœ‰çŠ¶æ€æ›´æ–°éƒ½æ˜¯æœ¬åœ°æ“ä½œï¼Œä»Žè€Œä¿è¯ä¸€è‡´æ€§è€Œæ— éœ€äº‹åŠ¡å¼€é”€ã€‚å¯¹é½æ“ä½œè¿˜å…è®¸Flinké‡æ–°åˆ†é…çŠ¶æ€å¹¶é€æ˜Žåœ°è°ƒæ•´æµåˆ†åŒºã€‚ çŠ¶æ€å’Œåˆ†åŒº æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…æœ‰å…³çŠ¶æ€çš„æ–‡æ¡£ã€‚ å®¹é”™æ£€æŸ¥ç‚¹(Checkpoints for Fault Tolerance)Flinkä½¿ç”¨stream replayå’Œæ£€æŸ¥ç‚¹(checkpointng)çš„ç»„åˆæ¥å®žçŽ°å®¹é”™ã€‚æ£€æŸ¥ç‚¹ä¸Žæ¯ä¸ªè¾“å…¥æµä¸­çš„ç‰¹å®šç‚¹ä»¥åŠæ¯ä¸ªè¿ç®—ç¬¦çš„å¯¹åº”çŠ¶æ€ç›¸å…³ã€‚é€šè¿‡æ¢å¤è¿ç®—ç¬¦çš„çŠ¶æ€å¹¶ä»Žæ£€æŸ¥ç‚¹é‡æ–°æ‰§è¡Œï¼ˆreplayï¼‰äº‹ä»¶ï¼Œå¯ä»¥ä»Žæ£€æŸ¥ç‚¹æ¢å¤æµæ•°æ®æµå¹¶ä¿æŒä¸€è‡´æ€§ï¼ˆexactly-once processing semanticsï¼‰ã€‚ æ£€æŸ¥ç‚¹é—´éš”æ˜¯æ‰§è¡ŒæœŸé—´çš„å®¹é”™å’Œæ¢å¤æ—¶é—´ï¼ˆéœ€è¦é‡æ”¾çš„äº‹ä»¶çš„æ•°é‡ï¼‰ä¹‹é—´çš„æŠ˜è¡·æ–¹æ³•ã€‚ å®¹é”™çš„å†…éƒ¨æœºåˆ¶ä¸­çš„æè¿°æä¾›äº†æœ‰å…³Flinkå¦‚ä½•ç®¡ç†æ£€æŸ¥ç‚¹å’Œç›¸å…³ä¸»é¢˜çš„æ›´å¤šä¿¡æ¯ã€‚æœ‰å…³å¯ç”¨å’Œé…ç½®æ£€æŸ¥ç‚¹çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…æ£€æŸ¥ç‚¹APIæ–‡æ¡£ã€‚ æ‰¹å¤„ç†æµFlinkæ‰§è¡Œæ‰¹å¤„ç†ç¨‹åºä½œä¸ºæµç¨‹åºçš„ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œå³æµæ˜¯æœ‰ç•Œçš„ï¼ˆæœ‰é™æ•°é‡çš„å…ƒç´ ï¼‰ã€‚ DataSetåœ¨å†…éƒ¨è¢«è§†ä¸ºæ•°æ®æµã€‚å› æ­¤ï¼Œä¸Šè¿°æ¦‚å¿µä»¥ç›¸åŒçš„æ–¹å¼åº”ç”¨äºŽæ‰¹å¤„ç†ç¨‹åºï¼Œå¹¶ä¸”å®ƒä»¬é€‚ç”¨äºŽæµç¨‹åºï¼Œé™¤äº†å°‘æ•°ä¾‹å¤–ï¼š æ‰¹å¤„ç†ç¨‹åºçš„å®¹é”™ä¸ä½¿ç”¨æ£€æŸ¥ç‚¹ã€‚é€šè¿‡å®Œå…¨é‡æ–°æ‰§è¡Œæµæ¥è¿›è¡Œæ¢å¤ï¼Œå› ä¸ºè¾“å…¥æ˜¯æœ‰é™çš„ã€‚è¿™ä¼šä½¿èµ„æºæ›´å¤šåœ°ç”¨äºŽæ¢å¤ï¼Œä¸”ä½¿å¾—å¸¸è§„å¤„ç†èµ„æºæ¶ˆè€—æ›´å°‘ï¼Œå› ä¸ºå®ƒé¿å…äº†æ£€æŸ¥ç‚¹ã€‚ DataSet APIä¸­çš„æœ‰çŠ¶æ€æ“ä½œï¼ˆstateful operationsï¼‰ä½¿ç”¨ç®€åŒ–çš„å†…å­˜/æ ¸å¤–(in-memory/out-of-core)æ•°æ®ç»“æž„ï¼Œè€Œä¸æ˜¯é”®/å€¼ç´¢å¼•ã€‚ DataSet APIå¼•å…¥äº†ç‰¹æ®Šçš„åŒæ­¥ï¼ˆ superstep-basedï¼‰è¿­ä»£ï¼Œè¿™äº›è¿­ä»£åªèƒ½åœ¨æœ‰ç•Œæµä¸Šè¿›è¡Œã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹è¿­ä»£æ–‡æ¡£ã€‚]]></content>
      <categories>
        <category>Flink</category>
      </categories>
      <tags>
        <tag>Apache</tag>
        <tag>Flink</tag>
        <tag>Translate</tag>
        <tag>Big Data</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆ†äº«å­¦ä¹ å¤§æ•°æ®ç›¸å…³ç¬”è®°ï¼Œå¹¶é‚€è¯·æ‚¨åŠ å…¥]]></title>
    <url>%2F2019%2F02%2F26%2Fjoin-bigdata-group%2F</url>
    <content type="text"><![CDATA[ç”¨ Notion æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œä¹Ÿç§¯ç´¯äº†ä¸å°‘æŠ€æœ¯çŸ¥è¯†ç‚¹å’Œè¯»ä¹¦ç¬”è®°ã€‚è¿™é‡Œåˆ›å»ºäº†ã€Žå¤§æ•°æ®ã€ç›¸å…³çš„ WORKSPACEï¼Œå¸Œæœ›æœ‰å¿—åŒé“åˆçš„æœ‹å‹ä¸€èµ·åŠ å…¥ï¼Œäº’ç›¸å­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚ é¡¹ç›®åœ°å€www.notion.so/data365 é¡¹ç›®é‡Œç›®å‰ä¸»è¦åˆ†ä¸ºä¸¤å—ï¼š Inbox é¡¹ç›®æˆå‘˜å¯ä»¥æ·»åŠ ä»»ä½•å¤§æ•°æ®ç›¸å…³çš„ä¿¡æ¯ï¼ˆåŒ…æ‹¬ä½†ä¸å±€é™äºŽæž¶æž„ã€è°ƒä¼˜ã€åšå®¢ã€ç¬”è®°ç­‰ï¼‰ Big Data ç»è¿‡åˆ†ç±»ç¼–è¾‘åŽçš„å†…å®¹ï¼Œç›®æ ‡æ˜¯ä¿è¯å¯è¯»ï¼Œå¹¶ä¸”æœ‰ç”¨ è´¦å·æ³¨å†Œé¦–å…ˆä½ éœ€è¦æœ‰ Notion çš„è´¦å·ï¼Œå¦‚æžœæ²¡æœ‰å¯ä»¥å…ˆæ³¨å†Œ ï¼ˆæœ‰affï¼‰ Notion å…¥é—¨Guides &amp; FAQs å¼ºçƒˆå»ºè®®é˜…è¯»å®˜æ–¹å…¥é—¨æ–‡æ¡£ã€‚ åŠ å…¥ Workspaceæ¬¢è¿Žå„ä½å¯¹å¤§æ•°æ®æ„Ÿå…´è¶£çš„æœ‹å‹åŠ å…¥ï¼ŒåŠ å…¥æ–¹å¼ï¼š å¯ä»¥å‘é‚®ä»¶ç»™æˆ‘ ç”µæŠ¥æˆ‘ åŠ å…¥Slack ç¾¤ç»„ï¼Œ(é€šè¿‡ slack å¯ä»¥åŠæ—¶å¾—åˆ°é¡¹ç›®ç›¸å…³çš„é€šçŸ¥)ï¼š ç”µæŠ¥ç¾¤ï¼ˆæ²¡æ³•ç§ä¿¡æˆ‘çš„ï¼Œå¯ä»¥å…ˆåŠ ç¾¤ï¼Œç„¶åŽæˆ‘ç§ä¿¡ä½ ï¼‰ æƒé™è¯´æ˜ŽNotionæ”¯æŒå‡ ç§ä¸åŒçš„æƒé™ï¼Œåˆ†åˆ«å¦‚ä¸‹ï¼š é»˜è®¤ç¾¤ç»„é‡Œæˆå‘˜åœ¨ Inbox é‡Œæ‹¥æœ‰æƒé™ä¸ºã€ŽFull Accessã€ é»˜è®¤ç¾¤ç»„åœ¨ Big Data é‡Œçš„æƒé™ä¸ºã€ŽCan Commentã€ï¼Œä½ å¯ä»¥é˜…è¯»å’Œè¯„è®ºä½†ä¸èƒ½ç¼–è¾‘ã€‚ å¦‚æœ‰æ”¹åŠ¨ï¼Œå¯æŸ¥çœ‹æœ€æ–°ä¿¡æ¯]]></content>
      <categories>
        <category>BigData</category>
      </categories>
      <tags>
        <tag>Note</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CAPå®šç†ä¸ŽBASEç†è®º]]></title>
    <url>%2F2019%2F02%2F25%2Fcap-with-base%2F</url>
    <content type="text"><![CDATA[CAP: æ˜¯æŒ‡ Consistency(ä¸€è‡´æ€§), Availability(å¯ç”¨æ€§) å’Œ Partition Tolerance(å¯ç”¨æ€§).BASE: Basically Availableï¼ˆåŸºæœ¬å¯ç”¨ï¼‰, Soft stateï¼ˆè½¯çŠ¶æ€ï¼‰å’Œ Eventually consistentï¼ˆæœ€ç»ˆä¸€è‡´æ€§ï¼‰ CAP å®šç† Consistency ä¸€è‡´æ€§ï¼ˆèŠ‚ç‚¹æˆ–ç³»ç»Ÿä¸­æ‰€æœ‰å¯ç”¨æ•°æ®ï¼‰ åœ¨åˆ†å¸ƒå¼çŽ¯å¢ƒä¸‹ï¼Œä¸€è‡´æ€§æ˜¯æŒ‡æ•°æ®åœ¨å¤šä¸ªå‰¯æœ¬ä¹‹é—´èƒ½å¦ä¿æŒä¸€è‡´çš„ç‰¹æ€§ã€‚åœ¨ä¸€è‡´æ€§çš„éœ€æ±‚ä¸‹ï¼Œå½“ä¸€ä¸ªç³»ç»Ÿåœ¨æ•°æ®ä¸€è‡´çš„çŠ¶æ€ä¸‹æ‰§è¡Œæ›´æ–°æ“ä½œåŽï¼Œåº”è¯¥ä¿è¯ç³»ç»Ÿçš„æ•°æ®ä»ç„¶å¤„äºŽä¸€ç›´çš„çŠ¶æ€ã€‚ Availability å¯ç”¨æ€§ï¼ˆæ¯ä¸ªè¯·æ±‚ä¼šå¾—åˆ°ä¸€ä¸ªå›žåº”ï¼‰ å¯ç”¨æ€§æ˜¯æŒ‡ç³»ç»Ÿæä¾›çš„æœåŠ¡å¿…é¡»ä¸€ç›´å¤„äºŽå¯ç”¨çš„çŠ¶æ€ï¼Œå¯¹äºŽç”¨æˆ·çš„æ¯ä¸€ä¸ªæ“ä½œè¯·æ±‚æ€»æ˜¯èƒ½å¤Ÿåœ¨æœ‰é™çš„æ—¶é—´å†…è¿”å›žç»“æžœã€‚è¿™é‡Œçš„é‡ç‚¹æ˜¯â€æœ‰é™æ—¶é—´å†…â€å’Œâ€è¿”å›žç»“æžœâ€ã€‚ Partition Tolerance åˆ†åŒºå®¹é”™æ€§ï¼ˆç³»ç»Ÿè¿ä½œå°†ä¸ç®¡å¯ç”¨æ€§ã€åˆ†åŒºã€æ•°æ®æˆ–é€šä¿¡çš„ä¸¢å¤±ï¼‰ åˆ†åŒºå®¹é”™æ€§çº¦æŸäº†ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿå…·æœ‰å¦‚ä¸‹ç‰¹æ€§ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿåœ¨é‡åˆ°ä»»ä½•ç½‘ç»œåˆ†åŒºæ•…éšœçš„æ—¶å€™ï¼Œä»ç„¶éœ€è¦èƒ½å¤Ÿä¿è¯å¯¹å¤–æä¾›æ»¡è¶³ä¸€è‡´æ€§å’Œå¯ç”¨æ€§çš„æœåŠ¡ï¼Œé™¤éžæ˜¯æ•´ä¸ªç½‘ç»œçŽ¯å¢ƒéƒ½å‘ç”Ÿäº†æ•…éšœã€‚ BASE Basically Availableï¼ˆåŸºæœ¬å¯ç”¨ï¼‰ åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨å‡ºçŽ°ä¸å¯é¢„çŸ¥æ•…éšœçš„æ—¶å€™ï¼Œå…è®¸æŸå¤±éƒ¨åˆ†å¯ç”¨æ€§ Soft stateï¼ˆè½¯çŠ¶æ€ï¼‰ è½¯çŠ¶æ€ä¹Ÿç§°ä¸ºå¼±çŠ¶æ€ï¼Œå’Œç¡¬çŠ¶æ€ç›¸å¯¹ï¼Œæ˜¯æŒ‡å…è®¸ç³»ç»Ÿä¸­çš„æ•°æ®å­˜åœ¨ä¸­é—´çŠ¶æ€ï¼Œå¹¶è®¤ä¸ºè¯¥ä¸­é—´çŠ¶æ€çš„å­˜åœ¨ä¸ä¼šå½±å“ç³»ç»Ÿçš„æ•´ä½“å¯ç”¨æ€§ï¼Œå³å…è®¸ç³»ç»Ÿåœ¨ä¸åŒèŠ‚ç‚¹çš„æ•°æ®å‰¯æœ¬ä¹‹é—´è¿›è¡Œæ•°æ®å¬ä¸çš„è¿‡ç¨‹å­˜åœ¨å»¶æ—¶ã€‚ Eventually consistentï¼ˆæœ€ç»ˆä¸€è‡´æ€§ï¼‰ æœ€ç»ˆä¸€è‡´æ€§å¼ºè°ƒçš„æ˜¯ç³»ç»Ÿä¸­æ‰€æœ‰çš„æ•°æ®å‰¯æœ¬ï¼Œåœ¨ç»è¿‡ä¸€æ®µæ—¶é—´çš„åŒæ­¥åŽï¼Œæœ€ç»ˆèƒ½å¤Ÿè¾¾åˆ°ä¸€ä¸ªä¸€è‡´çš„çŠ¶æ€ã€‚å› æ­¤ï¼Œæœ€ç»ˆä¸€è‡´æ€§çš„æœ¬è´¨æ˜¯éœ€è¦ç³»ç»Ÿä¿è¯æœ€ç»ˆæ•°æ®èƒ½å¤Ÿè¾¾åˆ°ä¸€è‡´ï¼Œè€Œä¸éœ€è¦å®žæ—¶ä¿è¯ç³»ç»Ÿæ•°æ®çš„å¼ºä¸€è‡´æ€§ CAP ä¸Ž BASE å…³ç³»ä¸ºï¼š åœ¨åˆ†å¸ƒå¼çš„æ•°æ®ç³»ç»Ÿä¸­ï¼Œä½ èƒ½ä¿è¯ä¸‹é¢ä¸‰ä¸ªè¦æ±‚ä¸­çš„ä¸¤ä¸ªï¼šä¸€è‡´æ€§ï¼Œå¯ç”¨æ€§ï¼Œä»¥åŠåˆ†åŒºå®¹é”™æ€§ã€‚åœ¨æ­¤æ¨¡åž‹ä¸Šæž„å»ºçš„ç³»ç»Ÿå°†ç§°ä½œ BASE(åŸºæœ¬ä¸Šå¯ç”¨è½¯çŠ¶æ€æœ€ç»ˆä¸€è‡´)æž¶æž„ï¼Œä¸æ»¡è¶³ ACID æ€§è´¨ã€‚ ACID Atomicity åŽŸå­æ€§ ä¸€ä¸ªäº‹åŠ¡å¿…é¡»è¢«è§†ä¸ºä¸€ä¸ªä¸å¯åˆ†å‰²çš„æœ€å°å·¥ä½œå•å…ƒã€‚ Consistency ä¸€è‡´æ€§ æ•°æ®åº“æ€»æ˜¯ä»Žä¸€ä¸ªä¸€è‡´æ€§çš„çŠ¶æ€è½¬æ¢åˆ°å¦å¤–ä¸€ä¸ªä¸€è‡´æ€§çš„çŠ¶æ€ã€‚ Isolation éš”ç¦»æ€§ é€šå¸¸æ¥è¯´ï¼Œä¸€ä¸ªäº‹åŠ¡æ‰€åšçš„ä¿®æ”¹åœ¨æœ€ç»ˆæäº¤ä¹‹å‰ï¼Œå¯¹å…¶ä»–äº‹ç‰©æ˜¯ä¸å¯è§çš„ã€‚ Durability æŒä¹…æ€§ ä¸€æ—¦äº‹åŠ¡æäº¤ï¼Œåˆ™å…¶æ‰€åšçš„ä¿®æ”¹å°±ä¼šæ°¸ä¹…ä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚ ä¸¾ä¾‹ HBaseã€HyperTable å’Œ BigTableï¼Œæ»¡è¶³ CP æ€§è´¨ã€‚ Cassandraã€Dynamo å’Œ Voldemortï¼Œæ»¡è¶³ APæ€§è´¨ã€‚ Referenceï¼š ã€Šé«˜æ€§èƒ½MySQLã€‹ ã€Šå¤§æ•°æ®ä¸Žæ•°æ®ä»“åº“ã€‹ CAPåŽŸåˆ™(CAPå®šç†)ã€BASEç†è®º - duanxz - åšå®¢å›­ CAPå’ŒBASEç†è®ºçš„å…³ç³» - leoooooçš„ä¸ªäººç©ºé—´ - å¼€æºä¸­å›½]]></content>
      <categories>
        <category>NoSQL</category>
      </categories>
      <tags>
        <tag>NoSQL</tag>
        <tag>CAP</tag>
        <tag>BASE</tag>
        <tag>ACID</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€ŠApache Hive Cookbookã€‹è¯»ä¹¦ç¬”è®°]]></title>
    <url>%2F2019%2F02%2F19%2Fnote-hive-cookbook%2F</url>
    <content type="text"><![CDATA[æœ‰ SQL åŸºç¡€çš„è¯ï¼Œå·®ä¸å¤šä¸€å¤©å¯ä»¥çœ‹å®Œã€‚è¿™é‡ŒæŠŠæˆ‘çœ‹è¿™æœ¬ä¹¦åšçš„ç¬”è®°åˆ†äº«ä¸€ä¸‹ï¼ˆä»Ž Notion é‡Œè¿ç§»å‡ºæ¥ï¼‰ Developing HiveDeploying Hive Metastore The Hive table and database definitions and mapping to the data in HDFS is stored in a metastore. A metastore is a central repository for Hive metadata. Consists two main components: Services to which the client connects and queries the metastore A backing database to store the metadata Configure: An embedded metastore A local metastore A remote metastore HIVE Service JVM Services in HiveHiveServer2 HiveServer2 is an enhancement of HiveServer provided in earlier versions of Hive.HiveServerâ€™s limitations of concurrency and authentication is resolved in HiveServer2. HiveServer2 is based on Thrift RPC.It supports multiple types of clients, including JDBC and ODBC. HiveServer2 High Availability ZooKeeper Hive metastore service In Hive, the data is stored in HDFS and the table, database, schema, and the HQL definitions are stored in a metastore. The metastore could be any RDBMS database, such as MYSQL or Oracle. Hive creates a database and a set of tables in metastore to store HiveQL definitions. HueUnderstanding the Hive Data ModelIntruduction Data types Primitive data types Numeric data types String data types Date/Time data type Miscellaneous data types Boolean Binary Complex data types STRUCT MAP ARRAY Partitioning Partitioning in Hive is used to increase query performance. Mnaged table In a managed table, if you delete a talbe, then the data of that table will also get deleted. Similarly, if you delete a partition, then the data of that partition will also get deleted. CREATE TABLE customer(id STRING, name STRING, gender STRING) PARTITIONED BY (country STRING, state STRING); By setting the value of hive.mapred.mode to strict, it will prevent running risky queries. Loading data in a managed partitioned table Static Partitioning Dynamic Partitioning External table Patitioning external tables works in the same way as in managed tables. Except this in the external table, when you delete a partition, the data file doesnâ€™t get deleted. Bucketing Bucketing is a technique that allows you to decompose your data into more manageable parts, that is, fix the number of buckets. Usually, partitioning provides a way of segregating the data of a Hive table into multiple files or directories. Partitioning doesnâ€™t perform well if there is a large number of partitions. Bucketing concept is based on the hashing principle, where same type of keys are always sent to the same bucket. Bucket number = hash_function(bucketing_column) mod num_buckets set hive.enforce.bucketing=true; Two bullet points: In partitioning, a column defined as a partitioned column is not included in a schema columns of a Hive table. But in bucketing, a column defined as a bucketed column is included in the schema columns of the Hive table. We cannot use the LOAD DATA statement to load the data into the bucketed table as we do in partitioned table. Rather, we have to use the INSERT statements to insert data by selecting data from some other table. Hive Data Definition Language(DDL)Creating tables The LIKE clause in a create table command creates a copy of an existing table with a different name and without the data. It just creates a structure like that of an existing table without copying its data. Parameters: [TEMPORARY] [EXTERNAL] [IF NOT EXISTS] [PARTITIONED BY] [CLUSTERED BY] [SKEWED BY]: è§£å†³æ•°æ®å€¾æ–œé—®é¢˜ï¼Œè¾ƒå¤šçš„å€¼è¢«åˆ†éš”æˆå¤šä¸ªæ–‡ä»¶ï¼Œå…¶ä½™çš„å€¼åˆ†åˆ°å…¶ä»–æ–‡ä»¶ä¸­ã€‚ â€¦ Creating views A view is a virtual table that acts as a window to the dat for the underlying table commonly known as the base table. It consists of rows and columns but no physical data. So when a view is accessed, the underlying base table is queried for the output. HCatalog HCatalog is a storage management tool that enables framworks other than Hive to leverage a data model to read and write data. HCatalog tables provide an abstraction on the data format in HDFS and allow frameworks such as PIG and MapReduce to use the data without being concerned about the data format, such as RC, ORC, and text files. HCatInputFormat and HCatOutputFormat, which are the implementations of Hadoop InputFormat and OutputFormat, are the interfaces provided to PIG and MapReduce. WebHCat WebHCat, formerly called Templeton, allow access to the HCatalog service using REST APIs. Hive Data Manipulation Language(DML)Hive Extensibility FeaturesSerialization and deserialization formats and data types LazySimpleSerDe, the default SerDes format of Hive. RegexSerDe AvroSerDe OrcSerDe ParquetHiveSerDe JSONSerDe CSVSerDe Exploring views A view is treated as a table in Hive Exploring indexes Indexes are useful for increasing the performance of frequent queries based on certain columns. Hive partitioning Static partitioning Dynamic partitioning Creating buckets in HiveCREATE table sales_buck (id int, fname string, ...) clustered by (id) into 50 buckets row format delimited fields terminated by &apos;\t&apos;; set hive.enforce.bucketing=true; insert into table sales_buck select * from sales; Analytics functions in Hivesee page 122 RANK It is similar to ROW_NUMBER, but the equal rows are ranked with the same number. DENSE_RANK In a normal RANK function, we see a gap between the numbers in rows. DENSE_RANK is a function with no gap. ROW_NUMBER This function will provide a unique number to each row in resultset based on the ORDER BY clause within the PARTITION. PERCENT_RANK It is very similar to the CUME_DIST function. It returns a value from 0 to 1 inclusive. CUME_DIST(Cumulative distribution) It computes the relative postion of a column value in a group. NTILE NTILE distributes the number of rows in a partition into a certain number of groups. Windowing in Hivesee page 126 Windowing in Hive allows an analyst to creagte a window of data to operate aggregation and other analytical functions, such as LEAD and LAG. Partition specification It includes a column reference from the table. It could not be any aggregation or other window specification. Order specification It comprises a combination of one or more columns. Handling NULLs There is no support for Nulls first or last specification. In Hive, Nulls are returned first. Window frame A frame has a start boundary and an optional end boundary: Frame Type ROW RANGE Frame boundary Effective window frames Source name for window definition LEAD The LEAD function is used to return the data from the next set of rows. LAG The LAG function is used to return the data from the previous set of rows. FIRST_VALUE LAST_VALUE File formats TEXTFILE, default format SEQUENCEFILE If you want to save disk storage while keeping large datasets RCFILE Also known as Record Columnar File, stores data in a compressed format on the disk. It provides the following features of storage and processing optimization: Fast storage of data Optimized storage utilization Better query processing The RCFILE format flattens the data in terms of both rows and columns. If you need a certain column for analytics, it would not scan the complete data; instead, it would return the required columns. ORC Optimized Row Columnar This is a highly efficient way of storing and processing data in Hive. Data stored in the ORC format improves performance in reading, writing, and processing data with Hive. PARQUET This is a column-oriented storage format that is efficient at querying particular columns in the table. AVRO Joins and Join OptimizationUsing a skew joinA skew join is used when there is a table with skew data in the joining column. A skew table is a table that is having values that are present in large numbers in the table compared to other data. Skew data is stored in a separate file while the rest of the data is stored in a separate file. If there is a need to perform a join on a column of a table that is appearing quite often in the table, the data for that particular column will go to a single reducer, which will become a bottleneck while performing the join. To reduce this, a skew join is used. Statics in HiveAnalyzeANALYZE TABLE sales COMPUTE STATISTICS; Functions in HiveHive TuningEnabling predicate pushdown optimiztions in HivePredicate pushdown is a traditional RDBMS term, whereas in Hive, it works as predicate pushup. hvie.optimize.ppd=true; Optimizations to reduce the number of mapSampling Sampling in Hive is a way to wirte queries on a small chunk of data instead of the entire table. Hive SecurityHive Integration with Other FrameworksWorking with Apache SparkWorking with AccumuloWorking with HBase (Google Drill)]]></content>
      <categories>
        <category>Hive</category>
      </categories>
      <tags>
        <tag>Note</tag>
        <tag>Hive</tag>
        <tag>Big Data</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GraphQLç®€ä»‹]]></title>
    <url>%2F2018%2F06%2F10%2Fgraphql%2F</url>
    <content type="text"><![CDATA[GraphQLä¼šæ˜¯å–ä»£REST APIçš„ä¸‹ä¸€ä»£æ ‡å‡†ä¹ˆï¼Ÿ ä»€ä¹ˆæ˜¯GraphQL GraphQLæ˜¯æ¯”RESTæ›´é«˜æ•ˆã€å¼ºå¤§å’Œçµæ´»çš„æ–°ä¸€ä»£APIæ ‡å‡†ã€‚Facebookå¼€å‘äº†GraphQLå¹¶ä¸”å°†å…¶å¼€æºï¼Œç›®å‰å…¶ç”±ä¸€å¤§ç¾¤æ¥è‡ªå…¨çƒå„åœ°çš„å…¬å¸å’Œä¸ªäººç»´æŠ¤ã€‚ æ³¨æ„åˆ°GraphQLæ˜¯APIæ ‡å‡†ï¼Œä¸è¦çœ‹åˆ°QLç»“å°¾å°±ä»¥ä¸ºå…¶æ˜¯ä¸€ç§æ•°æ®åº“æŠ€æœ¯ã€‚ æ¯”RESTæ›´çµæ´»çš„ä¸€ç§é€‰æ‹©RESTæ˜¯ç›®å‰æ¯”è¾ƒæµè¡Œçš„ä¸€ç§æš´éœ²æœåŠ¡ç«¯æ•°æ®çš„å¸¸è§æ–¹å¼ï¼Œå…¶ç®€åŒ–äº†å®¢æˆ·ç«¯å°¤å…¶æ˜¯ç§»åŠ¨ç«¯å’ŒæœåŠ¡å™¨äº¤äº’çš„æµç¨‹ã€‚ä½†æ˜¯éšç€ä¸šåŠ¡å˜å¾—å¤æ‚ï¼Œæœ‰äº›æƒ…å†µå˜å¾—æ£˜æ‰‹ï¼š ç§»åŠ¨ç«¯æ•°é‡çš„å¢žå¤šï¼Œå¯¹æ•°æ®çš„æ•ˆçŽ‡è¦æ±‚å˜é«˜ç§»åŠ¨ç«¯å’ŒPCç«¯ç›¸æ¯”ï¼Œæ˜¯éœ€è¦æé«˜å¯¹æ•°æ®èŽ·å–çš„æ•ˆçŽ‡çš„ï¼Œè¿™ä¸ªæ•ˆçŽ‡å°±æ˜¯è¯´è¦å‡å°‘ç½‘ç»œè¯·æ±‚ã€è¦å‡å°‘æ— ç”¨æ•°æ®çš„ä¼ è¾“ã€‚ åº”å¯¹å¤æ‚çš„å‰ç«¯æ¡†æž¶å’Œå¹³å°çŽ°åœ¨çš„æƒ…å†µæ˜¯ä»…ç»´æŠ¤ä¸€å¥—APIæ¥åº”å¯¹ä¸åŒæ¡†æž¶å’Œå¹³å°çš„è¯·æ±‚ã€‚PCç«¯ä¸€ä¸ªé¡µé¢æ¯”ç§»åŠ¨ç«¯ä¸€ä¸ªé¡µé¢å±•ç¤ºçš„å†…å®¹è¦å¤šå¾ˆå¤šï¼Œä¹‹å‰åŽç«¯æä¾›ç»™PCç«¯çš„APIå¦‚æžœç›´æŽ¥æä¾›ç»™ç§»åŠ¨ç«¯æ¥ä½¿ç”¨åŠ¿å¿…é€ æˆèµ„æºæµªè´¹ã€‚æ‰€ä»¥ç§»åŠ¨ç«¯çš„äººä¼šåŽ»æ‰¾åŽç«¯çš„äººå¹²ä¸€æž¶ï¼Œç»“æžœè¦ä¹ˆæ˜¯åŽç«¯å†ç»™ç§»åŠ¨ç«¯å•ç‹¬å†™ä¸€å¥—APIï¼Œè¦ä¹ˆå°±æ˜¯ç§»åŠ¨ç«¯å¿å—ç€APIè¯·æ±‚è¿”å›žæ•°æ®ä¸­å­˜åœ¨å¤§é‡å†—ä½™çš„æ•°æ®ã€‚ éœ€è¦æ›´å¿«é€Ÿåœ°è¿­ä»£æ›´æ–°äº’è”ç½‘æ—¶ä»£æœ€å¤§çš„ç‰¹è‰²é™¤äº†åŠ ç­ä¹Ÿè®¸å°±æ˜¯å¿«äº†ã€‚å¥½å¤šå…¬å¸åœ¨å–Šç€å°æ­¥å¿«è·‘ã€å¿«é€Ÿè¯•é”™ï¼Œæ¯•ç«Ÿå¸‚åœºä¸ç­‰äººã€‚ç„¶è€ŒRESTæ ‡å‡†çš„APIä¼¼ä¹Žå¾ˆéš¾å¿«é€Ÿåœ°è·Ÿä¸Šè¿™å¿«è·‘çš„èŠ‚å¥ã€‚ä¹Ÿè®¸ä¸€ä¸ªAPIåˆšå‡ºæ¥ï¼Œäº§å“é‚£è¾¹å·²ç»æ”¹äº†åŽŸåž‹ï¼Œç•Œé¢é‡æ–°è®¾è®¡äº†ã€‚è¿™æ—¶å€™å°±è¦éº»çƒ¦åŽç«¯åŒå­¦åŠ ä¸ªç­æŠŠæŽ¥å£æ”¹ä¸€ä¸‹å§ã€‚ è°åœ¨ç”¨GraphQLä¸€ä¸ªäº§å“çš„æµè¡Œï¼Œè‚¯å®šæ˜¯è§£å†³äº†ç›®å‰çš„æŸäº›ç—›ç‚¹ã€‚è™½ç„¶GraqhQLç›®å‰åœ¨å›½å†…è¿˜ä¸ç®—æµè¡Œï¼Œå¯æ˜¯åœ¨ç¾Žåˆ©åšå·²ç»æœ‰ä¸å°‘å·¨å¤´åœ¨ä½¿ç”¨äº†ï¼š GraphQL vs RESTæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¯¹äºŽä¸åŒAPIæ ‡å‡†ä¸‹ï¼Œä»ŽæœåŠ¡ç«¯èŽ·å–æ•°æ®çš„åŒºåˆ«ã€‚æ¯”å¦‚åœ¨REST APIæ ‡å‡†ä¸‹ï¼Œæœ‰ä¸‰ä¸ªæŽ¥å£ï¼š /users/è¯¥æŽ¥å£è¿”å›žæŸç”¨æˆ·åŸºæœ¬ä¿¡æ¯ /users//postsè¯¥æŽ¥å£è¿”å›žæŸç”¨æˆ·æ‰€æœ‰çš„æ–‡ç«  /users//followersè¯¥æŽ¥å£è¿”å›žæŸç”¨æˆ·æ‰€æœ‰çš„å…³æ³¨è€… å¦‚å›¾æ‰€ç¤ºï¼Œè¦é€šè¿‡ä¸‰ä¸ªä¸åŒçš„è¯·æ±‚æ‰èƒ½èŽ·å¾—æŸç”¨æˆ·åŠå…¶æ–‡ç« å’Œå…³æ³¨è€…çš„ä¿¡æ¯ï¼Œå…¶ä¸­è¿˜å­˜åœ¨å¾ˆå¤šä¸éœ€è¦çš„ä¿¡æ¯ã€‚ å†çœ‹ä¸€ä¸‹GraphQL APIçš„å®žçŽ°ï¼šå®¢æˆ·ç«¯å£°æ˜Žè‡ªå·±æƒ³è¦çš„ä¿¡æ¯ï¼Œç„¶åŽæœåŠ¡ç«¯æ ¹æ®è¯·æ±‚è¿”å›žç›¸åº”çš„æ•°æ® ç›®å‰å¯è§çš„ä¼˜ç‚¹ï¼š é¿å…äº†REST APIä¸­å¸¸è§çš„ä¿¡æ¯è¿‡å¤šæˆ–è¿‡å°‘çš„é—®é¢˜ä¿¡æ¯è¿‡å¤šæ˜¯æŒ‡ï¼ŒæŽ¥å£ä¸­æ€»ä¼šå­˜åœ¨å®¢æˆ·ç«¯ä¸éœ€è¦çš„ä¿¡æ¯ï¼Œä¿¡æ¯è¿‡å°‘æ˜¯æŒ‡å•æ¡æŽ¥å£æ— æ³•æ»¡è¶³å®¢æˆ·ç«¯éœ€æ±‚ï¼Œéœ€è¦è¯·æ±‚å¤šä¸ªæŽ¥å£æ‰èƒ½æ»¡è¶³éœ€è¦ å‰ç«¯å¯ä»¥å¿«é€Ÿè¿­ä»£åœ¨REST APIä¸­ï¼Œä¸€èˆ¬éƒ½æ˜¯åŽç«¯å®šä¹‰å¥½äº†APIï¼Œè¿”å›žå›ºå®šçš„æ•°æ®æ ¼å¼ã€‚å½“å‰ç«¯ä¸šåŠ¡æˆ–éœ€æ±‚å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒåŽç«¯å¾ˆéš¾è·Ÿä¸Šå˜åŠ¨çš„èŠ‚å¥ã€‚å¦‚ä»Šï¼Œä¸šåŠ¡å˜åŒ–å·²ç»éš¾ä»¥é¿å…ï¼Œæ‰€ä»¥å½“å‰ç«¯å’ŒåŽç«¯éƒ½è¦ç›¸åº”åœ°ä½œå‡ºæ”¹åŠ¨ï¼Œè¿™æ ·æ•ˆçŽ‡åŠ¿å¿…é™ä½Žã€‚å°±æˆ‘ä»¬å…¬å¸ä¸šåŠ¡æ¥è®²ï¼Œå¾ˆå¤šæƒ…å†µä¸‹ï¼Œå‰ç«¯ä¸€ä¸¤å¤©çš„æ”¹åŠ¨å¦‚æžœå†æ‹‰ä¸ŠåŽç«¯ï¼Œäººå¤šè‚¯å®šè¦å¼€ä¼šå†åŠ ä¸Šæ²Ÿé€šæˆæœ¬çš„é—®é¢˜ï¼Œè¿™ä¸ªéœ€æ±‚æ²¡ä¸ªä¸€å‘¨ä¸¤å‘¨å¾ˆéš¾æžå®šã€‚è®¾æƒ³ä¸€ä¸‹ï¼Œå¦‚æžœåœ¨GraphQLæ ‡å‡†ä¸‹ï¼Œé™¤éžå¤§çš„æ”¹ç‰ˆï¼ŒåŽç«¯åŸºæœ¬ä¸ç”¨å‡ºäººåŠ›æ¥è·Ÿç€ä¸€èµ·éœ€æ±‚è¯„å®¡ï¼Œå‰ç«¯è‡ªå·±å®šä¹‰æŸ¥è¯¢çš„å†…å®¹å°±æžå®šäº†ã€‚ æ›´æ·±å±‚æ¬¡åœ°è¿›è¡Œåˆ†æžå½“å®¢æˆ·ç«¯å¯ä»¥é€‰æ‹©è‡ªå·±æƒ³è¯·æ±‚æ•°æ®çš„å†…å®¹æ—¶ï¼Œè¿™æ—¶å€™å°±å¯ä»¥åˆ†æžå‡ºå“ªäº›ä¿¡æ¯æ˜¯ç”¨æˆ·æ„Ÿå…´è¶£çš„ï¼Œä¹Ÿå¯ä»¥æ›´æ·±å±‚æ¬¡åœ°åˆ†æžçŽ°æœ‰æ•°æ®æ˜¯å¦‚ä½•è¢«åº”ç”¨çš„ã€‚æ­¤å¤–ï¼Œä¹Ÿå¯ä»¥åˆ†æžå‡ºå“ªäº›ä¿¡æ¯ç”¨æˆ·ä¸å†æ„Ÿå…´è¶£äº†ã€‚ Schema &amp; Typeç³»ç»Ÿçš„ä¼˜ç‚¹GraphQLä½¿ç”¨ä¸€ç§å¼ºç±»åž‹ç³»ç»Ÿæ¥å®šä¹‰APIï¼Œæ‰€æœ‰çš„APIéƒ½é€šè¿‡GraphQLæ¨¡å¼å®šä¹‰è¯­è¨€ï¼ˆSchema Definition Languageï¼ŒSDLï¼‰æ¥æš´éœ²ç±»åž‹æ•°æ®ã€‚è€Œè¿™ä¸ªæ¨¡å¼å°±æ˜¯æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¹‹é—´çš„åè®®ï¼Œé€šè¿‡æ­¤æ¨¡å¼æˆ‘ä»¬å¯ä»¥çŸ¥é“æœåŠ¡ç«¯å¯ä»¥æä¾›å“ªäº›æ•°æ®ï¼Œè€Œå®¢æˆ·ç«¯åˆå¯ä»¥èŽ·å–å“ªäº›æ•°æ®ã€‚ ä¸€æ—¦æ¨¡å¼å®šä¹‰å¥½äº†ï¼Œå‰åŽç«¯å°±å¯ä»¥æ®æ­¤ç‹¬ç«‹è¿›è¡Œå¼€å‘äº†ã€‚ æ ¸å¿ƒæ¦‚å¿µæ¨¡å¼å®šä¹‰è¯­è¨€ï¼ˆThe Schema Definition Languageï¼ŒSDLï¼‰æ¯”å¦‚è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªPersonç±»åž‹ï¼š 1234type Person &#123; name: String! age: Int!&#125; Personç±»åž‹åˆä¸¤ä¸ªå­—æ®µï¼Œnameå’Œageï¼Œåˆ†åˆ«ä¸ºStringå’ŒIntç±»åž‹ã€‚!è¡¨ç¤ºè¯¥å­—æ®µæ˜¯å¿…é¡»çš„ã€‚ åŒæ—¶ï¼Œä¸¤ç§ç±»åž‹ä¹‹é—´å¯ä»¥æœ‰å…³è”ï¼Œæ¯”å¦‚Personå¯ä»¥å’ŒPostå…³è”ï¼š 1234type Post &#123; title: String! author: Person!&#125; ç›¸åº”çš„ï¼ŒPersonä¸­ä¹Ÿå¯ä»¥å…³è”Postç±»åž‹ï¼š 12345type Person &#123; name: String! age: Int! posts: [Post!]!&#125; å…¶ä¸­Personå’ŒPostæ˜¯ä¸€å¯¹å¤šçš„å…³ç³» é€šè¿‡QueriesèŽ·å–æ•°æ®åœ¨è¯·æ±‚æ•°æ®ä¹‹å‰ï¼Œä½ éœ€è¦GraphQL-IDEæ¥æ¨¡æ‹Ÿä¸‹é¢çš„è¯·æ±‚ï¼Œæœ‰Webç‰ˆ ä¹Ÿæœ‰å®¢æˆ·ç«¯ å¦‚æžœä½ é€‰æ‹©äº†å®¢æˆ·ç«¯ï¼Œåœ¨å¯åŠ¨é¡µé¢æ‰“å¼€è¿™ä¸ªåœ°å€ï¼š https://api.graph.cool/simple/v1/cjhvs1vtt4ahm012322aexl4n/ è®©æˆ‘ä»¬æ¥ä¸€ä¸ªæœ€ç®€å•çš„è¯·æ±‚ï¼š 12345&#123; allPersons &#123; name &#125;&#125; å¯ä»¥çœ‹åˆ°è¿”å›žçš„ç»“æžœï¼š 123456789101112131415161718192021&#123; &quot;data&quot;: &#123; &quot;allPersons&quot;: [ &#123; &quot;name&quot;: &quot;Johnny&quot; &#125;, &#123; &quot;name&quot;: &quot;Sarah&quot; &#125;, &#123; &quot;name&quot;: &quot;Alice&quot; &#125;, &#123; &quot;name&quot;: &quot;Bob&quot; &#125;, &#123; &quot;name&quot;: &quot;Alice&quot; &#125; ] &#125;&#125; å¦‚æžœæˆ‘ä»¬æƒ³åœ¨ç»“æžœé‡Œå¸¦ä¸Šageçš„è¯ï¼š 123456&#123; allPersons &#123; name age &#125;&#125; å¸¦å‚è¯·æ±‚åŒæ ·æ²¡é—®é¢˜ï¼Œå¯ä»¥çœ‹åˆ°åªè¿”å›žäº†æœ€åŽä¸¤æ¡æ•°æ®ï¼š ä¿®æ”¹æ•°æ®è¿™é‡Œè¯´çš„ä¿®æ”¹åŒ…å«ä¸‰ç§æ“ä½œï¼š åˆ›å»ºæ•°æ® æ›´æ–°æ•°æ® åˆ é™¤æ•°æ® è¿™é‡Œä»¥åˆ›å»ºæ•°æ®ä¸ºä¾‹ 123456mutation &#123; createPerson(name: &quot;Bob&quot;, age: 36) &#123; name age &#125;&#125; è®¢é˜…å®žæ—¶æ›´æ–°GraphQLæä¾›äº†subscriptionsçš„æ¦‚å¿µæ¥æä¾›ç»™å®¢æˆ·ç«¯è®¢é˜…äº‹ä»¶ã€‚å½“å®¢æˆ·ç«¯è®¢é˜…æŸäº‹ä»¶åŽï¼Œå…¶å°†ä¼šå’ŒæœåŠ¡ç«¯ä¿æŒä¸€ä¸ªç¨³å®šçš„é“¾æŽ¥ã€‚å½“ç‰¹å®šäº‹ä»¶è§¦å‘æ—¶ï¼ŒæœåŠ¡ç«¯ä¼šæŽ¨é€å¯¹åº”çš„æ•°æ®ç»™å®¢æˆ·ç«¯ã€‚ æ¯”å¦‚æˆ‘ä»¬æƒ³è®¢é˜…æ–°å»ºPersonç±»åž‹äº‹ä»¶ï¼š 123456subscription &#123; newPerson &#123; name age &#125;&#125; å½“æœ‰æ–°çš„Personç±»åž‹è¢«åˆ›å»ºæ—¶ï¼Œå®¢æˆ·ç«¯å°±èƒ½æŽ¥æ”¶åˆ°æ›´æ–°çš„æ•°æ®äº†ã€‚ å®šä¹‰æ¨¡å¼æ¨¡å¼æ˜¯GraphQL APIä¸­æœ€é‡è¦æ¦‚å¿µä¹‹ä¸€ï¼Œå…¶å®šä¹‰äº†APIèƒ½æä¾›å“ªäº›æ•°æ®ï¼Œä»¥åŠå®¢æˆ·ç«¯å¦‚ä½•èŽ·å–è¿™äº›æ•°æ®ã€‚ æœ‰å‡ ä¸ªç‰¹æ®Šçš„ç±»åž‹è¢«ç§°ä¹‹ä¸ºrootç±»åž‹ï¼š 123type Query &#123; ... &#125;type Mutation &#123; ... &#125;type Subscription &#123; ... &#125; æœ¬æ–‡ä¸­ç”¨åˆ°çš„å®Œæ•´æ¨¡å¼å®šä¹‰å¦‚ä¸‹ï¼š 12345678910111213141516171819202122type Query &#123; allPersons(last: Int): [Person!]!&#125;type Mutation &#123; createPerson(name: String!, age: Int!): Person!&#125;type Subscription &#123; newPerson: Person!&#125;type Person &#123; name: String! age: Int! posts: [Post!]!&#125;type Post &#123; title: String! author: Person!&#125; ç»“è¯­è‡³æ­¤ï¼Œå¤§å®¶åº”è¯¥å¯¹GraphQLæœ‰ä¸€ä¸ªæ„Ÿæ€§çš„è®¤è¯†äº†å§ã€‚å¦‚æžœä¸æƒ³ä»…åœç•™åœ¨æ¦‚å¿µå±‚é¢ï¼Œä½ å¯ä»¥åˆ°è¿™é‡Œæ‰¾åˆ°ç›®å‰å·²ç»å®žçŽ°çš„æ¡†æž¶ã€‚ï¼ˆåæ­£æˆ‘å·²ç»ç”¨èµ·æ¥äº†:Pï¼‰ æ›´å¤šå†…å®¹å¯è®¿é—®ä»¥ä¸‹ç½‘ç«™ï¼š https://www.graphql.org/https://www.howtographql.com/]]></content>
      <categories>
        <category>GraphQL</category>
      </categories>
      <tags>
        <tag>Translate</tag>
        <tag>GraphQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æˆ‘ä¸Žé˜…è¯»]]></title>
    <url>%2F2018%2F03%2F25%2Fbook-app%2F</url>
    <content type="text"><![CDATA[è®°å½•ä¸€ä¸‹è‡ªå·±è¯»ä¹¦åŽ†ç¨‹ï¼Œå¹¶æŽ¨èä¸€ä¸‹è‡ªå·±ç”¨å¾—æ¯”è¾ƒå¤šçš„é˜…è¯»ç›¸å…³çš„APPã€‚ ä»Žå°åˆ°å¤§å°±è‡ªè¯©è‡ªå·±æ˜¯ä¸ªå–œæ¬¢é˜…è¯»çš„äººï¼Œä¸€æ–¹é¢å¯èƒ½æ˜¯æˆ‘ä»¬å®¶æ—åœ¨æ‘å­é‡Œç®—æ˜¯æœ‰æ–‡åŒ–çš„äººå§ï¼Œé—ä¼ äº†ä¸€ç‚¹ï¼ˆå¬è¯´æˆ‘çˆ·çˆ·çš„çˆ·çˆ·æ˜¯ç§å¡¾è€å¸ˆï¼ŒçŽ°åœ¨å¤§å®¶å­é‡Œå½“è€å¸ˆçš„ä¹ŸæŒºå¤šçš„ï¼‰ï¼Œå¦ä¸€æ–¹é¢å¯èƒ½å› ä¸ºå°æ—¶å€™åå†…å‘ï¼Œæ‰€ä»¥è¾ƒå¤šçš„æ—¶å€™éƒ½æ˜¯ä¸ªå®‰é™çš„ç”·å­©å­ï¼Œå°±å–œæ¬¢ç¿»ç¿»ä¹¦ä»€ä¹ˆçš„ã€‚ è®°å¾—å°å­¦çš„æ—¶å€™å°±å–œæ¬¢æ‰¾é‚£äº›åˆä¸­ç”Ÿçš„é‚£äº›é˜…è¯»è¯¾æœ¬çœ‹ï¼Œå®žåœ¨æ²¡å¾—çœ‹å°±ç¿»æˆè¯­è¯å…¸æˆ–æ–°åŽå­—å…¸äº†ã€‚åˆ°äº†ä¸­å­¦ï¼Œå› ä¸ºé•‡ä¸Šæ²¡æœ‰ä¹¦åº—ï¼Œå°±ç»å¸¸åå…¬äº¤åŽ»åŽ¿åŸŽä¹°ä¹¦çœ‹ã€‚é‚£æ—¶å€™å…¬äº¤è½¦å•ç¨‹è¦3å—é’±ï¼Œå¯¹äºŽä¸€å‘¨ä¹Ÿæ‰å‡ å—é’±é›¶èŠ±é’±çš„æˆ‘åŽ‹åŠ›å®žåœ¨ä¸å°ï¼Œç„¶åŽå°±ä¼šé¡ºè·¯å¸®åŒå­¦ä»¬ä¹°ç‚¹èµ„æ–™ä»€ä¹ˆçš„ï¼Œé¡ºä¾¿æŠŠè·¯è´¹ç»™å¹³æ‘Šäº†ã€‚é‚£æ—¶å€™æœ‰ä¸ªã€Žé¾™é—¨ä¹¦å±€ã€çš„å‡ºç‰ˆç¤¾ï¼Œæ„Ÿè§‰æŒºé…·çš„ï¼Œå°±ç»™è‡ªå·±èµ·äº†ä¸ªã€Žæ˜Ÿæ˜Ÿä¹¦å±€ã€ï¼Œå¹¶ç”¨æ©¡çš®åˆ»äº†ç« ï¼Œç„¶åŽå°åœ¨äº†æ¯ä¸€æœ¬ä¹¦ä¸Šã€‚ é«˜ä¸­è¿›äº†åŽ¿åŸŽåŽ»äº†ï¼Œé«˜ä¸€æ—¶è¯­æ–‡è€å¸ˆç»™æˆ‘ä»¬è§£é‡Šäº†ä»€ä¹ˆæ˜¯ã€Žè¯­æ–‡ã€ï¼š è¯­ä¸ºå¿ƒå£°ï¼Œæ–‡ä»¥è½½é“ æ­£å¥½é‚£æ—¶å€™å­¦æ ¡ç»™æ¯ä¸ªå¹´çº§é…å¤‡äº†é˜…è§ˆå®¤ï¼Œé‡Œé¢æœ‰ä¸å°‘çš„æ‚å¿—å’Œæ–‡å­¦ä¹¦ç±å¯ä»¥åœ¨é‡Œé¢çœ‹ã€‚é‚£æ—¶å€™æˆ‘ä¸‹è¯¾å°±ä¼šè·‘è¿‡åŽ»ï¼Œé˜…è§ˆå®¤çš„è€å¸ˆå¯¹æˆ‘è¿™ä¸ªä¸ºæ•°ä¸å¤šçš„è¯»è€…å°è±¡å¾ˆå¥½ï¼Œå°±ç‰¹æ‰¹æˆ‘å¯ä»¥æŠŠä¹¦å¸¦å›žåŽ»çœ‹ï¼Œæ—¶é—´é•¿äº†ç”šè‡³è®©æˆ‘å¸®å¥¹çœ‹ç€é˜…è§ˆå®¤ã€‚è¿™ç§æœ‰ç‰¹æƒçš„æ„Ÿè§‰è®©æˆ‘è¿™ä¸ªå¤§ç”·å­©æœ‰ç‚¹å°éª„å‚²ï¼Œæ‰€ä»¥æ›´æ˜¯ç»å¸¸è·‘åŽ»å€Ÿä¹¦çœ‹äº†ã€‚ç”±äºŽæ–°æ ¡åŒºæ‰å»ºç«‹ä¸ä¹…ï¼Œæ‰€ä»¥æ²¡æœ‰å›¾ä¹¦é¦†ã€‚é‚£æ—¶å€™æœ€å¤§çš„æ„¿æœ›å°±æ˜¯èƒ½å¤©å¤©æ³¡å›¾ä¹¦é¦†ï¼Œå¬è¯´å¤§å­¦é‡Œå›¾ä¹¦é¦†ç‰¹åˆ«å¤šï¼Œæ‰€ä»¥è¿˜æ˜¯æ¯”è¾ƒæœŸå¾…ä¸Šå¤§å­¦çš„ã€‚ å—¯ï¼Œä¸Šäº†å¤§å­¦ï¼Œè¿˜æ²¡æ‹¿åˆ°å­¦ç”Ÿå¡å°±å¼€å§‹å¾€å›¾ä¹¦é¦†è·‘äº†ï¼Œæƒ³ç€å¤§å­¦4å¹´ä¸€å®šè¦çœ‹å¤šå°‘å¤šå°‘çš„ä¹¦æ¥ç€ã€‚å¤©æœ‰ä¸æµ‹é£Žäº‘ï¼Œè°èƒ½æƒ³åˆ°ï¼Œæˆ‘çœ‹çš„ä¹¦åŸºæœ¬éƒ½æ˜¯è®¡ç®—æœºç±»çš„ä¹¦äº†ã€‚ç”±äºŽå­¦æ ¡æ˜¯åŒ»è¯ç±»å­¦æ ¡ï¼Œè™½ç„¶æœ‰ä¿¡æ¯å­¦é™¢ï¼Œä½†å¯ä»¥è‚¯å®šçš„æ˜¯ï¼ŒçœŸæ­£å¯¹è®¡ç®—æœºæ„Ÿå…´è¶£çš„å®žåœ¨ä¸å¤šã€‚æ‰€ä»¥æ®æˆ‘ä¸å®Œå…¨è§‚å¯Ÿï¼ŒTPç±»ä¹¦æž¶å¤§éƒ¨åˆ†æ—¶é—´åªæœ‰æˆ‘ä¸€ä¸ªäººåœ¨é‚£é‡Œçœ‹ä¹¦ã€‚å¶å°”æœ‰å‡ ä¸ªå¦¹å­èµ°é‚£é‡Œåœç•™ï¼Œä¸ç”¨æƒ³æ˜¯åœ¨æ‰¾è®¡ç®—æœºç­‰çº§è€ƒè¯•çš„å‚è€ƒèµ„æ–™ã€‚å°±è¿™æ ·ï¼Œåœ¨æ¯•ä¸šçš„æ—¶å€™ï¼Œå­¦æ ¡ç¬¬ä¸€æ¬¡è¯„é€‰ä¹¦è™«å¥–ï¼Œå¿˜äº†è‡ªå·±è¯»äº†å¤šå°‘ä¹¦äº†ï¼Œåæ­£æŽ’åœ¨é‚£ä¸€å±Šç¬¬9åï¼Œå¹³å‡ä¸€å‘¨ä¸€æœ¬ä¹¦çš„è¿›åº¦å§ï¼ˆå…·ä½“æ•°æ®è¦ç­‰æˆ‘æ‰¾åˆ°å½“æ—¶çš„è¯ä¹¦å†ä¿®æ­£ï¼‰ã€‚ æ€»ä½“çœ‹æ¥ï¼Œå¯¹æˆ‘å½±å“æ¯”è¾ƒå¤§çš„è€å¸ˆåŸºæœ¬éƒ½æ˜¯è¯­æ–‡è€å¸ˆï¼Œå°å­¦æ—¶è¢«è¯­æ–‡è€å¸ˆå¤¸çŸ¥é“çš„æˆè¯­å¤šï¼Œç„¶åŽæˆ‘å°±ä½¿åŠ²å¾—ç¿»æˆè¯­è¯å…¸ï¼›åˆä¸­æ—¶è¢«è¯­æ–‡è€å¸ˆå¤¸è¯»çš„è¯¾å¤–ä¹¦å¤šï¼Œæˆ‘å°±ä½¿åŠ²åœ°æ‰¾è¯¾å¤–ä¹¦è¯»ï¼›é«˜ä¸­æ—¶è¢«è¯­æ–‡è€å¸ˆå¤¸â€¦æƒ³ä¸èµ·æ¥äº†ï¼Œä½†æ˜¯æˆ‘ä½¿åŠ²åœ°èƒŒå¤è¯—è¯äº†ï¼Œç„¶åŽä¹Ÿå†™äº†å‡ ç¯‡è¯—è¯ï¼Œä¹Ÿæ¨¡ä»¿è¿‡æ±ªæ›¾ç¥ºå…ˆç”Ÿå†™è¿‡å‡ ç¯‡æ–‡ç« ã€‚è‡³äºŽå¤§å­¦æ—¶å˜›ï¼Œç”±äºŽæ²¡æœ‰è¯­æ–‡è€å¸ˆï¼Œç„¶åŽæˆ‘å°±åŸºæœ¬ä¸Šæ³¡å›¾ä¹¦é¦†çœ‹è®¡ç®—æœºçš„ä¹¦äº†ã€‚ å¯¹äºŽç”¨APPçœ‹ä¹¦ï¼Œä¸€å¼€å§‹æˆ‘æ˜¯æŽ’æ–¥çš„ï¼Œè§‰å¾—æ²¡æœ‰çº¸è´¨ä¹¦æœ‰æ„Ÿè§‰ï¼Œä¹Ÿå°‘äº†åŽšé‡æ„Ÿã€‚é‚£æ—¶å€™è¢«äººæŽ¨èå…³æ³¨äº†å†¯å¤§è¾‰ï¼Œå¯èƒ½ç”±äºŽä»–ä¹Ÿæ˜¯åŒ»è¯ç±»ä¸“ä¸šç„¶åŽè½¬è¡ŒæžITçš„åŽŸå› å§ã€‚ç„¶åŽç”¨ä¸Šäº†ä»–æŽ¨èäº†å½¼æ—¶è¿˜æ²¡è¢«å°ç±³æ”¶è´­çš„ã€Žå¤šçœ‹é˜…è¯»ã€ï¼Œåœ¨ç„¶åŽä¹°äº†äººç”Ÿä¸­ç¬¬ä¸€æœ¬ç”µå­ä¹¦ã€Šæµ·åº•æžä½ å­¦ä¸ä¼šã€‹ï¼šç„¶åŽè¿™æ˜¯å½“å¹´çš„è¯„ä»·ï¼šé‚£æ—¶å€™æ‰çŸ¥é“ç”µå­ä¹¦é™¤äº†txtè¿˜æœ‰epubæ ¼å¼çš„ï¼Œè¿˜å¯ä»¥æœ‰åƒçº¸è´¨ä¹¦ä¸€æ ·çš„æŽ’ç‰ˆï¼Œé‡Œé¢é™¤äº†æœ‰æ–‡å­—è¿˜å¯ä»¥æœ‰å›¾ç‰‡ç”šè‡³æ˜¯è§†é¢‘ã€‚æ­¤åŽå°±èµ°ä¸Šäº†ä¹°ç”µå­ä¹¦çš„ä¸å½’è·¯ã€‚ çœŸæ­£ä½“ä¼šåˆ°ç”µå­ä¹¦çš„å¥½å¤„ï¼Œå½“ç„¶è¿˜æ˜¯æ¯•ä¸šåŽæ¬å®¶äº†ï¼Œæœ‰è¿‡å‡ æ¬¡æ¬å®¶ï¼Œæ²¡å•¥å®¶å½“å›¾ä¹¦è¦å ä¸€å¤§åŠï¼Œå…³é”®æ˜¯çœ‹èµ·æ¥è¿˜ä¸æ–¹ä¾¿ã€‚åŽæ¥æˆ‘å°±é€¢äººå°±æŽ¨èçœ‹ç”µå­ä¹¦äº†ï¼Œå¼€å§‹å¤§éƒ¨åˆ†äººéƒ½å’Œæˆ‘å½“å¹´ä¸€æ ·è§‰å¾—çœ‹çº¸è´¨ä¹¦æœ‰æ„Ÿè§‰ï¼Œä¹Ÿä»¥ä¸ºç”µå­ä¹¦å°±æ˜¯txtï¼Œä¹Ÿéƒ½ä¸çŸ¥é“ç”µå­ä¹¦æ˜¯è¦ä¹°çš„ã€‚å½“ç„¶çŽ°åœ¨è¿˜æ˜¯æœ‰ä¸å°‘äººï¼Œå³ä½¿å·¥èµ„å·²ç»å¾ˆé«˜äº†ï¼Œè¯´åˆ°ç”µå­ä¹¦ç«‹é©¬åŽ»æ‰¾ç›—ç‰ˆèµ„æºã€‚ã€‚ã€‚ åºŸè¯ä¸å¤šè¯´äº†ï¼Œåˆ—ä¸¾ä¸€äº›ç›®å‰æˆ‘åœ¨ç”¨çš„ä¸€äº›APPï¼š å¤šçœ‹è¯´å®žè¯å¯¹å¤šçœ‹æ˜¯æœ‰ç‰¹æ®Šæ„Ÿæƒ…çš„ï¼Œæ¯•ç«Ÿå¤§éƒ¨åˆ†ä¹¦å°±æ˜¯åœ¨å¤šçœ‹ä¹°çš„ï¼Œé‚£æ—¶å€™å¤šçœ‹è¿˜ä¸æ˜¯å°ç±³ç³»çš„ï¼Œé‚£æ—¶å€™æŽ’ç‰ˆæ˜¯æœ€å¥½çš„ï¼Œé‚£æ—¶å€™æ ¹æœ¬æ²¡æœ‰ç½‘æ–‡ï¼Œé‚£æ—¶å€™kindleè¿˜å¯ä»¥åˆ·å¤šçœ‹çš„ã€‚ç›®å‰é™¤äº†çœ‹ã€ŠçŸ¥ä¹Žå‘¨åˆŠã€‹å’Œä¸€äº›ç†è´¢ç±»çš„æ‚å¿—ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯çœ‹ä»¥å‰ä¹°çš„ä¹¦äº†ã€‚ èœ—ç‰›è¯»ä¹¦ æ¯å¤©å…è´¹è¯»ä¹¦ä¸€å°æ—¶ åŽèµ·ä¹‹ç§€ï¼Œé€šè¿‡æ¯å¤©å…è´¹1å°æ—¶çš„åˆ›æ–°å¸å¼•äº†ä¸å°‘äººï¼Œé‡Œé¢ä¹Ÿæœ‰ä¸å°‘çš„å¥½ä¹¦ï¼Œæ¯”å¦‚ä¸­ä¿¡å‡ºç‰ˆç¤¾çš„ã€‚å¦‚æžœæˆ‘æƒ³çœ‹çš„ä¹¦åœ¨è¿™é‡Œæœ‰çš„è¯å°±åœ¨è¿™é‡Œçœ‹äº†ï¼Œè€Œä¸”è™½ç„¶æ¯å¤©åªèƒ½å…è´¹1å°æ—¶ï¼Œä½†æˆ‘ç›¸ä¿¡èƒ½æ»¡è¶³90%çš„äººäº†ã€‚ å¾®ä¿¡é˜…è¯» å¾®ä¿¡è¯»ä¹¦è®©é˜…è¯»ä¸å†å­¤ç‹¬. å¾®ä¿¡å‡ºä»€ä¹ˆä¼°è®¡éƒ½èƒ½å¼•èµ·å¾ˆå¤§çš„è½°åŠ¨ï¼Œè…¾è®¯åˆ©ç”¨ç†Ÿäººç¤¾äº¤å°åˆ°äº†å¤ªå¤šçš„ç”œå¤´ï¼Œå¾®ä¿¡é˜…è¯»ä¹Ÿä¸ä¾‹å¤–ã€‚ä¹‹å‰å¤šçœ‹ä¹Ÿæƒ³åŸºäºŽé˜…è¯»åšå…³äºŽè¯»ä¹¦çš„åœˆå­ï¼Œä½†æ²¡å¤šä¹…å°±åšä¸ä¸‹åŽ»äº†ã€‚å¯¹äºŽå¾®ä¿¡é˜…è¯»ï¼ŒåˆšæŽ¨å‡ºçš„æ—¶å€™æŽ’ç‰ˆå·®ã€å¤§é‡é‡å¤çš„æ®µè½ç­‰è®©æˆ‘ç”¨äº†å‡ å¤©å°±æŠ›ä¹‹è„‘åŽäº†ã€‚ä½†æ˜¯ç­‰è¿‡ä¸€é˜¶æ®µå†åŽ»çœ‹çœ‹ï¼Œå‘çŽ°æƒ…å†µå·²ç»æœ‰äº†å¾ˆå¤§çš„æ”¹å–„ã€‚æ­¤å¤–è¿˜æœ‰ä¸€ä¸ªç‰¹ç‚¹æ˜¯æ¯å‘¨å¯ä»¥ç”¨é˜…è¯»æ—¶é—´æ¥æ¢å–ä¹¦å¸ï¼Œæ¯å‘¨æœ€å¤š10ä¸ªå§ã€‚ ä¸Šé¢è¿™å‡ ä¸ªæ˜¯ç›®å‰ç”¨çš„æ¯”è¾ƒå¤šçš„ï¼Œæ­¤å¤–è¿˜æœ‰ã€Žäº¬ä¸œé˜…è¯»ã€ã€ã€Žç™¾åº¦é˜…è¯»ã€ç­‰ã€‚ å¯¹äºŽçº¸è´¨ä¹¦çš„è¯ï¼Œä¹Ÿæœ‰ä¸å°‘APPå¯ä»¥è®°å½•é˜…è¯»çŠ¶æ€çš„ï¼Œç›¸å½“äºŽåœ¨çº¿ä¹¦ç­¾äº†ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[Dockerä¸­Djangoå¤„ç†æ¶ˆæ¯é˜Ÿåˆ—é‡åˆ°çš„å‘]]></title>
    <url>%2F2018%2F01%2F05%2Fdjango-with-mq-in-docker%2F</url>
    <content type="text"><![CDATA[æ—©ä¸Šè¿‡æ¥å‘çŽ°æ˜¨å¤©ä¸Šçº¿çš„ä»£ç è¿˜æ˜¯æœ‰ä¸ªé—®é¢˜ï¼Œå¥½åœ¨å¾ˆå¿«è§£å†³äº†ï¼Œè§‰å¾—æœ‰å¿…è¦åšä¸ªå°æ€»ç»“äº†ã€‚ pythonå®žçŽ°mqæ¶ˆæ¯æŽ¥æ”¶å¤„ç†æ¡†æž¶é€‰æ‹©å› ä¸ºæƒ³ä¸åˆ°æ€Žä¹ˆåœ¨Djangoé‡ŒåŠ ä¸Šmqæ¶ˆæ¯å¤„ç†ï¼Œæ‰€ä»¥å°±æš´éœ²å‡ºä¸€ä¸ªæŽ¥å£ç›´æŽ¥æ¥è°ƒç”¨ã€‚å…¬å¸ä½¿ç”¨çš„æ˜¯activemqï¼Œå…¶æ”¯æŒ4ç§åè®®ï¼š OpenWire for high performance clients in Java, C, C++, C# Stomp support so that clients can be written easily in C, Ruby, Perl, Python, PHP, ActionScript/Flash, Smalltalk to talk to ActiveMQ as well as any other popular Message Broker AMQP v1.0 support MQTT v3.1 support allowing for connections in an IoT environment. ä»Žä¸­å¯ä»¥çœ‹åˆ°ï¼Œæœ€é€‚åˆpythonçš„å°±æ˜¯Stompåè®®äº†ã€‚åœ¨å®¢æˆ·ç«¯åˆ—è¡¨ä¸­å¯ä»¥æ‰¾åˆ°ä¸åŒå®žçŽ°è¯­è¨€å¯¹åº”çš„å®¢æˆ·ç«¯ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©äº†stomp.pyï¼Œè°è®©ä»–æŽ’åœ¨æœç´¢é¡µé¢å‰é¢å‘¢ï¼ˆå…¶åç§°å°±æ˜¯ä¸€ç§å¾ˆå¥½çš„SEOæ–¹å¼ï¼‰ã€‚ mqå®¢æˆ·ç«¯çš„å®žçŽ°è¿™é‡Œæ›¾ç»é‡åˆ°å›°æ‰°å¥½å‡ å¤©çš„å‘ï¼š åè®®çš„é€‰æ‹© ä¹‹å‰æ²¡æŽ¥è§¦è¿‡æ¶ˆæ¯é˜Ÿåˆ—è¿™å—ï¼Œå¤©çœŸåœ°ä»¥ä¸ºactivemqå°±æ˜¯mqçš„ä¸€ç§åè®®ã€‚è±†æ²¹ç»™æˆ‘ä¸€ä¸ªmqæœåŠ¡å™¨åœ°å€å’Œç«¯å£å·ï¼ˆ61616ï¼‰åŽï¼Œä½¿ç”¨stomp.pyè¿žæŽ¥æ€»æ˜¯å‡ºé”™ï¼Œè¿žæŽ¥æ—¶å¯ä»¥æ”¶åˆ°mqæœåŠ¡å™¨è¿”å›žçš„æ¶ˆæ¯ï¼Œè§£æžå´æ€»æ˜¯å‡ºé”™ï¼š 12345678910111213Exception in thread StompReceiverThread-1:Traceback (most recent call last): File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner self.run() File "/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run self._target(*self._args, **self._kwargs) File "path/of/project/lib/python3.6/site-packages/stomp.py-4.1.19-py3.6.egg/stomp/transport.py", line 332, in __receiver_loop f = utils.parse_frame(frame) File "path/of/project/lib/python3.6/site-packages/stomp.py-4.1.19-py3.6.egg/stomp/utils.py", line 138, in parse_frame preamble = decode(frame[0:preamble_end]) File "path/of/project/lib/python3.6/site-packages/stomp.py-4.1.19-py3.6.egg/stomp/backward3.py", line 29, in decode return byte_data.decode()UnicodeDecodeError: 'utf-8' codec can't decode byte 0xf0 in position 0: invalid continuation byte â€‹ è°ƒè¯•å‡ å¤©éƒ½æ˜¯ä¸è¡Œï¼Œå°±åŽ»æäº†ä¸ªissueã€‚ åŽæ¥æ‰å‘çŽ°æ˜¯activemqå®žçŽ°äº†å››ç§åè®®çš„æœåŠ¡ï¼Œè€Œä¸åŒåè®®å¼€æ”¾çš„ç«¯å£å·ä¸ä¸€æ ·ã€‚stompé»˜è®¤ç«¯å£å·ä¸º61613ï¼Œç«¯å£å·ä¸€æ¢ç«‹é©¬å¯ä»¥æŽ¥æ”¶åˆ°æ¶ˆæ¯ã€‚è¿žæŽ¥é—®é¢˜è§£å†³ã€‚ â€‹ å¦‚ä½•åŠ å…¥åˆ°Djangoé‡Œ è¢«è¿™ä¸ªé—®é¢˜ä¹Ÿæ˜¯å›°æ‰°äº†å¥½ä¹…ï¼Œå•ç‹¬çš„ä¸€ä¸ªè„šæœ¬åˆ°åº•å¦‚ä½•åŠ å…¥åˆ°djangoé‡Œã€‚æ›¾ç»æƒ³è¿‡åœ¨å¯åŠ¨djangoé‡Œéšå³è¿è¡Œè¯¥è„šæœ¬ï¼Œå´ä¸€ç›´æ‰¾ä¸åˆ°æ–¹æ³•ã€‚å› ä¸ºæˆ‘æƒ³æŠŠæ›´å¤šçš„ç²¾åŠ›æ”¾åˆ°å¯¹å®¢æˆ·åˆ†æ•°çš„å¤„ç†ä¸Šï¼Œè€Œä¸æ˜¯èŠ±å¤ªå¤šçš„æ—¶é—´æ¥å¤„ç†åŽç«¯çš„é—®é¢˜ã€‚æ‰€ä»¥æ¯”è¾ƒæ€¥ç€æƒ³æŠŠè¿™ä¸ªé—®é¢˜è§£å†³ï¼Œç„¶è€Œè¶Šæ€¥è¶Šæ— æ³•æ‰¾åˆ°å®žçŽ°çš„åŠžæ³•ï¼Œä¹Ÿèˆä¸å¾—èŠ±æ—¶é—´æ¥æ€è€ƒæ˜¯ä¸æ˜¯è¿™æ¡è·¯æ˜¯ä¸æ˜¯å¯¹çš„è·¯ã€‚æ­£æ‰€è°“æˆ‘ä»¬éƒ½åœ¨ä¸æ–­èµ¶è·¯å¿˜è®°äº†å‡ºè·¯ã€‚ ä¹…ä¹…æ— æžœåŽï¼Œç´¢æ€§ç¬¬ä¸€ä¸ªç‰ˆæœ¬å°±æ²¡åŠ å…¥æ¶ˆæ¯é˜Ÿåˆ—çš„å¤„ç†ï¼Œå›žå¤´å¤„ç†æ•°æ®åŽ»ï¼ è¿™ä¸¤å¤©å¿½ç„¶æƒ³åˆ°è¦ä¸å°±æŠŠæŽ¥æ”¶æ¶ˆæ¯çš„ä»£ç å•ç‹¬æ‹Žå‡ºæ¥è¿è¡Œï¼ŒæŽ¥æ”¶åˆ°æ¶ˆæ¯å°±ç›´æŽ¥è°ƒç”¨æœ¬åœ°æŽ¥å£å°±å¯ä»¥äº†ã€‚ç„¶åŽç›´æŽ¥ç”¨pythonå¯åŠ¨å°±å¥½äº†ï¼Œè°ƒç”¨æœ¬åœ°æŽ¥å£ä¹ŸOKã€‚ æœ‰æ—¶å€™ï¼Œè¢«ä¸€ä¸ªé—®é¢˜å›°æ‰°å¤ªä¹…å°±å®¹æ˜“é™·è¿›åŽ»ï¼Œä¸å¯è‡ªæ‹”ã€‚ åˆå‡ºé—®é¢˜äº† ç„¶åŽæŠŠè¿™ä¸ªæŽ¥æ”¶æ¶ˆæ¯çš„è„šæœ¬scpåˆ°æœåŠ¡å™¨å†è¿è¡Œåˆå‡ºçŽ°äº†2ä¸ªé—®é¢˜ï¼š æœåŠ¡å™¨æ²¡æœ‰python3 è¿˜è¦å®‰è£…å„ç§ä¾èµ–åº“ï¼ˆä¼šå‡ºçŽ°å„ç§é—®é¢˜ï¼‰ æ²¡åŠžæ³•è¦ä¸ºè¿™ä¸ªå•ç‹¬çš„è„šæœ¬åˆ¶ä½œä¸€ä¸ªdockeré•œåƒäº†ï¼Œæœ‰ç‚¹é«˜å°„ç‚®æ‰“èšŠå­çš„æ„Ÿè§‰ã€‚ä½†æ˜¯å¥½åœ¨å¯ä»¥åšåˆ°å¹³å°æ— å…³æ€§ï¼Œä¸ç”¨åŽ»è§£å†³å„ç§ä¾èµ–çš„é—®é¢˜ã€‚ æŠ˜è…¾ä¸€é€šåŽï¼Œå¯ä»¥æ­£å¸¸å¯åŠ¨è¿è¡Œäº†ã€‚ç„¶è€Œå¤©æœ‰ä¸æµ‹é£Žäº‘ï¼Œåœ¨æœ¬åœ°å¯ä»¥æ­£å¸¸è¿è¡Œçš„è„šæœ¬ï¼Œåˆ°äº†è¿™é‡Œå´å‡ºé”™äº†ï¼š 123456789&gt; r = requests.delete('http://0.0.0.0:8000/credit/apply-del/ED201******53')Traceback (most recent call last): File "/usr/local/lib/python3.6/site-packages/urllib3/connection.py", line 141, in _new_conn (self.host, self.port), self.timeout, **extra_kw) File "/usr/local/lib/python3.6/site-packages/urllib3/util/connection.py", line 83, in create_connection raise err File "/usr/local/lib/python3.6/site-packages/urllib3/util/connection.py", line 73, in create_connection sock.connect(sa)ConnectionRefusedError: [Errno 111] Connection refused æ‚²å‰§ï¼ˆè¢«æ‹’ï¼‰äº†ã€‚ ä¸€å¼€å§‹ä»¥ä¸ºæ˜¯ä¸æ˜¯iptablesé…ç½®çš„é—®é¢˜ï¼Œå¯æ˜¯æ²¡å¬è¯´è¿‡iptablesç”¨æ¥é˜²æœ¬åœ°è®¿é—®çš„å‘€ï¼Œåœ¨ç»ˆç«¯é‡Œç”¨curlæ‰§è¡Œäº†ä¸€ä¸‹ï¼š 12$ curl -X "DELETE" "http://0.0.0.0:8000/credit/apply-del/ED201******53"&#123;"detail":"Not found.","status_code":404&#125; æ²¡é—®é¢˜ï¼ˆå¿½ç•¥404ï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸æ˜¯é˜²ç«å¢™çš„é—®é¢˜ä¹‹ç±»çš„ã€‚åˆæ€€ç–‘æ˜¯requestsåº“çš„é—®é¢˜ï¼Œåˆè¿›è¿™ä¸ªé•œåƒé‡Œç”¨python3è‡ªå¸¦çš„urllib.requestæ‰§è¡Œä¹Ÿæ˜¯è¢«æ‹’ã€‚æ­£æƒ³ç€éš¾é“éžè¦æ‰§è¡Œcurlå‘½ä»¤æ‰è¡Œï¼Ÿä¸åˆå¸¸ç†å‘€ã€‚ è¿™æ—¶å€™æœºæ™ºçš„æˆ‘çµå…‰ä¸€çŽ°ï¼Œéš¾ä¸æˆæ˜¯åœ¨dockeré‡Œè¿è¡Œçš„é—®é¢˜ï¼Ÿdockerå°±ç®—æ˜¯ä¸€ä¸ªè½»é‡çº§çš„è™šæ‹Ÿæœºäº†ï¼Œç½‘ç»œåº”è¯¥é»˜è®¤æ˜¯bridgeå½¢å¼çš„ã€‚ å—¯ï¼Œæ”¹ä¸ºâ€“net=hostï¼Œæžå®šï¼ æœ€åŽé™„ä¸Šå¤„ç†æ¶ˆæ¯é˜Ÿåˆ—çš„è„šæœ¬(å…³é”®åœ°æ–¹å·²ç»æ‰“ç )ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384#!/usr/bin/env python"""Created on 04/12/2017@author: 'Jiezhi.G@gmail.com'Reference:"""from json import JSONDecodeErrorimport stompimport timeimport jsonimport requestsimport logginglogging.basicConfig(filename='credit_message.log', level=logging.DEBUG, format='%(asctime)s %(message)s')class MyListener(stomp.ConnectionListener): def on_error(self, headers, body): logging.error('received an error "%s"' % body) print('received an error "%s"' % body) def on_message(self, headers, body): logging.info('\n') logging.info('received a message "%s"' % body) print('received a message "%s"' % body) # print(body['apply_id']) try: data = json.loads(body) if data['applyId']: delete_url = 'http://0.0.0.0:8000/credit/apply-del/' + data['applyId'] r = requests.delete(delete_url) print(r.status_code) print(r.content) except KeyError: logging.error('KeyError process error: %s' % body) except JSONDecodeError: logging.error('JSONDecodeError process error: %s' % body) print('error:', body) logging.info('-' * 80) logging.info('\n') print('-' * 80) def on_connected(self, headers, body): logging.info('Connected') print('Connected') def on_connecting(self, host_and_port): logging.info('Connecting') print('connecting', host_and_port) def on_disconnected(self): logging.info('disconnected') print('disconnected') def on_heartbeat(self): logging.info('heartbeat') print('heartbeat')def connect_mq_server(): # conn = stomp.Connection([('127.0.0.1', 61616)]) # conn = stomp.Connection11([('192.168.*.*', 61613)]) conn = stomp.Connection11([('*.1.*.2', 61613)]) conn.set_listener('', MyListener()) conn.start() conn.connect('admin', 'password', wait=True) conn.subscribe(destination='queue.bc.rgb.cs.commit.risk', id='1', ack='auto') # conn.send(body='Hello world', destination='/queue/test') while True: time.sleep(5) # conn.disconnect()if __name__ == '__main__': connect_mq_server() ä»¥åŠå¯åŠ¨è„šæœ¬ï¼š 123456789#!/bin/bashdocker run \ -d \ --name credit_mq \ --net=host \ -v /home/docker/credit_message.log:/app/credit_message.log \ credit_mq:v1 \ python handle_message_queue.py ç®—äº†Dockerfileä¹Ÿæ”¾å‡ºæ¥å§ï¼š 12345678910FROM python:3RUN mkdir /appWORKDIR /appCOPY requirements.txt /app/requirements.txtRUN pip install -r requirements.txt --trusted-host pypi.douban.com -i http://pypi.douban.com/simpleCOPY . /appCMD python handle_message_queue.py]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>Docker</tag>
        <tag>Django</tag>
        <tag>mq</tag>
        <tag>stomp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2017å¹´æ€»ç»“]]></title>
    <url>%2F2018%2F01%2F01%2F2017-summary%2F</url>
    <content type="text"><![CDATA[ä¸€å¹´ä¸€åº¦çš„æ€»ç»“æ¥äº†ï¼Œèµ¶åœ¨äº†2018å¹´åˆ°æ¥ä¹‹å‰ã€‚ æ€»çš„æ¥è¯´ä»Šå¹´æ˜¯æ¯”è¾ƒæ›²æŠ˜çš„ä¸€å¹´ï¼Œä½“ä¼šäº†å¾—ä¸Žå¤±ï¼Œä¹Ÿæ˜¯å·¥ä½œè½¬åž‹çš„ä¸€å¹´ã€‚ 2017å¹´ä¸ªäººæ€»ç»“è®¡åˆ’å®Œæˆæƒ…å†µåŽ»å¹´çš„æ€»ç»“å†™å¾—æœ‰ç‚¹è¿Ÿï¼Œéƒ½å¿˜è®°ç»™è‡ªå·±å®šè®¡åˆ’äº†ã€‚è¿™é‡Œç¿»å‡ºäº†15å¹´14å¹´ç»™è‡ªå·±å®šçš„è®¡åˆ’ï¼š ä¸€ä¸ªæœˆä¸€æœ¬ä¹¦ï¼ˆéžæŠ€æœ¯ç±»ï¼‰ åšæŒé”»ç‚¼ï¼ˆèµ·ç éš”ä¸‰å·®äº”ï¼‰ åšæŒè®°è´¦ ä¸€ä¸ªæœˆä¸€æœ¬ä¹¦ç”±äºŽæ²‰è¿·çŽ‹è€…è£è€€ï¼Œä¸€ä¸ªæœˆä¸€æœ¬éžæŠ€æœ¯ç±»çš„ä¹¦æ˜¯è¿œæ²¡æœ‰è¾¾åˆ°ï¼Œè¿™é‡Œæ‰‹æŒ‡æŽ°ä¸€ä¸‹ä¹Ÿå°±åŸºæœ¬ã€Šç¦…ä¸Žæ‘©æ‰˜è½¦ç»´ä¿®è‰ºæœ¯ã€‹ã€ã€ŠåŠ¨ç‰©å†œåœºã€‹ã€ã€Šæ–‡æ˜Žä¹‹å…‰ï¼ˆç¬¬ä¸€å†Œï¼‰ã€‹ã€ã€Šå¾ä¿¡ä¸Žå¤§æ•°æ®ã€‹ã€ã€Šèš‚èšé‡‘æœã€‹ã€‚ è¿™é‡Œè‡ªæˆ‘æ‰¹è¯„ä¸€ä¸‹ï¼Œå·®ç‚¹ä¸Šäº†ã€Žå¥¶å¤´ä¹ã€çš„å½“ï¼Œè¿˜å¥½çŽ°åœ¨å¯¹çŽ‹è€…è£è€€æ²¡é‚£ä¹ˆå¤§çš„å…´è¶£äº†ï¼ŒçŽ°åœ¨æ¯”è¾ƒç«çš„åƒé¸¡æ¸¸æˆä¹Ÿæ²¡å…´è¶£ï¼Œæ€»ç®—æ˜¯å¯ä»¥æŒ¤å‡ºæ—¶é—´ç»§ç»­çœ‹ä¹¦äº†ï¼ˆåœ¨å†…å¿ƒé‡Œæ‘¸äº†æ‘¸è¿˜åœ¨åŠžå…¬æ¡Œä¸Šåƒç°çš„Kindleï¼‰ã€‚ åšæŒé”»ç‚¼è¿™ä¸ªä¼¼ä¹Žä»Ž15å¹´å°±å¼€å§‹æ¾æ‡ˆäº†ï¼Œå¤©å¤©åŠ ç­åˆ°åå†ä¹Ÿæ²¡å¿ƒæ€æƒ³ä»€ä¹ˆé”»ç‚¼çš„äº‹ï¼Œæ‰€ä»¥æ‹–åˆ°äº†çŽ°åœ¨çš„å…¬å¸ï¼Œå¤©ä¸å†·çš„æ—¶å€™åŸºæœ¬ä¼šæ‰“ä¸€ä¸¤æ¬¡çš„ç¯®çƒã€‚ åˆ°9æœˆä»½çš„æ—¶å€™å¼€å§‹å’Œå°ä¼™ä¼´ä¸‹ç­åŽç»•ç€å›­åŒºä¸€èµ·è·‘æ­¥ï¼Œç„¶åŽå…ˆåŽç›¸çº¦å‚åŠ äº†å—äº¬é©¬æ‹‰æ¾è¿·ä½ è·‘ã€æ— é”¡åŠç¨‹é©¬æ‹‰æ¾å’Œè‹å·žåŠç¨‹é©¬æ‹‰æ¾ã€‚ æ­¤å¤–ï¼Œè¿‘ä¸¤ä¸ªæœˆä¹ŸåŽ»äº†å‡ æ¬¡å¥èº«æˆ¿åšä¸€äº›åŠ›é‡åž‹çš„è®­ç»ƒã€‚ æ€»ä½“æ¥è¯´ï¼Œé”»ç‚¼æ–¹é¢æ¯”ä¹‹å‰æœ‰é•¿è¿›ï¼Œå¸Œæœ›å¯ä»¥å†æŽ¥å†åŽ‰ã€‚ åšæŒè®°è´¦è¿™ä¸ªçš„è¯ï¼ŒåšæŒæœ‰3å¹´äº†ï¼Œä½†æ˜¯åŸºæœ¬æ˜¯åœ¨æœˆåº•èŠ±ä¸€ä¸ªæ™šä¸Šæ±‡æ€»æ‰€æœ‰çš„è´¦å•ã€‚ä»…ä»…æ˜¯è®°å½•ä½†æ˜¯å¹¶æ²¡æœ‰å¤ç›˜ï¼Œä¹Ÿæ²¡æœ‰åŠæ—¶æ›´æ–°é¢„ç®—è¡¨ï¼Œæ‰€ä»¥é‚£åªæ˜¯ä¸€å †æ•°æ®æ”¾åœ¨é‚£é‡Œï¼Œå¹¶æ²¡æœ‰èµ·åˆ°å¤ªå¤§çš„ä½œç”¨ã€‚æ‰€ä»¥å‡†å¤‡å®šæœŸå¤ç›˜ã€‚ å­¦ä¹ å’Œå·¥ä½œå­¦ä¹ ä¸€ç›´éž­ç­–è‡ªå·±è¦æˆä¸ºä¸€ä¸ªæŒç»­å­¦ä¹ è€…ï¼Œä»Šå¹´åšæŒäº†æ¯å¤©éƒ½å­¦è‹±è¯­ï¼š åœ¨ã€Žç™¾è¯æ–©ã€ä¸ŠèƒŒå®Œäº†é›…æ€æ ¸å¿ƒå•è¯ï¼Œæ‰‡è´æ‰“å¡365å¤©ã€‚ å½“ç„¶æœ€è¿‘å­¦ä¹ çš„ä¸­å¿ƒæ”¾åœ¨äº†æœºå™¨å­¦ä¹ æ–¹é¢ï¼Œnumpyã€pandasã€matplotlibã€scikitã€tensorflowéƒ½åœ¨é©¬ä¸åœè¹„åœ°å­¦ä¹ ä¸­ã€‚è¦ç†è§£å¥½å¤šçš„ç®—æ³•è¿˜æ˜¯æ¯”è¾ƒå¤´ç–¼çš„ã€‚ å­¦å®Œäº†Andrew Ngçš„æœºå™¨å­¦ä¹ çš„è¯¾ç¨‹ã€‚ å·¥ä½œå…ˆçœ‹è‡ªå·±15å¹´çš„æ€»ç»“ï¼š ä¸å¾—ä¸æçš„ä¸€ä¸ªæ„Ÿæƒ³æ˜¯ï¼Œè°ä¹Ÿä¸çŸ¥é“ä½ ä¹‹å‰å­¦åˆ°çš„ä¸œè¥¿å°±åœ¨æŸå¤©å°±ç”¨ä¸Šäº†ã€‚åœ¨å‰ä¸€å®¶å…¬å¸ä¸‹ç­åŽåƒè¿‡é¥­å°±å¼€å§‹åœ¨æ…•è¯¾ç½‘å’Œç½‘æ˜“äº‘è¯¾å ‚ä¸Šå­¦ä¹ ,æœŸé—´æŠŠpythonç®—æ˜¯å…¥é—¨äº†ï¼Œæ²¡æƒ³åˆ°åŠå¹´åŽçš„é¡¹ç›®ä¸­æœ‰å¾ˆå¤šç”¨åˆ°pythonåˆ†æžç¨‹åºçš„ï¼ŒæœŸé—´ä¹Ÿå†™äº†å¾ˆå¤šè„šæœ¬ã€‚é‚£æ®µæ—¶é—´å¿ƒé‡Œè€æ˜¯å¿µå¨ã€Žä½†è¡Œå¥½äº‹ï¼ŒèŽ«é—®å‰ç¨‹ã€ï¼Œè™½ä¸è´´åˆ‡ï¼Œä½†æˆ‘å°±æ˜¯å¿µå¨è¿™å¥ã€‚è°çŸ¥é“åŽé¢æˆ‘ä¼šä¸ä¼šç”¨pythonæ¥åˆ†æžã€Žå¤§ã€æ•°æ®æˆ–æ­å»ºç½‘ç«™å‘¢ã€‚ï¼ˆé«˜å‘¼ã€Žç”Ÿå‘½è‹¦çŸ­ï¼Œæˆ‘ç”¨Pythonã€ï¼‰ ç¿»åˆ°è¿™é‡Œï¼Œä¸ç¦è™Žèº¯ä¸€éœ‡ï¼Œè¯´å¾—å¤ªå¯¹äº†ã€‚ ç›®å‰å…¬å¸çš„ä¸šåŠ¡åœºæ™¯ä¸å¤ªéœ€è¦åœ¨ç§»åŠ¨ç«¯è¿›è¡Œå¤æ‚çš„è¿ç®—ï¼Œæ‰€ä»¥å¾ˆå¤šä»»åŠ¡éƒ½å¯ä»¥ç”¨Hybridæ–¹å¼æ¥å¼€å‘ï¼Œä¸€å¥—ä»£ç å³å¯ã€‚åŽŸç”Ÿå¼€å‘ä¼¼ä¹Žæœ‰ç‚¹å¥¢ä¾ˆäº†ï¼Œæ‰€ä»¥åœ¨ä¸‹åŠå¹´æˆ‘è¢«å•ç‹¬å®‰æŽ’äº†åšæ•°æ®åˆ†æžè¿™å—ã€‚ å½“ç„¶è¿™ä¹Ÿæ­£åˆæˆ‘æ„ï¼Œæœ¬æ¥åšAndroidåŽŸç”Ÿå¼€å‘è¿™å—å°±å·²ç»æœ‰å±æœºæ„è¯†äº†ï¼Œæ‰€ä»¥è‡ªå·±æœ¬èº«ä¹Ÿåœ¨å¯»æ±‚å…¶ä»–çš„å¯èƒ½ã€‚ æœŸé—´ä¹Ÿç¬¬ä¸€æ¬¡æ­£å¼ç”¨Djangoæ­å»ºäº†ä¸€ä¸ªæœåŠ¡ï¼Œæ­¤å‰åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šéšä¾¿æ­è¿‡åŸºäºŽDjangoçš„å·¥å…·ç±»ç½‘ç«™ã€‚ä½†è¿™å€’æ˜¯ç¬¬ä¸€æ¬¡ç”¨åœ¨ç”Ÿäº§çŽ¯å¢ƒï¼Œå¯å–œå¯è´ºã€‚ å…¶å®ƒå…³é”®è¯ Macbook Pro 15å¯¸ iPhone 8 Plus iWatch S2 æœ€å¼ºçŽ‹è€… åˆ†æ‰‹ å¤åˆ 2018å¹´ç›®æ ‡ é¦–ä»˜ ç»“å©š å…¨é©¬ 67.5kg è‹±è¯­/day é”»ç‚¼/week ä¸€æœ¬ä¹¦/month åœ¨æ•°æ®åˆ†æžä¸Šåšå‡ºç‚¹æˆç»©/year]]></content>
      <categories>
        <category>Life</category>
      </categories>
      <tags>
        <tag>æ€»ç»“</tag>
        <tag>2017</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iPythonæŠ€å·§]]></title>
    <url>%2F2017%2F10%2F18%2Fipython%2F</url>
    <content type="text"><![CDATA[è®°å½•ä¸€ä¸‹ipythonçš„ä¸€äº›æŠ€å·§ å¸¸ç”¨å‘½ä»¤Introspection åœ¨å¯¹è±¡å‰æˆ–å¯¹è±¡åŽä½¿ç”¨é—®å· ? ï¼Œå°†ä¼šå±•ç¤ºè¯¥å¯¹è±¡çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ å¦‚æžœåœ¨ä¸€ä¸ªæ–¹æ³•åä¸Šä½¿ç”¨é—®å·ï¼Œå°†ä¼šå±•ç¤ºè¯¥æ–¹æ³•çš„è¯´æ˜Žæ–‡æ¡£ï¼ˆdocstringï¼‰ ä½¿ç”¨åŒé—®å·??å°†ä¼šå±•ç¤ºè¯¥æ–¹æ³•çš„æºç  ?å’Œé€šé…ç¬¦*çš„æ­é…ä½¿ç”¨æœ‰å¥‡æ•ˆï¼š In [100]:np.load? np.loader np.load np.loads np.loadtxt np.pkgload %run å‘½ä»¤ è¯¥å‘½ä»¤å¯ä»¥åœ¨IPythonä¸­ç›´æŽ¥æ‰§è¡ŒPythonç¨‹åºæ–‡ä»¶ã€‚ %paste æ‰§è¡Œå‰ªè´´æ¿ä¸­çš„ä»£ç  å¿«æ·é”® å‚è€ƒ ã€ŠPython for Data Analysisã€‹Chapter 3]]></content>
  </entry>
  <entry>
    <title><![CDATA[Androidä¸­app.buildé…ç½®]]></title>
    <url>%2F2017%2F10%2F18%2Fgradle-in-android%2F</url>
    <content type="text"><![CDATA[å¤‡ä»½ä¸€ä¸‹é¡¹ç›®ä¸­çš„app.buildæ–‡ä»¶123456789101112131415161718192021222324release &#123; minifyEnabled true shrinkResources true proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro' resValue "string", "app_name", "AppName" resValue "string", "account_type", "io.jiezhi.app.type" &#125; preRelease &#123; debuggable true jniDebuggable true minifyEnabled true zipAlignEnabled true proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro' applicationIdSuffix ".pre" resValue "string", "app_name", "AppNameï¼ˆPreï¼‰" resValue "string", "account_type", "io.jiezhi.app.type.pre" versionNameSuffix '-pre' &#125; debug &#123; applicationIdSuffix ".debug" resValue "string", "app_name", "AppNameï¼ˆdebugï¼‰" resValue "string", "account_type", "io.jiezhi.app.type.debug" versionNameSuffix '-debug' &#125;]]></content>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨æ³¨è§£æ”¹è¿›Androidä»£ç ]]></title>
    <url>%2F2017%2F05%2F07%2Fannotations%2F</url>
    <content type="text"><![CDATA[æ³¨è§£æœ‰å¾ˆå¤šç”¨é€”ã€‚ ä½†æ˜¯ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å°†è®¨è®ºå¦‚ä½•ä½¿ç”¨æ³¨è§£æ¥æ”¹è¿›æˆ‘ä»¬çš„androidç¼–ç ã€‚ æ³¨è§£å³å…ƒæ•°æ®è€Œå…ƒæ•°æ®æ˜¯æä¾›æœ‰å…³å…¶ä»–æ•°æ®çš„ä¿¡æ¯çš„ä¸€ç»„æ•°æ®ã€‚ æ³¨è§£æœ‰å¾ˆå¤šç”¨é€”ã€‚ ä½†æ˜¯ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å°†è®¨è®ºå¦‚ä½•ä½¿ç”¨æ³¨è§£æ¥æ”¹è¿›æˆ‘ä»¬çš„androidç¼–ç ã€‚ å®˜æ–¹Androidå·²ç»æä¾›äº†æ”¯æŒæ³¨è§£ï¼Œä½ å¯ä»¥æ·»åŠ å¦‚ä¸‹ä¾èµ–å…³ç³»æ¥å¯¼å…¥æ³¨è§£ï¼š compile â€˜com.android.support:support-annotations:x.x.xâ€™ æ¯ä¸ªäººéƒ½æƒ³æˆä¸ºä¸€ä¸ªå¥½çš„ç¨‹åºå‘˜ï¼Œæ¯å¤©æˆ‘ä¹Ÿåœ¨åŠªåŠ›åœ°æé«˜è‡ªå·±ã€‚ ä»»ä½•äººéƒ½å¯ä»¥ç¼–å†™è®¡ç®—æœºå¯ä»¥ç†è§£çš„ä»£ç ï¼Œè€Œå¥½çš„ç¨‹åºå‘˜ç¼–å†™äººå¯ä»¥ç†è§£çš„ä»£ç ã€‚ - Martin Fowler è®©æˆ‘ä»¬ä¸€èµ·æŽ¢ç´¢ä¸‹ä¸€äº›æœ‰ç”¨çš„æ³¨è§£ç©ºç±»åž‹æ³¨è§£@Nullableå’Œ@NonNullæ³¨è§£ç”¨äºŽæ£€æŸ¥ç»™å®šçš„å˜é‡ã€å‚æ•°ç”šè‡³æ˜¯è¿”å›žå€¼æ˜¯å¦ä¸ºç©ºã€‚ @Nullableï¼šå®ƒè¡¨ç¤ºä¸€ä¸ªå˜é‡ã€å‚æ•°æˆ–è¿”å›žå€¼å¯ä»¥ä¸ºç©ºã€‚ @NonNUllï¼šå®ƒè¡¨ç¤ºä¸èƒ½ä¸ºç©ºçš„å˜é‡ã€å‚æ•°æˆ–è¿”å›žå€¼ã€‚ ä¾‹å¦‚ï¼š123456@NonNullpublic View getView(@Nullable String s1, @NonNull String s2) &#123; // s1 å¯ä»¥ä¸ºç©º // s2 ä¸å¯ä»¥ä¸ºç©º // è¯¥æ–¹æ³•å¿…é¡»è¿”å›žä¸€ä¸ªä¸ä¸ºç©ºçš„view&#125; æ‰€ä»¥å½“æˆ‘ä»¬å°è¯•è¿™æ ·è°ƒç”¨è¯¥æ–¹æ³•æ—¶ï¼š 1View view = getView("Amit", null); åœ¨ä»£ç æ£€æµ‹æœŸé—´ï¼ŒAndroid Studioä¼šè­¦å‘Šä½ s2çš„å€¼ä¸èƒ½ä¸ºç©ºã€‚ èµ„æºæ³¨è§£æˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒAndroidå¯¹èµ„æºçš„å¼•ç”¨ï¼ˆå¦‚drawableå’Œstringèµ„æºï¼‰éƒ½æ˜¯ä¼ é€’intç±»åž‹çš„ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»éªŒè¯èµ„æºç±»åž‹ã€‚å‡è®¾ä»£ç ä¸­å¸Œæœ›ä¼ å…¥ç‰¹å®šç±»åž‹çš„èµ„æºï¼ˆä¾‹å¦‚Drawablesï¼‰ï¼Œè¿™é‡Œå¯ä»¥ä¼ å…¥å¼•ç”¨ç±»åž‹çš„intå€¼ï¼Œä½†å®žé™…ä¸Šå´ä¼ å…¥äº†å¦å¤–ç±»åž‹çš„èµ„æºï¼Œä¾‹å¦‚R.stringèµ„æºï¼š 1234public void setText(@StringRes int resId) &#123; // resId å¿…é¡»ä¸ºstringç±»åž‹çš„id // resId ä¸èƒ½ä¸ºå¸¸è§„çš„intå€¼&#125; æ‰€ä»¥ï¼Œå½“ä½ åƒå¦‚ä¸‹æ–¹å¼è°ƒç”¨è¯¥æ–¹æ³•æ—¶ï¼š 1textView.setText(56); åœ¨ä»£ç æ£€æµ‹è¿‡ç¨‹ä¸­ï¼Œå½“ä¼ å…¥éžstringèµ„æºçš„å‚æ•°æ—¶ï¼Œæ³¨è§£å°†ä¼šç”Ÿæˆä¸€ä¸ªè­¦å‘Šã€‚ çº¿ç¨‹æ³¨è§£çº¿ç¨‹æ³¨è§£æ£€æŸ¥æ–¹æ³•æ˜¯å¦åœ¨å…¶æœŸæœ›çš„çº¿ç¨‹è¢«è°ƒç”¨ã€‚ æ”¯æŒçš„æ³¨è§£æœ‰ï¼š @MainThread@UiThread@WorkerThread@BinderThread@AnyThread å¦‚æžœä½ æ·»åŠ å¦‚ä¸‹çš„æ³¨è§£ï¼š1234@WorkerThreadpublic void doSomething()&#123; // è¯¥æ–¹æ³•ä¸€å®šè¦ä»Žworkerçº¿ç¨‹è°ƒç”¨&#125; å¦‚æžœä½ ä»Žéžworkerçº¿ç¨‹è°ƒç”¨è¯¥æ–¹æ³•æ—¶ï¼Œä½ å°†ä¼šå¾—åˆ°ä¸€ä¸ªè­¦å‘Šã€‚ å€¼é™å®šæ³¨è§£æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¿…é¡»å¯¹å‚æ•°åšä¸€äº›çº¦æŸï¼Œæ‰€ä»¥ä½¿ç”¨@IntRangeï¼Œ@FloatRangeå’Œ@Sizeæ³¨è§£æ¥éªŒè¯ä¼ å…¥å‚æ•°çš„å€¼ã€‚ å½“è°ƒç”¨è¯¥æ–¹æ³•çš„äººå¯èƒ½ä¼šä¼ é€’é”™è¯¯çš„å€¼ï¼ˆè¶…å‡ºæŒ‡å®šçš„èŒƒå›´ï¼‰æ—¶ï¼Œè¯¥æ³¨è§£æ˜¯éžå¸¸æœ‰ç”¨çš„ã€‚ åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œ@IntRangeæ³¨è§£ç¡®ä¿ä¼ é€’çš„æ•´æ•°å€¼å¿…é¡»åœ¨0åˆ°255ä¹‹é—´ã€‚ 1public void setAlpha(@IntRange(from=0,to=255) int alpha) &#123;&#125; æƒé™æ³¨è§£ä½¿ç”¨@RequiresPermissionæ³¨è§£æ¥éªŒè¯è°ƒç”¨è€…çš„æƒé™ã€‚ ä»¥ä¸‹ç¤ºä¾‹æ³¨è§£setWallpaper()æ–¹æ³•æ¥ç¡®ä¿æ–¹æ³•çš„è°ƒç”¨è€…å…·æœ‰permission.SET_WALLPAPERSæƒé™ï¼š 12@RequiresPermission(Manifest.permission.SET_WALLPAPER)public abstract void setWallpaper(Bitmap bitmap) throws IOException; å¦‚æžœåœ¨è°ƒç”¨è¯¥æ–¹æ³•æ—¶æ²¡æœ‰åœ¨manifestæ–‡ä»¶ä¸­æ·»åŠ éœ€è¦çš„æƒé™ï¼Œä»£ç æ£€æµ‹å™¨å°†ä¼šç»™ä½ ä¸€ä¸ªè­¦å‘Šã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[androidä¸­çš„ArrayMapå’ŒSparseArray]]></title>
    <url>%2F2017%2F03%2F30%2Fandroid-arraymap-vs-sparsearray%2F</url>
    <content type="text"><![CDATA[ä¸ºäº†æé«˜Androidåº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼ŒAndroidç³»ç»Ÿæä¾›äº†ä¸“é—¨ä¸ºç§»åŠ¨å¼€å‘è€Œè®¾è®¡çš„é›†åˆã€‚ é›†åˆæ˜¯è½¯ä»¶å¼€å‘ä¸­æœ€å¸¸ç”¨çš„ä¸œè¥¿äº†ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œå½“éœ€è¦å°†æ•°æ®å­˜å‚¨åœ¨é”®å€¼å¯¹ä¸­æ—¶ï¼Œæˆ‘ä»¬æƒ³åˆ°çš„ç¬¬ä¸€ä¸ªæ•°æ®ç»“æž„å°±æ˜¯HashMapã€‚ å®ƒéžå¸¸çš„çµæ´»ï¼Œå› æ­¤å®ƒæ˜¯å­˜å‚¨é”®å€¼å¯¹çš„æ•°æ®ç»“æž„çš„æœ€ä¼˜é€‰æ‹©ã€‚ å› æ­¤ï¼ŒArrayMapå’ŒSparseArrayæ¯”ä½¿ç”¨HashMapæœ‰æ›´é«˜çš„å†…å­˜æ•ˆçŽ‡ã€‚ HashMapåŽŸç†HashMapåŸºæœ¬ä¸Šæ˜¯HashMap.Entryå¯¹è±¡çš„ä¸€ä¸ªæ•°ç»„ã€‚ Entryæ˜¯HashMapçš„å†…éƒ¨ç±»ï¼Œå®ƒç”¨æ¥ä¿å­˜é”®å€¼å¯¹ã€‚ å½“é”®å€¼å¯¹è¢«æ’å…¥åˆ°HashMapä¸­æ—¶ï¼Œä¼šè®¡ç®—å‡ºè¯¥é”®çš„hashCodeï¼Œå¹¶å°†è¯¥å€¼åˆ†é…ç»™EntryClassçš„hashCodeå˜é‡ã€‚ é€šè¿‡è¯¥hashCodeï¼Œæˆ‘ä»¬å¯ä»¥èŽ·å–è¯¥é”®å€¼å¯¹åœ¨å­˜å‚¨æ± ä¸­çš„ç´¢å¼•ã€‚ å¦‚æžœå­˜å‚¨æ± ä¸­å·²ç»å­˜åœ¨äº†é”®å€¼å¯¹ï¼Œåˆ™å°†æ’å…¥æ–°çš„é”®å€¼å¯¹ï¼Œå¹¶æŠŠæœ€åŽä¸€ä¸ªé”®å€¼å¯¹æŒ‡å‘è¿™ä¸ªæ–°çš„é”®å€¼å¯¹ï¼Œè¿™ä½¿å¾—å­˜å‚¨æ± æˆä¸ºä¸€ä¸ªé“¾æŽ¥åˆ—è¡¨ã€‚ ä»Žæ•°ç»„ä¸­æ£€ç´¢å€¼çš„æ—¶é—´æ•ˆçŽ‡ä¸ºæ’å®šæ—¶é—´æˆ–O(1)ã€‚ è¿™æ„å‘³ç€ä¸ç®¡æ•°ç»„çš„å¤§å°ï¼Œæ‹‰å–æ•°ç»„ä¸­çš„ä»»ä½•å…ƒç´ æ—¶é—´éƒ½ç›¸åŒã€‚ è¿™å¯ä»¥é€šè¿‡ä½¿ç”¨æ•£åˆ—å‡½æ•°æ¥ç”ŸæˆæŒ‡å®šé”®çš„æ•°ç»„ç´¢å¼•ã€‚ HashMapç”¨äºŽå°†æ•´æ•°é”®æ˜ å°„åˆ°å¯¹è±¡ã€‚ ä»¥ä¸‹æ˜¯åˆ›å»ºHashMapå’ŒèŽ·å–é”®å’Œå€¼çš„ç¤ºä¾‹ä»£ç ï¼š1234567891011121314HashMap&lt; String, String&gt; map = new HashMap&lt; String, String&gt;();map.put(â€œKey1â€, "Value1");map.put(â€œKey2â€, " Value2");map.put(â€œKey3â€, " Value3");Set set = hmap.entrySet();Iterator iterator = set.iterator();// Iterate over HashMapwhile(iterator.hasNext()) &#123; Map.Entry mEntry = (Map.Entry)iterator.next(); String key = mEntry.getKey(); String value = mEntry.getValue();&#125; ArrayMapåŽŸç†ä¸åƒHashMapä¸­åŒ…å«ä¸€ä¸ªæ•°ç»„ï¼ŒArrayMapä¸­åŒ…å«äº†ä¸¤ä¸ªå°æ•°ç»„ã€‚ ç¬¬ä¸€ä¸ªæ•°ç»„ï¼ˆHash-Arrayï¼‰æŒ‰é¡ºåºåŒ…å«æŒ‡å®šçš„å“ˆå¸Œé”®ã€‚ ç¬¬äºŒä¸ªæ•°ç»„ï¼ˆKey Value Arrayï¼‰æ ¹æ®ç¬¬ä¸€ä¸ªæ•°ç»„å­˜å‚¨å¯¹è±¡çš„é”®å’Œå€¼ã€‚ å½“æˆ‘ä»¬æœç´¢å…¶ä¸­çš„å†…å®¹æ—¶ï¼Œå°†ä¼šåœ¨Hash-Arrayä¸Šå®ŒæˆäºŒåˆ†æŸ¥æ‰¾ï¼Œé€šè¿‡æ‰¾åˆ°çš„å“ˆå¸Œç´¢å¼•ï¼Œç„¶åŽç›´æŽ¥ä»Žç¬¬äºŒä¸ªæ•°ç»„ï¼ˆKey Value Arrayï¼‰è¿”å›žé”®å€¼å¯¹ã€‚ å¦‚æžœç¬¬äºŒä¸ªæ•°ç»„ï¼ˆKey Value Arrayï¼‰ä¸­çš„é”®ä¸åŒ¹é…ï¼Œåˆ™é€šè¿‡ç¬¬äºŒä¸ªæ•°ç»„ï¼ˆKey Value Arrayï¼‰å®Œæˆçº¿æ€§éåŽ†æ¥è§£å†³å†²çªã€‚ ä»¥ä¸‹æ˜¯åˆ›å»ºArrayMapå’ŒèŽ·å–é”®å’Œå€¼çš„ç¤ºä¾‹ä»£ç ï¼š 123456789ArrayMap&lt;String, String&gt; arrayMap = new ArrayMap&lt;&gt;();arrayMap.put(â€œKey1â€, â€œValue1â€);arrayMap.put(â€œKey2â€, â€œValue2â€);arrayMap.put(â€œKey3â€, â€œValue3â€);for (int i = 0; i &lt; arrayMap.size(); i++) &#123; String key = arrayMap.keyAt(i); String value = arrayMap.valueAt(i);&#125; SparseArrayåŽŸç†ä¸ŽArrayMapçš„ä¸»è¦åŒºåˆ«åœ¨äºŽï¼Œåœ¨SparseArrayé”®ä¸­å§‹ç»ˆæ˜¯åŽŸå§‹ç±»åž‹ã€‚ åœ¨å…¶ä»–æ–¹é¢çš„æ“ä½œåŽŸç†æ˜¯ç›¸ä¼¼çš„ã€‚ å½“é”®æ˜¯åŽŸå§‹ç±»åž‹æ—¶ï¼Œç¨€ç–æ•°ç»„ï¼ˆSparse arraysï¼‰å¯ç”¨äºŽæ›¿æ¢å“ˆå¸Œæ˜ å°„ï¼ˆhash mapsï¼‰ã€‚ SparseArrayæ—¨åœ¨æ¶ˆé™¤è‡ªåŠ¨è£…ç®±çš„é—®é¢˜ï¼ˆArrayMapä¸èƒ½é¿å…è‡ªåŠ¨è£…ç®±é—®é¢˜ï¼‰ï¼Œè€Œè¿™ç§æ–¹æ³•ä¼šå½±å“å†…å­˜æ¶ˆè€—ã€‚ ä»¥ä¸‹æ˜¯åˆ›å»ºSparseArrayçš„ç¤ºä¾‹ä»£ç ï¼š1234567891011SparseArray sparseArray = new SparseArray();sparseArray.put(1, â€œValue1â€);SparseLongArray sparseLongArray = new SparseLongArray();sparseLongArray.put(1, 1L);SparseBooleanArray sparseBooleanArray = new SparseBooleanArray();sparseBooleanArray.put(1, true);SparseIntArray sparseIntArray = new SparseIntArray();sparseIntArray.put(1, 2); è¯¥ç±»åœ¨API 1ä¸­å·²ç»å­˜åœ¨äº†ï¼Œä½†åœ¨API 11ä¸­ç»è¿‡äº†é‡æ–°è®¾è®¡ã€‚å…¼å®¹åº“ä¸­çš„æ›´æ–°ç‰ˆæœ¬çš„SparseArrayCompatä¹Ÿå¯ç”¨äºŽè¾ƒæ—§è®¾å¤‡ã€‚ è¿˜æœ‰å‡ ç§å…¶ä»–ç±»åž‹çš„SparseArrayï¼š LongSparseArrayï¼ŒSparseIntArrayï¼ŒSparseBooleanArrayç­‰HashMapå¯ä»¥è¢«ä»¥ä¸‹çš„Arrayç±»æ›¿æ¢ï¼š Comparisonå†…å­˜çš„è¿žç»­åˆ†é…å’Œå›žæ”¶ä»¥åŠåžƒåœ¾æ”¶é›†å°†å¯¼è‡´Androidåº”ç”¨ç¨‹åºçš„æ»žåŽï¼Œä»Žè€Œé™ä½Žäº†åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚ é™¤æ­¤ä¹‹å¤–ï¼ŒArrayMapï¼†SparseArrayé€šè¿‡ä½¿ç”¨2ä¸ªå°æ•°ç»„è€Œä¸æ˜¯ä¸€ä¸ªå¤§çš„æ•°ç»„æ¥é¿å…å†…å­˜é—®é¢˜ã€‚ ä½¿ç”¨SparseArrayæ¯”ä½¿ç”¨HashMapçš„å¥½å¤„æ˜¯ï¼š ä½¿ç”¨åŽŸè¯­ï¼ˆprimitivesï¼‰å¸¦æ¥æ›´å¤šçš„å†…å­˜æ•ˆçŽ‡ æ²¡æœ‰è‡ªåŠ¨è£…ç®±æ“ä½œ è‡ªç”±åˆ†é…å†…å­˜ ç¼ºç‚¹: å¯¹äºŽå¤§é›†åˆï¼Œé€Ÿåº¦è¾ƒæ…¢ ä»…é€‚ç”¨äºŽAndroid ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æžœæ²¡æœ‰é¢‘ç¹çš„æ’å…¥æˆ–åˆ é™¤æ“ä½œï¼Œä¸”å¤§å°æ˜¯å°äºŽ1000ï¼Œé‚£ä¹ˆArrayMap / SparseArrayç±»æ˜¯éžå¸¸å¥½çš„é€‰æ‹©ã€‚ æ¥è‡ªAndroidå¼€å‘è€…çš„è§†é¢‘å°†ä¸ºæ‚¨æä¾›è¿›ä¸€æ­¥çš„ç»†èŠ‚ï¼š ç»“è®ºæˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼Œå°†æ•´æ•°æ˜ å°„åˆ°å¯¹è±¡ï¼ŒSparseArrayæ¯”ä½¿ç”¨HashMapçš„æ›´æœ‰æ•ˆã€‚ ç†è®ºæ˜¯SparseArrayå¯ä»¥æ¯”HashMapï¼ˆ&lt;1000ï¼‰æ›´å¿«åœ°æ·»åŠ å’Œæ£€ç´¢å…ƒç´ ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå‡å°‘äº†å“ˆå¸Œå‡½æ•°å¤„ç†æ—¶é—´ã€‚ åŽŸæ–‡åœ°å€ï¼šhttps://android.jlelse.eu/app-optimization-with-arraymap-sparsearray-in-android-c0b7de22541a]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Android Studio æŠ€å·§8 â€”â€” Jsonæ¨¡åž‹]]></title>
    <url>%2F2017%2F03%2F21%2Fandroid-studio-tip8%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘JSONå¯¹è±¡éžå¸¸å—æ¬¢è¿Žã€‚é‚£è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•å¯¹ä»–ä»¬å»ºæ¨¡ã€‚ è¯•æƒ³ä¸€ä¸‹ï¼Œä½ çš„åŽç«¯å›¢é˜Ÿç»™äº†ä½ ä¸€ä¸ªä½ æœŸæœ›çš„JSONç¤ºä¾‹ã€‚ åˆ†æžè¿‡åŽï¼Œä½ å°è¯•å»ºç«‹POJOæ¨¡åž‹ï¼Œæ‰€ä»¥ä½ é€šè¿‡ä¼—å¤šçš„ç¬¬ä¸‰æ–¹åº“ç®€å•åœ°è¿›è¡Œæ³¨å…¥ï¼ˆä¾‹å¦‚gsonï¼‰ã€‚ ä½ èŠ±äº†å¾ˆå¤šæ—¶é—´æ¥åˆ›å»ºè¡¨ç¤ºjsonçš„æ¯ä¸ªå•ä¸ªå®žä½“çš„POJOã€‚ è¿™éžå¸¸æ— èŠè€Œä¸”æµªè´¹äº†å¤§é‡çš„æ—¶é—´ã€‚ éƒ¨åˆ†äººå¯èƒ½ä¼šä½¿ç”¨json2pojoç½‘ç«™ï¼Œä½†ä½ ä»ç„¶å¿…é¡»æ‰‹åŠ¨å°†ç”Ÿæˆçš„ç±»æ”¾å…¥åˆ°ä½ çš„åŒ…ï¼Œè€Œä¸”å¯èƒ½å˜å¾—å¾ˆæ··ä¹±ã€‚ è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¸é”™çš„æ’ä»¶ï¼Œå¯ä»¥æ›´é«˜æ•ˆåœ°å¤„ç†è¿™ä¸ªè¿‡ç¨‹ã€‚ RoboPOJOGeneratorå®ƒæ”¯æŒä»Žæ¨¡å¼(schema)æˆ–ä»Žå®žé™…çš„JSONæ•°æ®ä¸­ç”ŸæˆPOJOæ¨¡åž‹ã€‚ å®ƒè¿˜å¯ä»¥ç”Ÿæˆæ”¯æŒgsonï¼ŒJacksonï¼ŒLoganSquareå’ŒAutoValueGsonæ–¹æ¡ˆçš„å¯¹è±¡ï¼Œå› æ­¤æ‚¨å¯ä»¥ä½¿ç”¨ä»»ä½•ç§ç±»çš„åº“æ¥è§£æžã€‚ å®ƒè¿˜æ”¯æŒKotlinï¼Œè¿™æ˜¯ä¸€ä¸ªéžå¸¸å¥½çš„åŠŸèƒ½ã€‚å®ƒè¿˜ä¼šé—®ä½ æ˜¯å¦è¦ç”ŸæˆtoStringå’Œgettersï¼†settersæ–¹æ³•ã€‚ æˆ‘å¸Œæœ›è¿™å°†å¸®åŠ©ä½ åŠ å¿«å¼€å‘è¿‡ç¨‹ï¼Œå¹¶ä¸”å‡å°‘æ— èŠçš„å·¥ä½œé‡ï¼ æ•¬è¯·å…³æ³¨ä¸‹ä¸€ç¯‡æ–‡ç« ï¼]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>android</tag>
        <tag>json</tag>
        <tag>translate</tag>
        <tag>plugin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘android studio æŠ€å·§1â€”â€”Parcelable]]></title>
    <url>%2F2017%2F03%2F19%2Fandroid-studio-tip1%2F</url>
    <content type="text"><![CDATA[æœ€åŽï¼Œæˆ‘å†³å®šå¼€å§‹æˆ‘è‡ªå·±çš„æŠ€æœ¯åšå®¢ã€‚é¦–å…ˆå‘å¸ƒä¸€ç³»åˆ—çš„å¸–å­æ¥æè¿°ä¸€äº›æˆ‘æ¯å¤©å¼€å‘éƒ½åœ¨ä½¿ç”¨çš„Android Studioæ’ä»¶ã€‚ å¦‚æžœä½ ä¸çŸ¥é“å¦‚ä½•åœ¨Android Studioä¸­å®‰è£…æ’ä»¶ï¼Œè¯·ç‚¹å‡»æ­¤é“¾æŽ¥ã€‚ Android Parcelableä»£ç ç”Ÿæˆå™¨ä½ æ˜¯å¦æœ‰è¿‡å¿…é¡»åœ¨ä¸¤ä¸ªActivity/Fragmentä¹‹é—´è½¬å‘æ•°æ®æƒ…å†µï¼Ÿ å¦‚æžœæ˜¯çš„è¯ï¼Œä½ åº”è¯¥ç†Ÿæ‚‰Bundleç±»çš„ç”¨æ³•ï¼Œä½ ä¹ŸçŸ¥é“ä½ åªèƒ½åœ¨å…¶ä¸­æ”¾ç½®ä¸€ä¸ªç‰¹å®šç±»åž‹çš„é¡¹ç›®ã€‚ ä½†æ˜¯å¦‚æžœæˆ‘æƒ³è½¬å‘æ•´ä¸ªå¯¹è±¡å‘¢ï¼Ÿ é‚£ä¹ˆï¼Œè¯¥å¯¹è±¡å°†éœ€è¦å®žçŽ°Serializableæˆ–ParcelableæŽ¥å£ã€‚ ç¬¬ä¸€ç§æ–¹å¼å¯¹äºŽå¼€å‘äººå‘˜è¿˜ç®—ç®€å•ï¼Œåœ¨ç¬¬ä¸€ä¸ªå®žä¾‹ä¸­ï¼Œæˆ‘ä»¬ä¼¼ä¹Žè¦ç”¨è¿™ç§æ–¹å¼ã€‚ ä½†æ˜¯ï¼Œæ­£å¦‚è¿™ä¸ªå¸–å­è§£é‡Šçš„ï¼Œä½¿ç”¨ParcelableæŽ¥å£æ˜¯æ›´æœ‰æ•ˆçŽ‡çš„ã€‚ ä¸è¿‡å®ƒçš„ç¼ºç‚¹æ˜¯éœ€è¦å†™ä¸€ç‚¹ä»£ç ï¼Œè€Œä¸”å¯èƒ½ä¸æ˜¯é‚£ä¹ˆç›´è§‚ã€‚è¿™æ˜¯â€œAndroid Parcelableä»£ç ç”Ÿæˆå™¨â€æ’ä»¶æ‰€åšçš„ã€‚ ä½ å¯ä»¥è®©è¿™ä¸ªæ’ä»¶ç”Ÿæˆå®žçŽ°ParcelableæŽ¥å£æ‰€éœ€çš„ä»£ç ã€‚ å…·ä½“æ€Žä¹ˆåšå‘¢ï¼Œè¯·å¾€ä¸‹çœ‹ï¼š å¦‚æžœæœ‰äººä½¿ç”¨Kotliinçš„è¯ï¼Œè¿™é‡Œä¹Ÿæœ‰ä¸€æ¬¾æ’ä»¶å¯ä»¥ä½¿ç”¨ï¼šParcelable Code Generator(for kotlin)æ•¬è¯·å…³æ³¨ä¸‹ä¸€ç¯‡æ–‡ç« ï¼]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>android</tag>
        <tag>translate</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Android Studio æŠ€å·§2â€”â€”èµ„æºå’Œå›¾æ ‡]]></title>
    <url>%2F2017%2F03%2F19%2Fandroid-studio-tip2%2F</url>
    <content type="text"><![CDATA[è¿™æ˜¯æˆ‘çš„ç¬¬äºŒç¯‡å¸–å­ã€‚ ä»Šå¤©æˆ‘è¦è®¨è®ºä¸€ä¸‹èµ„æºï¼Œç‰¹åˆ«æ˜¯å›¾æ ‡è¿™å—ã€‚ Android Drawable Importerä½œä¸ºAndroidå¼€å‘äººå‘˜ï¼Œä½ åº”è¯¥åœ¨drawableæ–‡ä»¶å¤¹ä¸­æ‰‹åŠ¨åœ°å¯¼å…¥è¿‡å¾ˆå¤šå›¾æ ‡äº†ã€‚ æœ‰äº›èªæ˜Žçš„è®¾è®¡å¸ˆç»™ä½ çš„èµ„æºå·²ç»æŒ‰ç…§æ­£ç¡®çš„å‘½åæ”¾åœ¨äº†æ­£ç¡®çš„æ–‡ä»¶å¤¹ä¸­äº†ï¼Œè¿™ä¼šç®€åŒ–ä½ å¾ˆå¤šçš„å·¥ä½œã€‚ä½†æœ‰æ—¶å€™ä½ å¯èƒ½è¦é‡å‘½åå’Œæ‰‹åŠ¨ç§»åŠ¨æ¯ä¸ªPNGæ–‡ä»¶åˆ°ç›¸å…³çš„drawableæ–‡ä»¶å¤¹ä¸­ã€‚ è¿™ä¼šèŠ±è´¹ä½ ä¸€äº›æ—¶é—´ï¼Œäº›è®¸è‹¦æ¼ã€‚ æˆ‘éžå¸¸æƒ³æŠŠè¿™æ—¶é—´ç”¨åœ¨åˆ«çš„äº‹æƒ…ä¸Šï¼Œé‚£æˆ‘ä»¬å¦‚ä½•æ”¹è¿›å®ƒå¹¶åœæ­¢æµªè´¹æ—¶é—´å‘¢ï¼Ÿ â€œAndroid Drawable Importerâ€è¿™æ¬¾æ’ä»¶å°†ä¼šå¸®åŠ©åˆ°ä½ ã€‚ å®ƒä¸»è¦æœ‰4ä¸ªä¸»è¦ç‰¹ç‚¹ï¼š æ‰¹é‡å¯¼å…¥èµ„æº å¯¼å…¥å›¾æ ‡èµ„æºåŒ… å¯¼å…¥çŸ¢é‡èµ„æº å¤šåˆ†è¾¨çŽ‡ï¼ˆMultisourceï¼‰èµ„æº æ‰¹é‡å¯¼å…¥èµ„æºè¿™æ˜¯ä¸ªéžå¸¸æœ‰ç”¨çš„ç‰¹æ€§ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å¯¼å…¥ä¸€æ‰¹drawableã€‚ å‡è®¾ä½ æœ‰5ä¸ªåªæœ‰ä¸€ç§åˆ†è¾¨çŽ‡çš„ä¸åŒçš„å›¾æ ‡ï¼Œä½ å¯ä»¥ä¸€æ¬¡æŠŠä»–ä»¬å¯¼å…¥åˆ°æŒ‡å®šåˆ†è¾¨çŽ‡çš„æ–‡ä»¶å¤¹ä¸­ã€‚ å¦‚æžœä½ æƒ³çš„è¯ï¼Œå®ƒè¿˜åˆ›å»ºå…¶ä»–çš„pngçš„drawableæ–‡ä»¶å¤¹ã€‚ å¯¼å…¥å›¾æ ‡èµ„æºåŒ…å¯¼å…¥å›¾æ ‡èµ„æºåŒ…å…è®¸ä½ ä»Žé¢„å®šä¹‰èµ„æºé›†åˆä¸­å¯¼å…¥å›¾æ ‡ï¼Œè€Œä¸”ä½ è¿˜å¯ä»¥æŒ‡å®šå…¶å¤§å°ï¼Œé¢œè‰²ï¼Œæ ¼å¼å’Œå°ºå¯¸ã€‚ è¿™å·²ç»ä¸æ˜¯ç‰¹åˆ«æœ‰ç”¨äº†ï¼Œå› ä¸ºAndroid Studioé›†æˆäº†ä¸€ä¸ªåä¸ºImage Asset Studioçš„åŠŸèƒ½ï¼Œé€šè¿‡å®˜æ–¹çš„è¿™ä¸ªæ’ä»¶ä½ å¯ä»¥åšåŒæ ·æˆ–æ›´å¤šçš„äº‹ã€‚ ä¾‹å¦‚ï¼Œä½ å¯ä»¥å°†æ–‡æœ¬ä½œä¸ºèµ„æºå¯¼å‡ºï¼Œæˆ–è€…ä½ å¯ä»¥ç”¨æ¥å¤„ç†å›¾ç‰‡ã€‚ å¯¼å…¥çŸ¢é‡èµ„æºå¯¼å…¥çŸ¢é‡èµ„æºä½¿ä½ èƒ½å¤Ÿä»Žç»™å®šçš„é›†åˆå¯¼å…¥çŸ¢é‡èµ„æºã€‚ Android Studioå·²ç»é›†æˆäº†ä¸€ä¸ªåä¸ºVector Asset Studioçš„ç±»ä¼¼å·¥å…·ã€‚ æ­¤å¤–ï¼Œå®ƒè¿˜å…è®¸ä½ ä»Žç»™å®šçš„SVGæˆ–PSDå¯¼å…¥å‘é‡ã€‚ æˆ‘å»ºè®®åœ¨è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨é›†æˆå·¥å…·è€Œä¸æ˜¯æ’ä»¶ã€‚ å¤šåˆ†è¾¨çŽ‡èµ„æºæœ€åŽä½†åŒæ ·é‡è¦çš„æ˜¯ï¼Œå¤šåˆ†è¾¨çŽ‡èµ„æºã€‚ ä½ å¯ä»¥ä¸ºæ¯ä¸ªå¯¼å…¥çš„èµ„æºçš„ä¸åŒåˆ†è¾¨çŽ‡æŒ‡å®šä¸ºä¸åŒå›¾æ ‡ã€‚ å¦‚æžœä½ éœ€è¦æ ¹æ®å±å¹•åˆ†è¾¨çŽ‡ä½¿ç”¨ä¸åŒçš„å›¾æ ‡ï¼Œæˆ–è€…å¦‚æžœä½ åœ¨ä¸åŒçš„æ–‡ä»¶å¤¹ä¸­æœ‰åŒæ ·çš„å›¾æ ‡ï¼Œå¹¶ä¸”æƒ³è¦ç«‹å³å¯¼å…¥æ‰€æœ‰å›¾æ ‡ï¼Œè¿™ä¸ªå¯èƒ½éžå¸¸æœ‰ç”¨ã€‚ æœ¬æ–‡åˆ°æ­¤ç»“æŸã€‚ å¦‚æžœæœ‰æƒ³æ³•è¯·ç•™ä¸‹ä½ çš„è¯„è®ºï¼]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>android</tag>
        <tag>translate</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Android Studio è´´å£« 3â€” FindViewById]]></title>
    <url>%2F2017%2F03%2F16%2Fandroid-studio-findviewbyid%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©ï¼Œæˆ‘ä»¬è®¨è®ºä¸€ä¸‹Viewã€‚è®©æˆ‘ä»¬è°ˆè°ˆå¦‚ä½•å¿«é€Ÿåœ°ä»Žxmlå¸ƒå±€æ–‡ä»¶ä¸­èŽ·å–åˆ°å®šä¹‰å¥½çš„Viewå®žä¾‹ã€‚ æœ¬æ–‡ç¿»è¯‘è‡ªFederico Palmieri çš„æ–‡ç« ã€‚ æˆ‘å¾ˆç¡®å®šæ¯ä¸ªAndroidå¼€å‘äººå‘˜éƒ½ä¼šå¾ˆå¿«å°±å¼€å§‹åŽŒçƒ¦ï¼Œä¸ºlayoutæ–‡ä»¶ä¸­çš„Viewç¼–å†™findviewbyidçš„é‡å¤åŠ¨ä½œã€‚å¦‚æžœä½ ä¸åŽŒçƒ¦å®ƒï¼Œé‚£ä¹ˆè®©æˆ‘ä»¬å°è¯•å¦ä¸€ç§æ–¹å¼ï¼Œæ¥é¿å…æµªè´¹æ—¶é—´ï¼ æœ‰äº›äººå¯èƒ½ä½¿ç”¨ButterKnifeæ¥é¿å…findviewbyidåŽçš„è½¬æ¢ï¼ˆå¯èƒ½è¿˜æœ‰å…¶ä»–ä¸€äº›åŽŸå› ï¼‰ã€‚å³ä½¿è¿™æ ·ï¼Œå®ƒä¹Ÿä¸ä¼šå‡è½»ç»™æ¯ä¸ªçš„idåŠ æ³¨è§£çš„ç—›è‹¦ã€‚ æœ‰å¤šå°‘æ¬¡ä½ ä»Žxmlå¸ƒå±€å’Œä½ çš„javaä»£ç æ¥å›žåˆ‡æ¢ï¼Œåªæ˜¯å› ä¸ºä½ å¿˜äº†ä¸€ä¸ªviewçš„idï¼Ÿè®©æˆ‘ä»¬æ”¾å¼ƒè¿™ç§æ–¹å¼å§ï¼ æˆ‘ä»¬æœ‰ä¸¤ç§ä¸åŒçš„æ–¹å¼å¯ä»¥ä½¿ç”¨ï¼Œæ— è®ºä½ ä½¿ç”¨ç®€å•çš„findviewbyidè¿˜æ˜¯ä½¿ç”¨ButterKnifeã€‚ ä½¿ç”¨ButterKnifeå¦‚æžœä½ æ˜¯ButterKnifeçš„ç”¨æˆ·ï¼Œé‚£ä¹ˆä½ å¯èƒ½è¦å­¦ä¹ ä¸‹Android ButterKnife Zeleznyã€‚ Android ButterKnife Zelezny è¿™ä¸ªæ’ä»¶å°†å…è®¸ä½ ç®€å•åœ°ç”ŸæˆButterKnifeæ³¨è§£ï¼Œè€Œå¯¹äºŽActivityå’ŒFragmentï¼Œå®ƒä¹Ÿå°†æ·»åŠ ButterKnife.bind(â€¦)æ–¹æ³•çš„è°ƒç”¨ã€‚åœ¨Viewä¸­ï¼Œåˆ™éœ€è¦ä½ è‡ªå·±æ·»åŠ è¯¥è°ƒç”¨ã€‚ Activity Fragment View ä¸ä½¿ç”¨ButterKnifeå¦‚æžœä½ ä¸ä½¿ç”¨ButterKnifeï¼Œé‚£ä¹ˆä½ å¯èƒ½éœ€è¦è€ƒè™‘ä½¿ç”¨FindViewByMeã€‚ FindViewByMe ç¼–è¾‘ï¼šæˆ‘ä¹‹å‰å‘è¯¥ä»“åº“ä¸­æŽ¨é€å¯¹Fragmentå’Œè‡ªå®šä¹‰Viewçš„æ”¯æŒï¼Œå¦‚ä»Šï¼Œå¼€å‘äººå‘˜å‘å¸ƒäº†è§£å†³ä¸‹é¢æåˆ°çš„é—®é¢˜çš„æ’ä»¶çš„v1.3.5ã€‚ æˆ‘å°†ç›¸åº”åœ°æ›´æ–°GIFã€‚ è¿™ä¸ªå¾ˆæ£’çš„æ’ä»¶ä»ç„¶åœ¨å¼€å‘ä¸­ï¼Œç›®å‰è¿˜ä¸èƒ½å¾ˆå¥½åœ°æ”¯æŒFragmentå’Œè‡ªå®šä¹‰viewã€‚ åœ¨Activityä¸­ï¼Œå®ƒå°†ä¸ºä½ æ‰§è¡Œä¸€åˆ‡ï¼Œè€Œæ— éœ€æ‰‹åŠ¨å®šä¹‰å’Œèµ‹å€¼å¸ƒå±€æ–‡ä»¶ä¸­çš„viewã€‚ åœ¨Fragmentå’Œè‡ªå®šä¹‰viewä¸­ï¼Œæ‚¨å°†éœ€è¦ç¨å¾®æ›´å¤šçš„åŠªåŠ›ã€‚ Activity å¦‚å‰æ‰€è¿°ï¼Œå®ƒä¸èƒ½å¾ˆå¥½åœ°ä¸ŽFragmentå·¥ä½œï¼Œä½†æˆ‘ä»¬ä»»ç„¶å¯ä»¥ä½¿å®ƒå·¥ä½œã€‚ ä½ éœ€è¦é‡å†™onCreateï¼Œå› ä¸ºæ’ä»¶åªèƒ½åœ¨onCreateæ–¹æ³•ä¸­è°ƒç”¨ç”Ÿæˆä»£ç æ¥å·¥ä½œã€‚ Fragment (Hexoæ’å…¥è§†é¢‘å¯èƒ½æœ‰é—®é¢˜ï¼Œå¯ä»¥ç‚¹å‡»é“¾æŽ¥æŸ¥çœ‹)æ²¹ç®¡è§†é¢‘ åœ¨è§†å›¾ä¸­ï¼Œå®ƒçš„å·¥ä½œåŽŸç†ä¸ŽFragmentä¸­çš„å‡ ä¹Žç›¸åŒã€‚ ä½ ä¸èƒ½é‡å†™onCreateï¼Œä½†ä½ å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªå‡çš„onCreate()æ–¹æ³•æ¥ä½œå¼Šã€‚ Viewæ²¹ç®¡è§†é¢‘ ä½ å¯ä»¥å¸®åŠ©è¿™ä¸ªæ’ä»¶çš„å¼€å‘è€…ç»§ç»­æ”¹è¿›å®ƒï¼Œå¹¶é€šè¿‡forkè¯¥ä»“åº“æ¥è§£å†³ä¸Šè¿°é—®é¢˜ã€‚ æ„Ÿè°¢ï¼Œå’Œå¾€å¸¸ä¸€æ ·ï¼Œè¯·è®©æˆ‘çŸ¥é“ä½ çš„æ„è§ï¼]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>android</tag>
        <tag>translate</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[6è¡Œè„šæœ¬èŽ·å–Google Voice]]></title>
    <url>%2F2017%2F03%2F12%2Fget-google-voice%2F</url>
    <content type="text"><![CDATA[Google Voiceï¼ˆç®€ç§°GVï¼‰åœ¨ç¨‹åºå‘˜çš„åœˆå­é‡Œä¹Ÿä¸ç®—å¤ªé™Œç”Ÿäº†ï¼Œå°¤å…¶æ˜¯ç»å¸¸æ··Vç«™çš„äººåº”è¯¥ç»å¸¸è§åˆ°è¿™è´§çš„å‡ºçŽ°ã€‚ä¸æ¸…æ¥šçš„å¯ä»¥å…³æŽ‰æˆ–è€…å…ˆè‡ªè¡ŒGoogleäº†ã€‚ å¦‚æžœä½ ä¸Šç½‘æŸ¥æ•™ç¨‹ï¼Œå…¶å®žå¾ˆç®€å•æ— éžä½¿ç”¨ç±»ä¼¼TextNow/TextMeç­‰å…ˆç”³è¯·ä¸ªç¾Žå›½çš„å·ç ï¼Œç„¶åŽç»‘å®šGoogleè´¦å·ï¼Œå†ä»ŽGoogleç”³è¯·ä¸ªVoiceå·ç å³å¯ã€‚æ­¥éª¤ä¹Ÿä¸å¤šï¼Œä½†å¾ˆå¤šäººGoogle Voiceå·ç éƒ½é€‰å¥½äº†ï¼Œå¯å°±æ˜¯ç‚¹å‡»ç”³è¯·ä¼šä¸€ç›´å‡ºçŽ°ã€Žè¯·æ±‚é”™è¯¯ã€çš„æç¤ºã€‚æ®æŠ¥é“ç§°ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜çš„å”¯ä¸€é€”å¾„å°±æ˜¯ã€Žç‹‚ç‚¹å¤§æ³•ã€â€”â€”ä¸åœåœ°ç‚¹ï¼Œè¿æ°”å¥½5åˆ†é’Ÿæˆ–åŠå°æ—¶å°±èƒ½ç”³è¯·åˆ°å¥½ï¼Œä¹Ÿæœ‰è¿æ°”ä¸å¥½ï¼Œéœ€è¦ä¸€å¤©ç”šè‡³æ›´å¤šçš„æ—¶é—´æ¥ç‚¹å‡»ç”³è¯·ã€‚æ‰€ä»¥æœ‰çš„äººå°±æ”¾å¼ƒäº†ï¼Œæˆ–è€…ç›´æŽ¥åŽ»é©¬äº‘å®¶ç›´æŽ¥èŠ±å‡ åå—é’±ä¹°äº†ã€‚ ç›®å‰å®žçŽ°è¿™ä¸ªã€Žç‹‚ç‚¹å¤§æ³•ã€çš„æ— éžä¸¤ç§é€”å¾„ï¼Œæ¨¡æ‹Ÿé¼ æ ‡ç‚¹å‡»å’Œæ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚ã€‚ æ¨¡æ‹Ÿé¼ æ ‡ç‚¹å‡»ï¼šé¡¾åæ€ä¹‰å°±æ˜¯ä¸åœåœ°è®©é¼ æ ‡åœ¨ç”³è¯·æŒ‰é’®ä¸Šç‚¹å‡»ï¼Œç›´åˆ°ä½ æ”¶åˆ°Google é‚®ä»¶æ­å–œä½ èŽ·å¾—äº†å·ç ä¸ºæ­¢ã€‚è¿™ç§å¾ˆå¤šäººä¼šä½¿ç”¨ã€ŽæŒ‰é”®ç²¾çµã€ç±»ä¼¼çš„è½¯ä»¶æ¥å®žçŽ°ä¸åœåœ°ç‚¹å‡»ã€‚ä½†æ˜¯æˆ‘é€‰æ‹©äº†è‡ªå·±å†™pythonè„šæœ¬æ¥æ¨¡æ‹Ÿç‚¹å‡»ï¼Œæ¯•ç«Ÿè‡ªå·±å†™çš„ä»£ç æ‰æ”¾å¿ƒã€‚ä»£ç å¦‚ä¸‹ï¼š 12345678from pymouse import PyMouseimport timem = PyMouse()while True: m.click(528, 800-196, 1) time.sleep(3) å…¶ä¸­ç‚¹å‡»çš„åæ ‡è¦æ”¹æˆä½ è‡ªå·±çš„ï¼Œå¯ä½¿ç”¨æˆªå±å·¥å…·æ¥èŽ·å¾—æŒ‰é’®çš„åæ ‡ã€‚ æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚ï¼šè¿™ä¸ªæ–¹æ³•å°±æ˜¯ç›´æŽ¥è·³è¿‡ç‚¹å‡»äº‹ä»¶ï¼Œæ¯•ç«Ÿä½ ç‚¹å‡»äº†ä¹Ÿæ˜¯é€šè¿‡ç½‘ç»œè¯·æ±‚æ¥å®žçŽ°çš„ã€‚è¿™æ ·å­æ›´å½»åº•ç‚¹ï¼Œè¿™é‡Œç²—ç•¥åœ°ä»‹ç»ä¸ªæ€è·¯ï¼š æ‰“å¼€æµè§ˆå™¨çš„å¼€å‘æ¨¡å¼ï¼ˆF12ï¼‰ç‚¹å‡»ç½‘é¡µä¸Šçš„ç”³è¯·æŒ‰é’®æ‰¾åˆ°æœ¬æ¬¡postè¯·æ±‚ï¼Œç„¶åŽå³é”®å¤åˆ¶cURLæŠŠcURLè¯·æ±‚æ‰”åˆ°è„šæœ¬é‡Œï¼Œæ‰¾ä¸ªæœåŠ¡å™¨æˆ–è€…è‡ªå·±ç”µè„‘ç»ˆç«¯é‡Œåœ¨åŽå°è¿è¡Œå³å¯è¿™ä¸ªæˆ‘ä¹Ÿæ”¾å‡ºä¸ªshell è„šæœ¬å§ï¼š 123456for (( i=1; i&gt;0; i++ ))do curl 'https://www.google.com/voice/b/0/service/post' ... --compressed sleep 3sdone å¦‚æžœä½ éœ€è¦å¸®åŠ©å¯ä»¥åœ¨åšå®¢ä¸‹æ–¹ç•™è¨€å³å¯ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[ä½ å¥½2017]]></title>
    <url>%2F2017%2F03%2F09%2F2016-summary%2F</url>
    <content type="text"><![CDATA[ä¼¼ä¹Žæˆ‘çš„2017æ¥çš„æœ‰ç‚¹è¿Ÿå•Šã€‚ ç¿»ä¸€ä¸‹è‡ªå·±çš„åšå®¢ï¼Œä¸Šä¸€ç¯‡è¿˜åœç•™åœ¨2016å¹´9æœˆ29æ—¥ï¼Œè¿˜åƒä¸ªç»¼è¿°ã€‚ é™¤äº†åšå®¢è’åºŸäº†ä¹‹å¤–ï¼ŒåŽ»å¹´ä¹Ÿè¿˜å°‘äº†ä¸€ä»½æ€»ç»“ã€‚æ­£å¦‚åŽ»ä¸ªæ™¯ç‚¹ä¸æ‹ä¸ªç…§å°±è·Ÿæ²¡åŽ»ä¼¼çš„ï¼Œä¸€å¹´ä¸æ¥ä¸ªæ€»ç»“å°±æ„Ÿè§‰ä¸€å¹´å°±è·Ÿç™½è¿‡äº†ä¸€æ ·ï¼Œç„¶è€Œæš‚æ—¶æˆ‘ä¹Ÿä¸æƒ³åŽ»è¿‡å¤šæ€»ç»“äº†ï¼Œå°±å…ˆéšä¾¿æ€»ç»“ä¸‹å§ã€‚ æ€»ä¹‹åŽ»å¹´4æœˆåº•ç¦»å¼€äº†è€ä¸œå®¶åŽ»ä¸‰äºšæµªäº†ä¸€åœˆï¼Œåœ¨ä¸‹åŠå¹´æ¥åˆ°äº†çŽ°åœ¨è¿™å®¶å…¬å¸â€”â€”ã€Žè®©å†œä¸šç»è¥æ›´å®¹æ˜“ã€ã€‚åˆšåˆ°å…¬å¸å°±åœ¨èµ¶é¡¹ç›®ï¼ŒåŠ ä¹‹åˆè¢«é˜¿é£žä»–ä»¬å¸¦äº†ä¸€ä¸ªå°å­¦ç”Ÿç‰¹åˆ«å¤šçš„æ¸¸æˆï¼Œæ‰€ä»¥ä¹¦è¯»çš„å°‘äº†ã€‚åŸºæœ¬å°±æ˜¯æ™šä¸ŠåŠ ç­å›žåŽ»å’Œå‡ºå·®çš„è·¯ä¸Šé›¶æ˜Ÿè¯»äº†å‡ æœ¬ä¹¦ï¼Œç„¶åŽä¹Ÿæ²¡è®°å½•åˆ°æˆ‘çš„ä¹¦å•ä¸Šäº†ã€‚ æ­¤å¤–ï¼Œä¹Ÿåœ¨åŽ»å¹´å¹´ä¸­çš„æ—¶å€™åŠ å…¥äº†Googleå­—å¹•ç»„ï¼Œå¸®å¿™ç¿»è¯‘ä¸€äº›Googleçš„å¼€å‘æ•™å­¦è§†é¢‘çš„å­—å¹•ï¼ŒåŽ»å¹´ç¿»çš„æ—¶é•¿å·®ä¸å¤š80åˆ†é’Ÿå§ã€‚ä½†å®žåœ¨æ˜¯è¢«æˆ‘çš„æ‡’ç™Œæ•´çš„è¿™é˜¶æ®µåˆä¸æ˜¯å¤ªæƒ³åŽ»æŽ¥è§†é¢‘ç¿»å­—å¹•äº†ï¼Œè¿˜æ˜¯ç­‰ä»Šå¹´I/Oå¤§ä¼šç»“æŸå†åŽ»æŽ¥ç‚¹è§†é¢‘ç¿»å§ã€‚æ‰€å¹¸ï¼Œè¯»ä¹¦è’åºŸä¹‹å¤–ï¼Œè¿˜ä¿æŒç€æ¯å¤©å­¦è‹±è¯­çš„ä¹ æƒ¯ï¼ŒèƒŒå‡ åä¸ªå•è¯æˆ–è¯»å‡ ç¯‡æ–°é—»äº¦æˆ–å‡ æ¡å¬åŠ›ï¼Œæ—¶å¤šæ—¶å°‘ï¼Œæœ€é‡è¦çš„æ˜¯æˆ‘åšæŒä¸‹æ¥äº†ã€‚ å¹´åŽè¿‡æ¥é¡¹ç›®ç®—æ˜¯è½»æ¾ç‚¹äº†ï¼Œé™¤äº†æ²‰è¿·æ¸¸æˆå¤–è¿˜æ˜¯èƒ½æŒ¤å‡ºç‚¹æ—¶é—´çš„ã€‚æœ€è¿‘ä¸€ç›´çœ‹å›½å¤–çš„mediumåšå®¢ä¸Šæœ‰ä¸å°‘ä¼˜ç§€çš„æŠ€æœ¯æ–‡ç« ï¼Œå¿ƒåˆç—’äº†ï¼Œæƒ³å¹³æ—¶æ²¡äº‹ä¹Ÿå¯ä»¥ç¿»è¯‘ä¸€ç‚¹ã€‚é‚æ¡èµ·è€æ—©å‰æ³¨å†Œä½†æ²¡å‘è¿‡æ–‡ç« çš„å…¬ä¼—å·ï¼ŒäºŽæ˜¨å¤©æ‰“å“äº†æ–‡ç« ç¬¬ä¸€æžªã€‚ ä»Šå¤©æƒ³å¹²è„†ä¸€ä¸åšäºŒä¸ä¼‘ï¼ŒæŠŠè¿™hexoåšå®¢å†æ‹¿èµ·æ¥ç»´æŠ¤ç€å§ï¼Œä¸ç®¡çœ‹çš„äººå¤šå°‘ï¼Œèµ·ç æ˜¯è‡ªå·±é£Žæµå€œå‚¥çš„è¿‡å¾€ï¼ ä¹‹å‰åŸŸåè¿‡æœŸäº†ï¼Œä¹Ÿæ‡’å¾—ç»­è´¹äº†ï¼Œè¿˜æ˜¯ç›´æŽ¥ç”¨githubçš„åœ°å€å§ï¼šhttp://jiezhi.github.io æ¬¢è¿Žæ‰“èµä¸¢é¦™è•‰ç»™æˆ‘ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[DHT ç›¸å…³èµ„æºæ•´ç†]]></title>
    <url>%2F2016%2F09%2F29%2Fdht-resources%2F</url>
    <content type="text"><![CDATA[æƒ³è‡ªå·±å®žçŽ°ä¸€ä¸ªDHTçˆ¬è™«ï¼Œè¿™é‡Œå…ˆæ”¶é›†ä¸€äº›èµ„æº GOè¯­è¨€å®žçŽ°çš„DHTç½‘ç»œçˆ¬è™« pythonè¯­è¨€ç£åŠ›æœç´¢å¼•æ“Žæºç å…¬å¼€ï¼ŒåŸºäºŽDHTåè®® btlike BTæœç´¢å¼•æ“Ž A DHT in Python Twisted æœç´¢èµ„æºï¼š v2ex]]></content>
  </entry>
  <entry>
    <title><![CDATA[tmuxåˆæ­¥å…¥é—¨]]></title>
    <url>%2F2016%2F09%2F29%2Fhello-tmux%2F</url>
    <content type="text"><![CDATA[è®°å½•ä¸€ä¸‹å¸¸ç”¨çš„tmuxå‘½ä»¤ Create Named Sessions 12345tmux new-session -s basicortmux new -s basic detach session 1PREFIX d Retattaching to Existing Sessions 12345tmux list-sessionsortmux ls Attach to Sessions 1tmux attach -t basic]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>tool</tag>
        <tag>tmux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android åœ¨style.xmlæ–‡ä»¶ä¸­è®¾ç½®match_parent å’Œ wrap_content]]></title>
    <url>%2F2016%2F07%2F14%2Fandroid-set-match-parend-in-style-file%2F</url>
    <content type="text"><![CDATA[åœ¨styleæ–‡ä»¶ä¸­ç›´æŽ¥è®¾ç½®android:widthå€¼ä¸ºwrap_contentçš„è¯ä¼šæŠ¥é”™: Cannot resolve symbol &apos;wrap_content&apos; é‚£è¯¥å¦‚ä½•è§£å†³ï¼Ÿ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šæŠŠç•Œé¢ä¸­å…±ç”¨çš„ä¸€äº›å±žæ€§ç›´æŽ¥å®šä¹‰åœ¨style.xmlæ–‡ä»¶ä¸­ï¼Œä½†æ˜¯åœ¨è®¾ç½®Viewçš„é«˜åº¦å’Œå®½åº¦æ—¶ï¼Œå¦‚æžœæƒ³ç”¨wrap_contentå’Œmatch_parentçš„è¯ï¼Œåˆ™éœ€è¦å…ˆå®šä¹‰ä¸€ä¸‹ï¼š åœ¨dimmens.xmlæ–‡ä»¶ä¸­æ·»åŠ ï¼š 12&lt;dimen name="match_parent"&gt;-1dp&lt;/dimen&gt;&lt;dimen name="wrap_content"&gt;-2dp&lt;/dimen&gt; ç„¶åŽåœ¨style.xmlæ–‡ä»¶ä¸­ç›´æŽ¥å¼•ç”¨å³å¯ï¼Œå¦‚ï¼š 12345&lt;style name="begin_medium_text" parent="medium_text"&gt; &lt;item name="android:gravity"&gt;end|center_vertical&lt;/item&gt; &lt;item name="android:width"&gt;@dimen/wrap_content&lt;/item&gt; &lt;item name="android:height"&gt;@dimen/match_parent&lt;/item&gt;&lt;/style&gt; Reference: http://stackoverflow.com/questions/6859331/how-can-i-use-layout-width-using-resource-file]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³adbæ— æ³•æ‰¾åˆ°genymotionæ¨¡æ‹Ÿå™¨é—®é¢˜]]></title>
    <url>%2F2016%2F05%2F23%2Fadb-with-genymotion-error%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©å‡çº§äº†ä¸€ä¸‹Android SDKç»“æžœå¼€ç€genymotionæ¨¡æ‹Ÿå™¨çš„æƒ…å†µä¸‹å´æ‰¾ä¸åˆ°è®¾å¤‡ã€‚ç”¨adb devicesæŸ¥çœ‹ä¼šå‡ºçŽ°å¦‚ä¸‹é”™è¯¯ï¼š 1234567âžœ ~ adb devicesList of devices attachedadb server version (32) doesn't match this client (35); killing...error: could not install *smartsocket* listener: Address already in useADB server didn't ACK* failed to start daemon *error: cannot connect to daemon çœ‹äº†æ˜¯adbç‰ˆæœ¬çš„é—®é¢˜äº†ï¼Œåœ¨genymotionä¸­æœ‰ä¸ªè®¾ç½®æˆä½ è‡ªå·±çš„sdkåœ°å€å³å¯ï¼Œé‡å¯æ¨¡æ‹Ÿå™¨åŽå³å¯ï¼š Referenceï¼šhttps://twitter.com/chiuki/status/709410135551168512]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>android</tag>
        <tag>adb</tag>
        <tag>genymotion</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Decoratorè®¾è®¡Cache]]></title>
    <url>%2F2016%2F04%2F20%2Fdecorator4cache%2F</url>
    <content type="text"><![CDATA[åˆ©ç”¨decoratorå®žçŽ°cacheå¦‚æžœä½ ä½¿ç”¨çš„æ˜¯python 3.2+ï¼Œåˆ™å¯ä»¥ç›´æŽ¥ä½¿ç”¨functoolsä¸­çš„lru_cacheã€‚å½“ç„¶ä¹Ÿå¯ä»¥è‡ªå·±å®žçŽ°çš„äº†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657#!/usr/bin/env python# -*- coding: utf-8 -*-"""Created on 4/20/16@author: Jiezhi.G@gmail.comMy Blog: jiezhi.github.ioReference: &lt;Expert Python Programming&gt; Chapter 2--Decorators_Proxy Page.53"""import timeimport hashlibimport picklecache = &#123;&#125;def is_obsolete(entry, duration): return time.time() - entry['time'] &gt; durationdef compute_key(function, args, kw): key = pickle.dumps((function.func_name, args, kw)) return hashlib.sha1(key).hexdigest()def memoize(duration=10): def _memoize(function): def __memoize(*args, **kw): key = compute_key(function, args, kw) # do we have it already? if key in cache and not is_obsolete(cache[key], duration): print 'we got a winner' return cache[key]['value'] # computing result = function(*args, **kw) # storing the result cache[key] = &#123;'value': result, 'time': time.time()&#125; return result return __memoize return _memoize@memoize()def very_very_very_complex_stuff(a, b): return a + bif __name__ == '__main__': print very_very_very_complex_stuff(2, 2) print cache print very_very_very_complex_stuff(2, 2) è¿è¡ŒåŽå¯ä»¥çœ‹åˆ°ç»“æžœï¼š12344&#123;'dedfca39c250ca2047c5d66a13c5df2e9ac90181': &#123;'value': 4, 'time': 1461155366.249486&#125;&#125;we got a winner4]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>Decorator</tag>
        <tag>cache</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonç›‘æµ‹æœåŠ¡å™¨ å¼‚å¸¸åŽå‘é‚®ä»¶]]></title>
    <url>%2F2016%2F03%2F20%2Fsend-mail-with-python%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘å†™äº†ä¸ªpythonè„šæœ¬æ¥ç›‘æŽ§æœåŠ¡å™¨ï¼Œç»“åˆcrontabå®šæ—¶ä»»åŠ¡æ¥å®šæœŸæ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦å¯ä»¥æ­£å¸¸è®¿é—®ã€‚ è¿™é‡ŒæœåŠ¡å™¨ç»™å®šä¸€ä¸ªå›ºå®šurlï¼ŒæœåŠ¡å™¨ç«¯ç›‘æµ‹æ•°æ®åº“è¡¨æ˜¯å¦æ­£å¸¸ï¼Œå¦‚æžœæ­£å¸¸ç›´æŽ¥ç»™å‡ºã€Œokã€çš„å›žå¤ã€‚é‡Œé¢é€»è¾‘ä¹Ÿå¾ˆç®€å•ç›´æŽ¥ä¸Šä»£ç ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445#!/usr/bin/python# coding: utf-8"""Author: Jiezhi.G@gmail.comFunction: Monitor server and send mail when server down!Date: 2016-03-18PS: You can add this msg to cron:* 9,21 * * * python ~/monitor.py &gt;&gt; ~/monitor.log"""import urllib2import smtplibimport timefrom email.mime.text import MIMETextfrom email.header import Headersender_mail = "***"password = '***'receiver = ['***', '***', '***']smtp_server = "smtp.yeah.net"def send_alert_mail(): msg = MIMEText('æœåŠ¡å™¨å¼‚å¸¸ï¼Œè¯·æ£€æŸ¥æœåŠ¡å™¨!', 'plain', 'utf-8') msg['Subject'] = '!!!æœåŠ¡å™¨å¼‚å¸¸' msg['From'] = 'Monitor&lt;***&gt;' server = smtplib.SMTP(smtp_server, 25) server.login(sender_mail, password) server.sendmail(sender_mail, receiver, msg.as_string()) server.quit()def check_server(url): ret = urllib2.urlopen(urllib2.Request(url)) data = ret.read() return data == "ok"if __name__ == '__main__': url_ch = 'http://zh.example.com/api/isok.php' url_en = 'http://en.examp.com/api/isok.php' t = time.strftime("%Y-%m-%d %A %X %Z", time.localtime()) if not check_server(url_ch): print t, 'server down' send_alert_mail() else: print t, 'every thing is ok']]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>monitor</tag>
        <tag>email</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[centos6å®‰è£…python2.7]]></title>
    <url>%2F2016%2F03%2F05%2Fcentos6-install-python2-7%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘å¼€å§‹å­¦ä¹ åœ¨centosä¸Šæ­å»ºnginxå’Œdjangoï¼Œä½†æ˜¯centos6 è‡ªå¸¦çš„python2.6ã€‚ä½†æ˜¯åŸºæœ¬æ— æ³•è¿è¡Œdjangoï¼Œæ‰€ä»¥éœ€è¦å®‰è£…python2.7ã€‚ nginxä»¥åŠä»Žæºç ç¼–è¯‘å¥½å¹¶ä¸”å·²ç»è¿è¡Œäº†ï¼Œä½†æ˜¯é…åˆdjangoä½¿ç”¨çš„æ—¶å€™å´å‡ºäº†ç‚¹é—®é¢˜ï¼Œå…·ä½“æ€Žä¹ˆæ€Žä¹ˆç”¨djangoæ­å»ºæœåŠ¡å™¨å¯å‚è€ƒSetting up Django and your web server with uWSGI and nginxã€‚ centos6å®‰è£…python2.7å¹¶è®¾ç½®ä¸ºé»˜è®¤pythonå‘½ä»¤ï¼š ä¸‹è½½python2.7.11åŽç¼–è¯‘å¹¶å®‰è£…ï¼š1234wget http://www.python.org/ftp/python/2.7.11/Python-2.7.11.tar.bz2tar jxvf Python-2.7.11.tar.bz2cd Python-2.7.11./configure &amp;&amp; make &amp;&amp; make install å®‰è£…å¥½çš„2.7ç‰ˆæœ¬è·¯å¾„ä¸º/usr/local/bin/python2.7 å®‰è£…å¥½åŽæ›¿æ¢é»˜è®¤pythonï¼šå…ˆæŸ¥çœ‹é»˜è®¤çš„pythonè·¯å¾„ï¼š1which python æˆ‘è¿™è¾¹çš„æ˜¯ä½äºŽ/usr/bin/python,æŸ¥çœ‹ä¸€ä¸‹è¯¥æ–‡ä»¶å¹¶ä¸æ˜¯python2.6çš„é“¾æŽ¥æ–‡ä»¶ï¼Œç”¨diffå‘½ä»¤çœ‹äº†ä¸‹å’ŒåŒè·¯å¾„ä¸‹çš„python2.6æ²¡æœ‰åŒºåˆ«ï¼Œæ‰€ä»¥å¯ä»¥ç›´æŽ¥åˆ é™¤æˆ–è€…é‡å‘½åä¸ºpython.bak ç”±äºŽç³»ç»Ÿç¨‹åºä¾èµ–2.6ç‰ˆæœ¬ï¼Œæ‰€ä»¥å…ˆä¿®æ”¹ä¸‹ä¾èµ–ï¼š1vim /usr/bin/yum å°†å…¶å¤´éƒ¨pythonæ”¹ä¸º#!/usr/bin/python2.6ï¼Œè¿è¡Œä¸‹yumæ˜¯å¦å‡ºé”™ï¼Œä¸å‡ºé”™å¯ä»¥ç›´æŽ¥å°†python2.7è®¾ç½®ä¸ºç³»ç»Ÿé»˜è®¤å‘½ä»¤äº†ï¼š1ln -s /usr/local/bin/python2.7 /usr/bin/python åœ¨æ‰§è¡Œä¸‹python â€“versionçœ‹çœ‹æ˜¯å¦å·²ç»æ˜¯python2.7çš„äº†ã€‚ 2.æœ¬ä»¥ä¸ºè¿™æ ·å°±å¯ä»¥é«˜æž•æ— å¿§äº†ï¼Œç»“æžœå¥½å¤šä¸œè¥¿éƒ½å¾—é‡æ–°é…ç½®ï¼š pipé‡æ–°ä¸‹è½½å¹¶é…ç½®ï¼š 12wget https://bootstrap.pypa.io/get-pip.pypython get-pip.py é‡æ–°å®‰è£…virtualenv 1pip install virtualenv è¿è¡Œdjangoç¼ºå°‘_sqlite3ï¼š 1ln -s /usr/lib/python2.6/lib-dynload/_sqlite3.so /usr/local/lib/python2.7/lib-dynload å‚è€ƒè¿™é‡Œ å†æ¬¡è¿è¡Œè¿˜ä¼šå‡ºçŽ°ä¸ªé—®é¢˜ï¼šâ€œUnicodeDecodeError: &#39;ascii&#39; codec can&#39;t decode byteâ€å¦‚æžœæ˜¯ä½¿ç”¨virtualenvçŽ¯å¢ƒä¸‹æ“ä½œçš„è¯ï¼Œæ­¤æ—¶å¯ä»¥åœ¨django/lib/python2.7/site-packages è·¯å¾„ä¸‹æ–°å»ºåä¸ºsitecustomize.pyçš„æ–‡ä»¶ï¼š12345# encoding=utf8 import sys reload(sys) sys.setdefaultencoding('utf8') å‚è€ƒè¿™é‡Œ]]></content>
      <categories>
        <category>Centos</category>
      </categories>
      <tags>
        <tag>centos</tag>
        <tag>python2.7</tag>
        <tag>djangoC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³'libproxychains.so.3' from LD_PRELOAD cannot be preloadedé—®é¢˜]]></title>
    <url>%2F2016%2F02%2F02%2Flibproxychains-cannot-be-preloaded%2F</url>
    <content type="text"><![CDATA[åœ¨æœ¬åœ°UbuntuæœåŠ¡å™¨é…ç½®å¥½sså®¢æˆ·ç«¯åŽï¼Œå¦‚æžœæƒ³åœ¨å‘½ä»¤è¡Œä»¥åŠæƒ³sshè¿œç¨‹çš„æ—¶å€™å¯ä»¥è®¿é—®æŸäº›404é¡µé¢æ—¶éœ€è¦proxychainså·¥å…·ã€‚ ä½†æ˜¯åœ¨è¿è¡Œproxychainsæ—¶æŠ¥é”™äº†ï¼š 123âžœ ~ proxychains ping google.comProxyChains-3.1 (http://proxychains.sf.net)ERROR: ld.so: object 'libproxychains.so.3' from LD_PRELOAD cannot be preloaded (cannot open shared object file): ignored. çœ‹æ¥proxychainsæ— æ³•åŠ è½½libproxychains.so.3åº“ï¼ŒæŸ¥åˆ°çš„èµ„æ–™æ˜¯ä¿®æ”¹/usr/bin/proxychainsæ–‡ä»¶ï¼š export LD_PRELOAD=libproxychains.so.3 æ”¹ä¸º export LD_PRELOAD=/usr/lib/libproxychains.so.3 ä½†æ˜¯ä¿å­˜åŽè¿˜æ˜¯ä¼šæç¤ºæ— æ³•åŠ è½½è¯¥åº“ã€‚ æ‰€ä»¥å‘¢ï¼Œç”¨findå‘½ä»¤æ‰¾ä¸€ä¸‹è¯¥åº“å§ï¼š 12âžœ ~ find /usr/ -name libproxychains.so.3 -print/usr/lib/x86_64-linux-gnu/libproxychains.so.3 æ‰€ä»¥æ”¹ä¸º /usr/lib/x86_64-linux-gnu/libproxychains.so.3 å°±å¯ä»¥äº†]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>ss</tag>
        <tag>proxychains</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ubuntuä¸Šå®‰è£…MySQLå¹¶é…ç½®è¿œç¨‹ç™»å½•]]></title>
    <url>%2F2016%2F01%2F28%2Finstall-mysql-on-ubuntu%2F</url>
    <content type="text"><![CDATA[è¯¦è§å†…å®¹ã€‚ ##å®‰è£…sudo apt-get install mysql-server å¦‚æžœæ˜¯ç¬¬ä¸€æ¬¡å®‰è£…ï¼Œåˆ™åœ¨å®‰è£…è¿‡ç¨‹ä¸­ä¼šæç¤ºè®©ä½ é…ç½®å¯†ç ï¼Œç”¨æˆ·åé»˜è®¤ä¸ºrootã€‚ å¦‚æžœæƒ³å†æ¬¡é…ç½®å¯ä»¥ç”¨æ­¤å‘½ä»¤ï¼š sudo dpkg-reconfigure mysql-server-5.5ï¼ˆæ‰¾åˆ°å¯¹åº”çš„ç‰ˆæœ¬å·ï¼‰ æ­£å¸¸æƒ…å†µä¸‹å®‰è£…å¥½åŽï¼ŒmysqlæœåŠ¡åº”è¯¥å·²ç»å¯åŠ¨ï¼Œå¯ä»¥æŸ¥çœ‹ä¸‹ï¼šsudo netstat -tap | grep mysql12tcp 0 0 *:mysql *:* LISTEN 1392/mysqldtcp 0 0 192.168.1.49:mysql 192.168.1.155:65335 ESTABLISHED 1392/mysqld æˆ–è€…netstat -tulnçœ‹ä¸€ä¸‹æ˜¯å¦æœ‰3306ç«¯å£è¢«ä½¿ç”¨ä¸€èˆ¬ä¼šæ˜¯12345678Active Internet connections (only servers)Proto Recv-Q Send-Q Local Address Foreign Address Statetcp 0 0 127.0.0.1:3306 0.0.0.0:* LISTENtcp 0 0 0.0.0.0:139 0.0.0.0:* LISTENtcp 0 0 0.0.0.0:80 0.0.0.0:* LISTENtcp 0 0 127.0.1.1:53 0.0.0.0:* LISTENtcp 0 0 0.0.0.0:22 0.0.0.0:* LISTEN... ##é…ç½®è¿œç¨‹ç™»å½•ä»Žä¸Šé¢å¯ä»¥çœ‹åˆ°ç«¯å£3306å¯¹åº”çš„åœ°å€æ˜¯127.0.0.1ï¼Œè¿™å°±æ„å‘³ç€è¿™ä¸ªç«¯å£å³mysqlæœåŠ¡åªèƒ½åœ¨æœ¬æœºä¸Šè®¿é—®ã€‚æˆ‘ä»¬æƒ³è¦è¿œç¨‹è®¿é—®mysqlæœåŠ¡ï¼Œé‚£ä¹ˆå°±éœ€è¦ä¿®æ”¹è¿™ä¸ªåœ°å€ã€‚ ä¿®æ”¹mysqlé…ç½®æ–‡ä»¶mysqlé»˜è®¤é…ç½®æ–‡ä»¶åœ°å€åº”è¯¥æ˜¯/etc/mysql/my.cnfï¼ˆå¦‚æžœæ²¡æœ‰å°è¯•ä¸‹/etc/my.cnfï¼‰ï¼šsudo vim /etc/mysql/my.cnfæ³¨é‡ŠæŽ‰è¿™ä¸€è¡Œï¼šbind_address=127.0.0.1 ç»™mysqlæ–°å»ºç”¨æˆ·ï¼Œå¹¶æŽˆäºˆè¿œç¨‹ç™»å½•çš„æƒé™ï¼š ç™»å½•mysqlmysql -u root -p åˆ›å»ºæ–°ç”¨æˆ·CREATE USER &#39;jiezhi&#39; IDENTIFIED BY &#39;mypass&#39;; å…¶ä¸­ jiezhi ä¸ºç”¨æˆ·åï¼Œ mypassä¸ºç”¨æˆ·å¯†ç ï¼› æŽˆäºˆè¿œç¨‹ç™»å½•æƒé™GRANT ALL ON *.* TO &#39;jiezhi&#39;@&#39;%&#39; IDENTIFIED BY &#39;mypass&#39; å…¶ä¸­*.*ä¸ºæŽˆæƒçš„æ•°æ®åº“ï¼Œæ ¼å¼ä¸ºdbname.tablenameï¼Œè¿™é‡Œæ˜¯å…¨éƒ¨æŽˆæƒ; jiezhiä¸ºç”¨æˆ·åï¼Œ %æ„å‘³ç€å®¹è®¸ç”¨æˆ·è®¿é—®IPä¸ºä»»æ„IPï¼Œä½ ä¹Ÿå¯ä»¥æŒ‡å®šIPï¼› mypassä¸ºç”¨æˆ·å¯†ç ã€‚ ##é‡å¯MySQLsudo service mysql restartæˆ–è€…sudo /etc/init.d/mysql restart ##è¿œç¨‹è®¿é—®å‡å®šMySQLæœåŠ¡å™¨IPä¸º192.168.1.100åˆ™è¿œç¨‹ç™»å½•å¯ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œå› ä¸ºMySQLç«¯å£é»˜è®¤ä¸º3306ï¼Œæ‰€ä»¥ä¸‹é¢çš„-P 3306ä¸ºå¯é€‰é¡¹ï¼šmysql -u jiezhi -h 192.168.1.100 [-P 3306] -pç„¶åŽè¾“å…¥å¯†ç å°±å¯ä»¥è¿œç¨‹ç™»å½•äº†ã€‚ ##å…¶å®ƒå½“æ—¶æˆ‘åœ¨å±€åŸŸç½‘é…ç½®å¥½åŽï¼Œç”¨å¦å¤–çš„æœºå™¨æ­»æ´»ç™»å½•ä¸ä¸Šï¼Œè€ŒæœåŠ¡å™¨ä¸Šç«¯å£3306å¯¹åº”çš„IPä¸º0.0.0.0ï¼ŒæŒ‰ç†éƒ½æ˜¯æ­£å¸¸çš„ã€‚æŠ˜è…¾åŠå¤©ï¼Œç”¨macè‡ªå¸¦çš„ç«¯å£æ‰«æå·¥å…·ï¼Œå‘çŽ°æ‰«æä¸åˆ°3306ç«¯å£ï¼Œæœ€åŽæ„è¯†åˆ°é˜²ç«å¢™çš„é—®é¢˜ï¼Œæ‰€ä»¥ä¿®å¤äº†iptablesåŽå³å¯æ­£å¸¸è®¿é—®ã€‚ æœ‰ç©ºä¼šæŠŠiptablesé…ç½®å†å†™ä¸€ç¯‡å§ã€‚]]></content>
      <categories>
        <category>Server</category>
      </categories>
      <tags>
        <tag>ubuntu</tag>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³Can't connect to MySQL serveré—®é¢˜]]></title>
    <url>%2F2016%2F01%2F28%2Fcannot-connect-to-mysql%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©è¿œç¨‹è®¿é—®Ubuntuä¸Šçš„MySQLæ—¶å‡ºçŽ°é”™è¯¯ï¼šERROR 2003 (HY000): Can&#39;t connect to MySQL server on &#39;192.168.1.49&#39; (60) æ‰€ä»¥å…ˆç™»å½•æœåŠ¡å™¨ï¼Œç”¨å‘½ä»¤netstat -tulnæŸ¥çœ‹ä¸€ä¸‹ï¼š1234567891011Active Internet connections (only servers)Proto Recv-Q Send-Q Local Address Foreign Address Statetcp 0 0 0.0.0.0:3306 0.0.0.0:* LISTENtcp 0 0 0.0.0.0:139 0.0.0.0:* LISTENtcp 0 0 0.0.0.0:80 0.0.0.0:* LISTENtcp 0 0 127.0.1.1:53 0.0.0.0:* LISTENtcp 0 0 0.0.0.0:22 0.0.0.0:* LISTENtcp 0 0 127.0.0.1:631 0.0.0.0:* LISTENtcp 0 0 0.0.0.0:25 0.0.0.0:* LISTENtcp 0 0 0.0.0.0:445 0.0.0.0:* LISTEN... å¯ä»¥çœ‹å‡ºï¼ŒMySQLé…ç½®åº”è¯¥æ²¡é—®é¢˜çš„ï¼Œå½“ç„¶ä¹Ÿç¡®ä¿MySQLç”¨æˆ·å¯†ç ç­‰éƒ½æ˜¯å¯¹çš„ã€‚ æŸ¥äº†åŠå¤©ï¼Œæ€€ç–‘æ˜¯ä¸æ˜¯iptablesé—®é¢˜ï¼ˆä½†è®°ä¸å¾—ä¹‹å‰æ›¾ç»é…ç½®è¿‡iptablesï¼Œæ‰€ä»¥ä¸€ç›´æ²¡æƒ³è¿™å—ï¼‰ï¼šsudo iptables -L12345678910111213141516171819202122Chain INPUT (policy ACCEPT)target prot opt source destinationACCEPT all -- anywhere anywhereACCEPT all -- anywhere anywhere state RELATED,ESTABLISHEDACCEPT tcp -- anywhere anywhere tcp dpt:httpACCEPT tcp -- localhost anywhere tcp dpt:mysqlDROP tcp -- anywhere anywhere tcp dpt:mysqlACCEPT tcp -- anywhere anywhere tcp dpt:mysqlACCEPT tcp -- 192.168.1.0/24 anywhere tcp dpt:mysqlChain FORWARD (policy ACCEPT)target prot opt source destinationDOCKER all -- anywhere anywhereACCEPT all -- anywhere anywhere ctstate RELATED,ESTABLISHEDACCEPT all -- anywhere anywhereACCEPT all -- anywhere anywhereChain OUTPUT (policy ACCEPT)target prot opt source destinationChain DOCKER (1 references)target prot opt source destination å¾ˆå¥‡æ€ªè¿™è¾¹æ€Žä¹ˆä¼šæœ‰ä¸€ä¸ªå¯¹mysqlè®¿é—®çš„DROPè§„åˆ™ï¼Œä½†è¿˜æ˜¯å…ˆåˆ ä¸ºæ•¬ï¼è¿™æ¬¡å†iptableså‘½ä»¤å¤šåŠ ä¸ªå‚æ•°ï¼šsudo iptables -L -n --line-number12345678910111213141516Chain INPUT (policy ACCEPT)num target prot opt source destination1 ACCEPT all -- 0.0.0.0/0 0.0.0.0/02 ACCEPT all -- 0.0.0.0/0 0.0.0.0/0 state RELATED,ESTABLISHED3 ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 tcp dpt:804 ACCEPT tcp -- 127.0.0.1 0.0.0.0/0 tcp dpt:33065 DROP tcp -- 0.0.0.0/0 0.0.0.0/0 tcp dpt:33066 ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 tcp dpt:33067 ACCEPT tcp -- 192.168.1.0/24 0.0.0.0/0 tcp dpt:3306Chain FORWARD (policy ACCEPT)num target prot opt source destination1 DOCKER all -- 0.0.0.0/0 0.0.0.0/02 ACCEPT all -- 0.0.0.0/0 0.0.0.0/0 ctstate RELATED,ESTABLISHED3 ACCEPT all -- 0.0.0.0/0 0.0.0.0/04 ACCEPT all -- 0.0.0.0/0 0.0.0.0/0 è¿™ä¸‹æ¯æ¡è§„åˆ™å‰éƒ½æœ‰äº†åºå·ï¼Œæ‰€ä»¥å¯ä»¥æ ¹æ®åºå·ç›´æŽ¥æ¥ä¿®æ”¹æˆ–åˆ é™¤ï¼š sudo optables -D INPUT 5æŠŠINPUTçš„ç¬¬äº”æ¡è§„åˆ™åˆ é™¤ï¼Œç„¶åŽåŽ»å®¢æˆ·ç«¯å†æ¬¡ç™»å½•MySQLï¼ŒæˆåŠŸï¼]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2015æ€»ç»“]]></title>
    <url>%2F2015%2F12%2F28%2F2015-summary%2F</url>
    <content type="text"><![CDATA[2015 æ€»ç»“ 2015å¹´æ€»ç»“ä¼¼ä¹Žä¸è¯´å¥ã€Žå²æœˆä¸å±…ï¼Œæ—¶èŠ‚å¦‚æµã€å°±æ— æ³•è¡¨è¾¾è‡ªå·±å¯¹æ—¶å…‰é£žé€çš„æ„Ÿå¹ã€‚ è€è®¡åˆ’å…ˆçœ‹ä¸‹åŽ»å¹´ç»™ä»Šå¹´å®šä¸‹çš„è®¡åˆ’å§ï¼š ä¸€ä¸ªæœˆä¸€æœ¬ä¹¦ï¼ˆéžæŠ€æœ¯ç±»ï¼‰ åšæŒé”»ç‚¼ï¼ˆèµ·ç éš”ä¸‰å·®äº”ï¼‰ åšæŒè®°è´¦ ä¸€ä¸ªæœˆä¸€æœ¬ä¹¦æ®ç›¸å…³èµ„æ–™æ˜¾ç¤ºï¼Œç›®å‰å®Œæ•´è¯»å®Œçš„ä¹¦ä¸º22æœ¬ã€‚åœ¨è¿™äº›ä¹¦ä¸­æŠ€æœ¯ç±»ä¹¦ç±ä¸º7æœ¬ï¼ŒéžæŠ€æœ¯ç±»çš„15æœ¬ï¼Œæœ‰è¶£çš„æ˜¯æŠ€æœ¯ç±»7æœ¬åŸºæœ¬éƒ½æ˜¯å¤–æ–‡åŽŸç‰ˆä¹¦ï¼Œå…¶å®ƒ15æœ¬ä¸ºä¸­æ–‡ä¹¦ï¼›å®žä½“ä¹¦ä¸º4æœ¬ï¼Œå‰©ä¸‹18æœ¬ä¸ºç”µå­ä¹¦ï¼›å®žä½“ä¹¦ä¸­ï¼Œ2æœ¬æ˜¯åœ¨å­¦æ ¡å›¾ä¹¦é¦†å€Ÿçš„ã€2æœ¬æ˜¯å…¬å¸çš„ï¼Œç”µå­ä¹¦ä¸­6æœ¬æ˜¯åœ¨å¤šçœ‹ã€å½“å½“ä»¥åŠAmazonä¹°çš„ï¼Œ1æœ¬æ˜¯å®˜æ–¹å…è´¹çš„ï¼Œå‰©ä¸‹çš„å°±è¯¥æ˜¯ä»Žä¸å¤ªå¥½çš„æ¸ é“èŽ·å¾—äº†çš„ã€‚ æ‰€ä»¥æ€»ä½“çœ‹æ¥åŽ»å¹´å®šçš„è¯»ä¹¦è®¡åˆ’ç®—æ˜¯å®Œæˆäº†ã€‚ è¯¦ç»†ä¹¦å•ï¼Œè¯·ç‚¹æˆ‘ã€‚ åšæŒé”»ç‚¼è¿™ä¸ªå˜›ï¼Œå°±æœ‰ç‚¹é©¬é©¬è™Žè™Žäº†ã€‚ ç¬¬ä¸€æ¬¡æ¬å®¶å‰ï¼ˆ1æœˆ-4æœˆï¼‰æ¯•ä¸šå‰ç§Ÿä½çš„è€æˆ¿å­åœ°æ–¹è¿˜ç®—å¤§ï¼Œæ‰€ä»¥åŸºæœ¬è¿˜æ˜¯ä¼šå®šæ—¶åšä¿¯å§æ’‘ã€å¹³æ¿æ”¯æ’‘ä»¥åŠæ»šè½®ä¹‹ç±»çš„å‡ ä¹Žé›¶æˆæœ¬çš„è¿åŠ¨ï¼ˆåœ°æ–¹å¤§ç‚¹å°±è¡Œï¼‰ï¼Œå‘¨æœ«å¶å°”å›žæ ¡æ‰“çƒã€‚ ç¬¬ä¸€æ¬¡æ¬å®¶åŽï¼ˆ4æœˆ-12æœˆï¼‰åœ¨ä¸‰æœˆåº•æ¬äº†æ¬¡å®¶ï¼Œæ‰¾äº†ä¸ªè£…ä¿®è¿˜ç®—å¯ä»¥çš„æˆ¿å­ï¼Œä½†å§å®¤ç›®æµ‹ä¹Ÿå°±10ãŽ¡å·¦å³ï¼Œæ‰€ä»¥é™¤äº†åºŠå’Œç”µè„‘æ¡Œï¼Œæ”¾äº†ä¹¦æ©±å’Œæ‚ç‰©åŽåŸºæœ¬æ²¡æœ‰åœ°æ–¹å¯ä»¥ã€Žæ–½å±•æ‹³è„šã€äº†ï¼Œå†åŠ ä¸Šä¸‹ç­ä¹Ÿæ¯”è¾ƒæ™šï¼Œæ‰€ä»¥å›žåŽ»åŸºæœ¬ä¸æƒ³åŠ¨äº†ï¼Œæ´—æ¼±åŽçœ‹30åˆ†é’Ÿåˆ°1å°æ—¶å·¦å³ä¹¦åŽåŸºæœ¬ä¹Ÿå°±åˆ°12ç‚¹äº†ã€‚ è¿™æœŸé—´å…¬å¸ä¹°äº†ä¹’ä¹“çƒæ¡Œï¼Œæˆ‘ä¹Ÿæ¡èµ·äº†å°å­¦æ—¶çš„æ°´å¹³åœ¨åˆé¥­åŽå’Œæ™šé¥­åŽå’ŒåŒäº‹æ‰“æ‰“çƒï¼Œä½†ä¼¼ä¹Žè¿™ä¸ªè¿åŠ¨å¯¹æˆ‘è¿™ä¸ªæƒ³å‡è‚¥å’Œå¢žè‚Œçš„äººæ¥è¯´ä¼¼ä¹Žæ²¡ä»€ä¹ˆæ”¹å˜ã€‚ å†æœ‰ï¼Œè¿™æœŸé—´åœ¨ä½çš„åœ°æ–¹æŠ¥äº†ä¸€ä¸ªé©¾æ ¡ï¼Œè¿‘ä¸¤ä¸‰ä¸ªæœˆçš„å‘¨æœ«åŸºæœ¬å°±åœ¨é©¾æ ¡åº¦è¿‡äº†ï¼Œå›žæ ¡æ‰“çƒçš„æ¬¡æ•°ä¹Ÿå°‘äº†æˆ–ä¸ºé›¶äº†ã€‚å¥½ä¹…ä¸è¿åŠ¨å†åŠ ä¸Šä½“é‡å¢žåŠ äº†ï¼Œå¾…å‡ ä¸ªæœˆå†å›žåŽ»æ‰“çƒè·‘äº†åå‡ åˆ†é’Ÿå°±è§‰å¾—èƒ¸é—·äº†ï¼Œå¾€äº‹æ¶Œä¸Šå¿ƒå¤´ï¼Œå½¼æ—¶å¤§åŠä¸ªçƒåœºè·‘ä¸ªå‡ ä¸ªå°æ—¶ä¹Ÿè§‰å¾—å°caseè€Œå·²ï¼Œä¸ç¦è®©äººå”å˜˜ä¸å·²ã€‚ çŽ°åœ¨è¯»ç ”çš„åŒå­¦ä¼¼ä¹Žæ›´å¿™äº†ï¼Œä¹Ÿä¸è§æ‹›å‘¼æ‰“çƒäº†ã€‚ ç¬¬äºŒæ¬¡æ¬å®¶åŽï¼ˆ12æœˆï¼‰ç®—æ˜¯å¤šèŠ±äº†å‡ ç™¾å—å‡çº§äº†ä¸€ä¸‹ï¼ŒåŠ é˜³å°é¢ç§¯å·®ä¸å¤š30ãŽ¡äº†å§ï¼Œä¹Ÿç®—æ˜¯æœ‰åœ°æ–¹å¥½å¥½å­¦ä¹ å’Œé”»ç‚¼äº†ï¼Œç›®å‰æ¯å¤©å‡ ç»„20ä¸ªä¿¯å§æ’‘å·²ç„¶æˆäº†ä¹ æƒ¯ï¼Œåªæ˜¯è‚šå­ä¸Šçš„èµ˜è‚‰ä¼¼ä¹Žè¿˜æ˜¯ç”¨æ»šè½®æœ‰æ•ˆäº›ï¼Œæœ‰å¾…åŽæœŸåŠ ä¸Šã€‚ åšæŒè®°è´¦å¤§å­¦æ—¶å¼€å§‹åšæŒè®°è´¦ï¼Œä½†å½“æ—¶å¤ªä¸ºçç¢Žï¼Œè¿žæ¯æ¬¡å…¬äº¤å…·ä½“æ˜¯1å—2è¿˜æ˜¯1å—6éƒ½è¦è®°ä¸‹ï¼Œå†åŠ ä¸Šå½“æ—¶åŸºæœ¬è´¦ç›®æ¯”è¾ƒé›¶ç¢Žï¼Œæ‰€ä»¥æ¯•ä¸šåŽå½»åº•æ ¼å¼åŒ–æ•°æ®åŽä»Žå¤´å†æ¥äº†ã€‚ åŠ©å­¦è´·æ¬¾ä¹Ÿå·¦å·¦å³å³åœ°éƒ½è¿˜æŽ‰äº†ï¼Œå…¶å®ƒçš„è¯éšç§åŽŸå› ç•¥åŽ»ä¸è¡¨ã€‚ï¼ˆç­‰å…ƒæ—¦ä¼°è®¡è¦èŠ±ä¸å°‘æ—¶é—´æ±‡æ€»æ•´ç†è¿™äº›è´¦å•äº†ï¼‰ æ€»çš„æ¥è¯´ï¼Œå› ä¸ºåŽ»å¹´å¯¹ä»Šå¹´åŸºæœ¬æ²¡å®šä¸‹å¤ªé«˜ç›®æ ‡ï¼Œæ‰€ä»¥åŸºæœ¬ä¹Ÿç®—å®Œæˆäº†ã€‚ å¹´ç»ˆæ±‡æ€»å·¥ä½œ è®°å¾—æ˜¯å…ƒæ—¦å‰ä¸€å¤©å’Œç¬¬ä¸€å®¶å…¬å¸è€æ¿æçš„ç¦»èŒï¼Œè™½ç„¶ç†ç”±æ˜¯å…¬å¸å°±æˆ‘ä¸€ä¸ªåšAndroidå¼€å‘çš„ï¼Œè€Œä¸”åˆååº•å±‚åˆæ²¡äººå¸¦æ¯”è¾ƒç´¯ï¼Œä½†å¤šå°‘è¿˜æœ‰è–ªèµ„æ–¹é¢çš„åŽŸå› çš„ï¼Œäº¤æŽ¥æ—¶é—´å†…ï¼Œå°±é¢äº†ä¸ªäººè§‰å¾—å—äº¬è¿˜ä¸é”™çš„å…¬å¸é€”ç‰›ï¼ˆå¿ƒæƒ³æ—…æ¸¸ä¸šåœ¨å›½å†…åŽæœŸå‘å±•è‚¯å®šä¼šå¾ˆå¥½ï¼‰ã€‚å°±åœ¨ä¸€å¼€å‘ç¾¤é‡Œæ‰¾äº†é€”ç‰›çš„äºŽæ€»ä»£ä¸ºæŠ•é€’ç®€åŽ†ã€‚ä½†æ¯•ç«Ÿtoo yongäº†ï¼Œé¢è¯•æ—¶åœ¨ä¸€äº›æ·±å±‚æ¬¡åŽŸç†æ–¹é¢ä»¥åŠå½“æ—¶æ ¹æœ¬æ²¡æŽ¥è§¦è¿‡çš„jsä¸Žandroidäº¤äº’æ–¹é¢è´¥äº†ä¸‹æ¥ã€‚å›žæ¥æŸ¥äº†ä¸‹æœ€åŽé¢æˆ‘çš„CTOï¼ŒåŽŸæ¥æ˜¯å°é“å›ç‰µçº¿çš„ã€‚å½“ç„¶è¿™å’Œæˆ‘ä¸€æ¯›é’±å…³ç³»ä¹Ÿæ²¡æœ‰ã€‚ 2æœˆæ­£å¼ç¦»èŒäº†ï¼Œæœ¬æƒ³å¹´å‰æ‰¾ä¸åˆ°å·¥ä½œçš„è¯æˆ‘å°±å®‰å¿ƒå¤ä¹ åŠä¸ªæœˆå¹´åŽå†è¯´å§ã€‚æŠ±ç€è¯•è¯•çœ‹çš„æ€åº¦æŠ•äº†å‡ å®¶ï¼Œä¸‹åˆæŽ¥åˆ°ä¸¤ä¸ªç”µè¯ï¼Œä¸€å®¶äºŒæ‰‹è½¦è¯„ä¼°å…¬å¸çš„ç”µè¯ï¼Œå®‰æŽ’ç¬¬äºŒå¤©ç”µè¯é¢è¯•ã€‚ä¸€å®¶æ˜¯è€æ¿äº²è‡ªæ‰“ç”µè¯çº¦è¿‡åŽ»é¢è¯•ï¼Œæ£ç€çŽ°åœ¨çœ‹æ¥å¾ˆæ°´çš„ç®€åŽ†å°±è¿‡åŽ»äº†ã€‚è°åˆèƒ½æƒ³åˆ°ä¸Šæ¥ä¸é—®æˆ‘AndroidçŸ¥è¯†è€Œæ˜¯é—®ç®—æ³•å‘¢ï¼Œè´¹äº†å¥½å¤§åŠ²æ‰æƒ³å‡ºç‚¹é«˜ä¸­æ—¶æŽ¥è§¦è¿‡ä½†å¹¶ä¸ç³»ç»Ÿçš„ä¸€ç‚¹ç®—æ³•çŸ¥è¯†ã€‚è¦ä¹ˆæ˜¯æˆ‘å¤ªå¹´è½»ï¼Œè¦ä¹ˆå°±æ˜¯è€æ¿å¤ªèƒ½å¹ï¼Œæ²¡æƒ³åˆ°å‡ ä¸ªå°æ—¶åŽå°±è§‰å®šåŠ å…¥äº†ã€‚äººç”Ÿå°±æ˜¯è¿™æ ·å“ˆï¼Œè°ä¹Ÿä¸çŸ¥é“ç›’å­æ‰“å¼€åŽä¼šæ˜¯ä»€ä¹ˆã€‚ å½“ç„¶ï¼Œè¿›æ¥åŽæˆ‘ä¹Ÿä¸æ˜¯ã€Žå¦‚æ„¿ã€åœ°åšäº†åº”ç”¨å±‚ï¼Œè€Œæ˜¯ä¾§é‡äºŽåç¼–è¯‘ä»¥åŠç¨‹åºåˆ†æžè¿™å—å·¥ä½œã€‚å¦‚æžœå½“æ—¶ä¸æ˜¯åšçš„æ‰€è°“çš„ã€Žç‰¹ç§å®‰å…¨ã€ï¼Œä¹Ÿè®¸æ ¹æœ¬ä¸ä¼šæŽ¥è§¦åˆ°çŽ°åœ¨å·¥ä½œå†…å®¹äº†å§ã€‚å¹³è¡Œä¸–ç•Œçš„æˆ‘åœ¨åšä»€ä¹ˆå‘¢ï¼Ÿè¯´ä¸å®šä½ åƒçš„ä¸­è¯å°±æ˜¯æˆ‘æŠ“ç»™ä½ çš„ã€‚XD ä¸å¾—ä¸æçš„ä¸€ä¸ªæ„Ÿæƒ³æ˜¯ï¼Œè°ä¹Ÿä¸çŸ¥é“ä½ ä¹‹å‰å­¦åˆ°çš„ä¸œè¥¿å°±åœ¨æŸå¤©å°±ç”¨ä¸Šäº†ã€‚åœ¨å‰ä¸€å®¶å…¬å¸ä¸‹ç­åŽåƒè¿‡é¥­å°±å¼€å§‹åœ¨æ…•è¯¾ç½‘å’Œç½‘æ˜“äº‘è¯¾å ‚ä¸Šå­¦ä¹ ,æœŸé—´æŠŠpythonç®—æ˜¯å…¥é—¨äº†ï¼Œæ²¡æƒ³åˆ°åŠå¹´åŽçš„é¡¹ç›®ä¸­æœ‰å¾ˆå¤šç”¨åˆ°pythonåˆ†æžç¨‹åºçš„ï¼ŒæœŸé—´ä¹Ÿå†™äº†å¾ˆå¤šè„šæœ¬ã€‚é‚£æ®µæ—¶é—´å¿ƒé‡Œè€æ˜¯å¿µå¨ã€Žä½†è¡Œå¥½äº‹ï¼ŒèŽ«é—®å‰ç¨‹ã€ï¼Œè™½ä¸è´´åˆ‡ï¼Œä½†æˆ‘å°±æ˜¯å¿µå¨è¿™å¥ã€‚è°çŸ¥é“åŽé¢æˆ‘ä¼šä¸ä¼šç”¨pythonæ¥åˆ†æžã€Žå¤§ã€æ•°æ®æˆ–æ­å»ºç½‘ç«™å‘¢ã€‚ï¼ˆé«˜å‘¼ã€Žç”Ÿå‘½è‹¦çŸ­ï¼Œæˆ‘ç”¨Pythonã€ï¼‰ å­¦ä¹ ä¸Žè¯»ä¹¦ä¹°ä¹¦ä¸€ä¸ªæœˆå‰çš„æ¬å®¶ï¼Œæ€»å…±æ¬äº†3è¶Ÿï¼Œç¬¬ä¸€æ¬¡å°±å…¨éƒ¨æ˜¯ä¹¦ã€‚æ­£æ‰€è°“ã€Žä¹°ä¹¦å¦‚å±±å€’ï¼Œè¯»ä¹¦å¦‚æŠ½ä¸ã€ï¼Œéƒ½æ€ªå¥¶èŒ¶å®¶åŠ¨ä¸åŠ¨æ¥ä¸ªæ»¡200å‡100ï¼Œå‡ æ¬¡ä¸‹æ¥å·®ä¸å¤šå±¯çš„ä¹¦å¤Ÿå‡ å¹´çœ‹çš„ï¼Œäººå®¶æ¬å®¶å«Œé‡çš„ä¹¦æˆ‘ä¹Ÿä¹°å›žæ¥ï¼Œæœ‹å‹è¿˜é€äº†åŸºæœ¬åŽšåŽšçš„è‹±æ–‡åŽŸç‰ˆä¹¦ã€‚ã€‚ã€‚è™½è¯´å¤šçœ‹ä¸Šä¹ŸåŠ¨ä¸åŠ¨æžæ´»åŠ¨ï¼Œä¹°äº†ä¸å°‘å¥—ä¹¦ï¼Œä½†èµ·ç ä¸å¢žåŠ æ¬å®¶è´Ÿæ‹…ã€‚è¿™ç—…å•Šï¼Œå°±è·Ÿå¥³äººçˆ±ä¹°è¡£æœä¸€æ ·ï¼Œæƒ³æ²»å¥½å¾€å¾€å´æ˜¯å¾’åŠ³çš„ã€‚ è¯»ä¹¦ä¸€å‘è‡ªè¯©æ˜¯çˆ±çœ‹ä¹¦çš„äººï¼Œä¹Ÿåœ¨ä¸åœåœ°ç»™æœ‹å‹åŒå­¦æŽ¨èä¹¦ã€‚ä½†çœ‹äº†è®ºå›é‡Œçš„ä¸€äº›æœ‹å‹åˆ—å‡ºçš„ä¹¦å•ï¼Œå‘çŽ°è‡ªå·±è¿˜æ˜¯è¯»çš„å¤ªå°‘å¤ªå°‘ã€‚æœ‰æ—¶å€™çŽ°åœ¨çš„çŠ¶æ€åƒæ˜¯å¤§å­¦æ—¶æŸä¸ªé˜¶æ®µçš„çŠ¶æ€ï¼Œå½¼æ—¶è€æŠ±æ€¨çœ‹çš„ä¹¦åŸºæœ¬æ˜¯æŠ€æœ¯ç±»çš„ï¼Œè€Œé«˜ä¸­æ—¶å‘å¾€çš„å¥½å¤šæ–‡å­¦ä¹¦åœ¨å¤§å­¦å´å¾ˆéš¾æŒ¤å‡ºæ—¶é—´æ¥çœ‹ï¼›æ­¤æ—¶åˆå¸¸å¸¸è§‰å¾—ä¸Šç­æ—¶é—´å¤ªé•¿ï¼Œæ™šä¸Šå›žæ¥æœ€å¤šçœ‹çœ‹ç»æµŽæˆ–å…¶ä»–ä¹¦ç±ï¼Œå´æŒ¤ä¸å‡ºæ—¶é—´çœ‹äº›æŠ€æœ¯ç±»ä¹¦ç±ã€‚åæ­£å°±æ˜¯æ—¶é—´æ€»æ˜¯ä¸å¤Ÿç”¨çš„ã€‚ æ”¹å˜å¹´å°‘æ—¶ï¼ŒåŸºæœ¬åªå¯¹ç§‘æŠ€ç±»æ–°é—»æ„Ÿå…´è¶£ï¼Œæ„Ÿè§‰åŽ†å²ç±»çš„å’Œç»æµŽç±»çš„å¤ªæ— èŠã€‚ä»Šå¹´æœ€å¤§çš„è½¬å˜åº”è¯¥å°±æ˜¯å¯¹è¿™ä¸¤æ–¹é¢é€æ¸æ¥äº†å…´è¶£ã€‚çœ‹å´å†›åšå£«çš„ã€Šæµªæ½®ä¹‹å·…ã€‹åŽï¼Œå‘çŽ°æˆ‘å¯¹ä¸€äº›è‘—åITå…¬å¸çš„åŽ†å²å¾ˆæ„Ÿå…´è¶£ï¼Œé‡Œé¢å¾ˆå¤šçš„æ•…äº‹éƒ½å€¼å¾—ç»†ç»†çŽ©å‘³ã€‚å†è€…ï¼Œéšç€ä»Šå¹´çš„å¤§ç‰›å¸‚ï¼Œæˆ‘ä¹Ÿå†²è¿›åŽ»æ„Ÿå—äº†ä¸€æŠŠï¼Œç»åŽ†äº†ã€Žå¤§èµ·å¤§è½ã€åŽï¼Œå‘çŽ°æ²¡é‚£ä¹ˆå¤šæ—¶é—´ç›¯ç›˜ï¼Œè¿˜æ˜¯è½¬æŠ•æŒ‡æ•°åŸºé‡‘å®šæŠ•å§ã€‚ æŠ€æœ¯ æŠ€æœ¯æœ‰ä¸¤ä¸ªå‘å±•æ–¹å‘ï¼Œä¸€ç§æ˜¯çºµå‘ä¸€ç§æ˜¯æ¨ªå‘çš„ï¼Œæ¨ªå‘çš„æ˜¯ç‘žå£«å†›åˆ€ï¼Œçºµå‘çš„æ˜¯å‰Šé“å¦‚æ³¥çš„å¹²å°†èŽ«é‚ªã€‚è¿™ä¸¤ä¸ªæ–¹å‘éƒ½æ²¡æœ‰å¯¹ä¸Žé”™ï¼Œå‘å±•åˆ°ä¸€å®šç¨‹åº¦éƒ½ä¼šç›¸äº’èžåˆï¼Œå°±å¥½æ¯”ä¸­å›½ä½›å®¶ç¦…ä¿®çš„å—é¡¿åŒ—æ¸ï¼Œå…¶å®žåˆ°äº†æœ€åŽï¼Œæ¸æ‚Ÿä¸Žé¡¿æ‚Ÿéƒ½æ˜¯ä¸€æ ·çš„ï¼Œé¡¿ç”±æ¸ä¸­æ¥ã€‚ è‡ªä»ŽæŽ¥è§¦ç¼–ç¨‹ä»¥æ¥ï¼Œæˆ‘åº”è¯¥ä¸€ç›´å°±æ²¡å®‰åˆ†è¿‡å§ï¼Œæ£é¼“äº†å¤ªå¤šä¸œè¥¿ï¼Œä»ŽWindowsåˆ°Linuxå†åˆ°OS Xï¼Œä»ŽMySQLåˆ°MangoDBï¼Œä»ŽPascalåˆ°Cã€C++ã€VBã€Javaã€HTMLã€PHPã€Shell Scriptã€JavaScriptã€Pythonã€Object-Cã€Swiftã€Scalaã€Goã€NodeJSï¼Œä»ŽAndroidåˆ°iOSåˆ°Raspberry Piï¼Œä½†å´åˆæ²¡æœ‰ä¸€æ ·ç²¾é€šçš„ï¼Œè®ºå›ä¸Šçš„äººè¯´çš„å¾ˆå¯¹ï¼Œå¾ˆå¤šæ—¶å€™å¹¶ä¸æ˜¯çœŸæ­£å­¦è¿‡ï¼Œè€Œæ˜¯åªæ˜¯å­¦ä¹ äº†ä¸€äº›è¯­æ³•è€Œå·²ï¼Œè¿‡å‡ å¤©å°±ä¼šå¿˜è®°ã€‚è™½è¯´æˆ‘é€‰æ‹©äº†ç‘žå£«å†›åˆ€ä¹‹è·¯ï¼Œä½†ç›®å‰æ¥è¯´è¿˜æ˜¯ä¸ªå±±å¯¨çš„ï¼Œå­¦å…¶å½¢å´ä¸¢æŽ‰äº†ç¥žã€‚è¿™æ ·ä¸‹åŽ»å¾ˆå¯èƒ½å°±æ˜¯æ¡äº†èŠéº»ã€ä¸¢äº†è¥¿ç“œã€‚ æŠ€èƒ½æ ‘å¾ˆå¤§å›ºç„¶å¾ˆå¥½ï¼Œä½†æ˜¯æ²¡æœ‰ç¡•å¤§çš„æ ‘æ ¹æ˜¯ä¸è¡Œçš„ï¼Œä¸‹é¢ä¸€å¹´è¯¥ä¿®å‰ªæžæ¡ ï¼Œå›žå½’ä¸»å¹²äº†â€”â€”ç®—æ³•ã€ç¼–è¯‘åŽŸç†ã€è™šæ‹Ÿæœºï¼ ç”Ÿå‘½ä¸­çš„é»‘å¤©é¹… å¤©æœ‰ä¸æµ‹é£Žäº‘ï¼Œäººæœ‰æ—¦å¤•ç¥¸ç¦ã€‚â€”â€”ã€Šç ´çª‘èµ‹ã€‹å®‹Â·å•è’™æ­£ å°±åœ¨ä¸Šå‘¨ï¼ŒåŽ»å…¬å¸çš„è·¯ä¸Šï¼Œå¿«åˆ°ç«™åŽå¿½ç„¶èº«ä½“ä¸èˆ’æœï¼Œå¤´æ™•å¾—ä¸è¡Œï¼Œèµ¶ç´§æ‰¾åœ°æ–¹åä¸‹ï¼Œæˆ‘æƒ³é‚£æ—¶è„¸è‰²è‹ç™½å¾—ä¸€å®šå¾ˆå“äººã€‚åäº†ä¸€ä¼šå·¦ä¾§è…¹éƒ¨åˆå‰§çƒˆç–¼ç—›ï¼Œæˆ‘æƒ³èŽ«éžè¿™å°±æ˜¯ä¼ è¯´ä¸­çš„é˜‘å°¾ç–¼äº†ï¼ŸæŸ¥äº†ä¸‹æ‰å‘çŽ°è‡ªå·±çš„è§£å‰–è¯¾ç®—æ˜¯ç™½å­¦äº†ï¼ˆé˜‘å°¾åœ¨å³ä¾§è…¹éƒ¨ï¼‰ï¼Œç½‘ä¸Šæœ‰çš„è¯´å¯èƒ½æ˜¯å‰åˆ—è…ºç‚Žï¼Œå“æ­»äº†ï¼Œæ€»ä¸èƒ½å¹´çºªè½»è½»åœ°å°±å®³è¿™ç—…å‘€ã€‚ã€‚ç¼“äº†ä¼šåšæŒåˆ°äº†å…¬å¸ï¼Œå´å‘çŽ°ç–¼ç—›æœ‰å¢žæ— å‡ã€‚åœ¨åŒäº‹çš„å¸®åŠ©ä¸‹ï¼ŒåŽ»åŒ»é™¢æŒ‚äº†æ€¥è¯Šã€‚åŒ»ç”Ÿç®€å•æ£€æŸ¥ä¸‹è½»æ·¡åœ°è¯´æ˜¯è‚¾ç»“çŸ³ï¼Œã€Œå¾…æ‰“äº†æ­¢ç—›é’ˆåŽåŽ»Bè¶…çœ‹çœ‹çŸ³å¤´å¤šå¤§ï¼Œå°çš„è¯å¤šå–ç‚¹æ°´å°¿æŽ‰ï¼Œå¤§çš„è¯å°±è¦éœ‡ç¢Žäº†ã€ã€‚é‚£æ—¶æˆ‘çš„å¿ƒæƒ…ä¸€å®šä¸æ˜¯å¤ªå¥½çš„ï¼Œè‚¾ç»“çŸ³ï¼Ÿæˆ‘è…°å­æ€Žä¹ˆå°±ä¸å¥½äº†å‘¢ï¼Œæˆ‘è¿˜æ²¡ç»“å©šå‘€ã€‚ã€‚ï¼ŒåŒ»ç”Ÿçœ‹æˆ‘å¾ˆç–¼çš„æ ·å­ï¼Œå°±å®‰æ…°äº†ä¸‹æˆ‘ã€Œæ”¾å¿ƒï¼Œæ­»ä¸äº†äººçš„ã€ï¼Œæˆ‘ã€Œã€‚ã€‚ã€‚ã€ äº‹æƒ…åˆ°äº†è¿™åœ°æ­¥ï¼Œä¼¼ä¹Žåˆè¦æ˜¯ä¸ªç¨‹åºå‘˜å¹´çºªè½»è½»åœ°å°±ã€‚ã€‚ã€‚æ•…äº‹ã€‚å¯æ˜¯Bè¶…å´åˆæ²¡å‘çŽ°æœ‰çŸ³å¤´ï¼Œå°¿æ£€ç™½ç»†èƒžè¿‡å¤šï¼ŒèŽ«éžä¸æ˜¯çŸ³å¤´ä½œæ€ªåªæ˜¯ä¸ªç‚Žç—‡è€Œå·²ï¼Ÿæˆ‘åˆæ‹…å¿ƒæ˜¯ä¸æ˜¯çŸ³å¤´å¤ªå°æˆ–æ˜¯æˆ‘æ†‹å°¿æ—¶é—´ä¸å¤Ÿé•¿å‘¢ã€‚çœŸä¸çŸ¥é“è¯¥å–œè¿˜æ˜¯è¯¥æ‚²ã€‚ã€‚ å¤šå–æ°´ï¼Œä¸è¦æ†‹å°¿ è¿™æ˜¯åŒ»ç”Ÿäº¤ä»£ç»™æˆ‘çš„ï¼Œå›žæ¥åŽé‚£å¤©ä¸‹åˆå–çš„æ°´é‡å·®ä¸å¤šæ˜¯æˆ‘ä¸€å‘¨å–çš„æ°´é‡ã€‚ï¼ˆå¹³æ—¶æ—©ä¸Šåˆ°å…¬å¸å€’ä¸€æ¯æ°´åŽï¼Œå¾€å¾€ä¸‹ç­åŽè¿˜æ²¡å–å®Œã€‚ã€‚ï¼‰ å›žæ¥çš„è·¯ä¸Šå°±ä¸€ç›´åœ¨æƒ³ï¼Œå¦‚æžœæˆ‘çœŸçš„ä¸è¡Œäº†ï¼Œè¿™ç®—ä¸ç®—ç”Ÿå‘½ä¸­çš„é»‘å¤©é¹…å‘¢ã€‚ä¸€ä¸ªç§¯æžå‘ä¸Šã€å‹¤å¥‹å¥½å­¦çš„å¤§å­¦æ¯•ä¸šç”Ÿï¼Œæ­£å€¼é£ŽåŽæ­£èŒ‚ã€æŒ‡ç‚¹æ±Ÿå±±çš„å¹´çºªï¼Œå´æ—©æ—©çš„ã€‚ã€‚ è¯šç„¶ï¼Œç”Ÿæ´»ä¸­å­˜åœ¨å¤ªå¤šçš„æ„å¤–ã€‚æ‰“å¼€ç›’å­ä¹Ÿè®¸æ˜¯å·§å…‹åŠ›ï¼Œä¹Ÿè®¸å°±æ˜¯æ½˜å¤šæ‹‰ã€‚æˆ‘ä»¬åœ¨å‘å‰å¥‹æ–—çš„åŒæ—¶ä¹Ÿå¾—æé˜²ç”Ÿæ´»ä¸­çš„ç§ç§æ„å¤–ï¼ï¼ˆå¦‚æžœæ­¤å¤„äººå¯¿ä¿é™©æˆ–äººæµåŒ»é™¢ç»™æˆ‘å¹¿å‘Šè´¹ï¼Œè¿™å°±å·®ä¸å¤šæ˜¯ä¸€ç¯‡ä¸é”™çš„è½¯æ–‡äº†ï¼Œä½ å¬è¿‡å®‰åˆ©å—ï¼Œå“ˆå“ˆï¼‰ å¤šé”»ç‚¼ï¼Œå®šæœŸä½“æ£€å§ã€‚ è¿™é˜¶æ®µæŠ˜è…¾äº†ä¼šåŸºé‡‘å®šæŠ•ï¼Œè¯¥è€ƒè™‘ä¸ºçˆ¶æ¯å’Œè‡ªå·±ä¹°ç‚¹å•†ä¸šä¿é™©äº†ã€‚ æ–°è®¡åˆ’ å¤šçœ‹ä¹¦ å¤šå–æ°´ å¤šè¿åŠ¨ å°¾å£°åœ¨å¾®åšä¸Šçœ‹åˆ°äº†è¿™æ®µè¯ï¼Œæ„Ÿè§‰ä¸é”™ï¼Œåˆ†äº«ä¸€ä¸‹ï¼š ä½ è½¬äº†æ— æœ¯å¥èº«è§†é¢‘ï¼Œè‚šå­ä¸Šä»»ç„¶æ˜¯é‡Œä¸‰å±‚å¤–ä¸‰å±‚çš„èµ˜è‚‰ï¼› ä½ åˆ†äº«äº†Nå¤šæ—…æ¸¸æ”»ç•¥ï¼Œå‡æœŸä¾ç„¶æ˜¯è¶´åœ¨åºŠä¸ŠçŽ©æ‰‹æœºï¼› ä½ è´­ç‰©è½¦é‡Œè£…æ»¡äº†ä¸­æ„çš„å•†å“ï¼Œæœ€ç»ˆè¿˜æ˜¯é»˜é»˜åˆ é™¤ï¼› ä½ è„‘è¡¥äº†ä¸Žä»–ä¸€è¾ˆå­çš„æ•…äº‹ï¼Œåˆ°çŽ°åœ¨è¿˜éƒ½æœªè¡¨ç™½ã€‚ ä½ æŠŠä¸€åˆ‡éƒ½ç¢ç£¨äº†ç­¹åˆ’äº†ï¼ŒæŠ±ç€ä¸€ä¸ªå¾ˆå®Œç¾Žçš„å‡è±¡å¿ƒæ»¡æ„è¶³ï¼Œå®žé™…ä¸Šï¼Œä»€ä¹ˆéƒ½æ²¡å‘ç”Ÿã€‚]]></content>
      <categories>
        <category>Life</category>
      </categories>
      <tags>
        <tag>life</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æŸ¥æ‰¾å­å­—ç¬¦ä¸²ä¹‹é—´çš„å†…å®¹]]></title>
    <url>%2F2015%2F12%2F21%2Fpython-find-content-between-two-substrings%2F</url>
    <content type="text"><![CDATA[ç›´æŽ¥ä»£ç ã€‚123456789101112131415161718192021s = "123123STRINGabcabc"def find_between( s, first, last ): try: start = s.index( first ) + len( first ) end = s.index( last, start ) return s[start:end] except ValueError: return ""def find_between_r( s, first, last ): try: start = s.rindex( first ) + len( first ) end = s.rindex( last, start ) return s[start:end] except ValueError: return ""print find_between( s, "123", "abc" )print find_between_r( s, "123", "abc" ) [å‚è§]ï¼ˆhttp://stackoverflow.com/questions/3368969/find-string-between-two-substringsï¼‰ å¬é¦–éŸ³ä¹æ”¾æ¾ä¸€ä¸‹ï¼š author: Jiezhi.Gemail: Jiezhi.G@gmail.com]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaä¸­å¯¹æ–¹æ³•çš„æ‰§è¡Œè®¾ç½®è¶…æ—¶]]></title>
    <url>%2F2015%2F12%2F03%2Fjava-settimeout4method%2F</url>
    <content type="text"><![CDATA[åˆ©ç”¨FutureTaskå¯¹ä¸€ä¸ªæ–¹æ³•è®¾ç½®æ‰§è¡Œè¶…æ—¶çš„æ“ä½œ12345678910111213141516171819202122232425262728293031323334353637383940414243package io.github.jiezhi.concurrent;import java.util.concurrent.*;/** * Created by jiezhi on 12/3/15. */public class TimeoutDemo &#123; private static final String TAG = "jiezhi:TimeoutDemo"; public static void main(String args[])&#123; runFunTimeout(); &#125; /** * åœ¨å›ºå®šæ—¶é—´å†…æ‰§è¡Œä¸€ä¸ªå‡½æ•°,è¶…æ—¶åˆ™é€€å‡º */ private static void runFunTimeout() &#123; FutureTask&lt;Object&gt; task = new FutureTask&lt;&gt;(() -&gt; needTime(10 * 1000)); ExecutorService executor = Executors.newFixedThreadPool(1); executor.execute(task); try &#123; task.get(5, TimeUnit.SECONDS); &#125; catch (InterruptedException | ExecutionException | TimeoutException e) &#123; e.printStackTrace(); &#125; executor.shutdown(); &#125; private static int needTime(long t) &#123; try &#123; Thread.sleep(t); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; return 1; &#125;&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>timeout</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœ‰è¶£çš„vim]]></title>
    <url>%2F2015%2F11%2F18%2Finteresting-vim%2F</url>
    <content type="text"><![CDATA[è®°å½•ä¸€äº›vimå¥‡æ·«æŠ€å·§ã€‚ vimè‡ªå¸¦çš„æ•™ç¨‹å››å¤„æ‰¾æ•™ç¨‹å­¦ä¹ vimï¼Ÿåˆ«å¿˜äº†vimå¯æ˜¯è‡ªå¸¦æ•™ç¨‹çš„å“¦:-D Unixç³»ç»Ÿä¸‹ï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥ï¼‰vimtutorå³å¯ï¼›Windowsçš„è¯ï¼Œæ‰§è¡Œ$VIMRUNTIMEç›®å½•ä¸‹çš„vimtutor.batå³å¯ã€‚ä»€ä¹ˆï¼Ÿè‹±æ–‡ä¸å¥½ï¼Ÿè¯•è¯•vimtutor zh åœ¨åŒ¹é…æ‹¬å·é—´è·³è½¬ %å‘½ä»¤å®¹è®¸æˆ‘ä»¬åœ¨ä¸€ç»„å¼€ã€é—­æ‹¬å·é—´è·³è½¬ï¼ˆå‚è§ :h %ï¼‰,è¯¥å‘½ä»¤é€‚ç”¨äºŽï¼ˆï¼‰ã€{}å’Œ[]ã€‚]]></content>
      <categories>
        <category>Vim</category>
      </categories>
      <tags>
        <tag>vim</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœ‰è¶£çš„shellå‘½ä»¤]]></title>
    <url>%2F2015%2F11%2F13%2Finteresting-shell-command%2F</url>
    <content type="text"><![CDATA[åœ¨ã€ŠCommand Line Kung Fuã€‹ä¹¦ä¸­çœ‹åˆ°ä¸å°‘æœ‰ç”¨çš„å‘½ä»¤ï¼Œé‚å¿—äºŽæ­¤ã€‚ ShellåŽ†å² ä»¥rootèº«ä»½æ‰§è¡Œä¹‹å‰çš„å‘½ä»¤ï¼š $ sudo!! æˆ–è€… su -c â€œ!!â€ æ‰§è¡Œä¹‹å‰ä»¥ç»™å®šå­—ç¬¦ä¸²å¼€å¤´çš„å‘½ä»¤ï¼š 12345âžœ ~ whoamijiezhiâžœ ~ !wâžœ ~ whoamijiezhi !^å¤ç”¨å‰ä¸€ä¸ªå‘½ä»¤çš„é¦–ä¸ªå‚æ•°ï¼ˆç¬¬äºŒä¸ªè¯), !$å¤ç”¨å‰ä¸ªå‘½ä»¤çš„æœ«ä¸ªå‚æ•°ï¼Œå¦‚ï¼š 1234âžœ ~ open source/_posts/interesting-shell-command.md -a Atomâžœ ~ !^ // å›žè½¦åŽä¼šçœ‹åˆ°*source/_posts/interesting-shell-command.md*//æŒ‰&lt;C+u&gt;æ¸…é™¤å½“å‰å‘½ä»¤è¡ŒåŽâžœ ~ !$ // å›žè½¦åŽå¯ä»¥çœ‹åˆ°*Atom* !!:Nå¤ç”¨å‰ä¸ªå‘½ä»¤ç¬¬Nä¸ªå‚æ•° ç¬¬ä¸€ä¸ªå‚æ•°ä¸º1ï¼Œå¦‚!!:1,è€Œç¬¬ä¸€ä¸ªå•è¯å³å‘½ä»¤æœ¬èº«ä¸º0å¦‚åœ¨å‘½ä»¤open source/_posts/interesting-shell-command.md -a Atomä¸­!!:0ä¸ºopen, !!:1ä¸ºsource/_posts/interesting-shell-command.md æŸ¥çœ‹ä½ ç”¨çš„æœ€å¤šçš„å‘½ä»¤ï¼š 1$ history | awk '&#123;print $2&#125;' | sort | uniq -c | sort -rn | head æ¸…é™¤åŽ†å²è®°å½• 1$ history -c ###æ–‡æœ¬å¤„ç† ä½¿ç”¨vimé€šè¿‡ç½‘ç»œç¼–è¾‘æ–‡ä»¶ 12$ vim csp://remote-host//path/to/file$ vim scp://remote-user@remote-host//path/to/file ä»¥è¡¨æ ¼æ ¼å¼å±•ç¤ºè¾“å‡ºcolumn -t,å¯ä»¥çœ‹å‡ºè¾“å‡ºç»“æžœå¯è¯»æ€§æ›´å¥½äº†ï¼š 123456âžœ ~ echo -e 'one two\nthree four'one twothree fourâžœ ~ echo -e 'one two\nthree four' | column -tone twothree four å€ŸåŠ©sudoå‘æ–‡ä»¶æ·»åŠ æ–‡æœ¬ï¼š 1$ echo text | sudo tee -a file ä½¿ç”¨trå‘½ä»¤ï¼Œæ›¿æ¢å­—ç¬¦ï¼š 1$ echo $PATH | tr ':' '\n' ç½‘ç»œå’ŒSSH åœ¨å½“å‰ç›®å½•ä¸‹æ­å»ºæœåŠ¡å™¨ï¼š12$ python -m SimpleHTTPServer [8080]$ python3 -m http.server *é€šè¿‡SShè¿œç¨‹æŒ‚è½½ç›®å½•è‡³æœ¬åœ°12$ sshfs remote-host:/directory mountpoint$ fusermount -u mountpoint é€šè¿‡å‘½ä»¤èŽ·å–ä½ çš„å…¬å…±IP123$ curl ifconfig.me$ curl ifconfig.me/ip$ curl ifconfig.me/host æœªå®Œå¾…ç»­:-D]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>shell</tag>
        <tag>skill</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³mv Argument list too longé—®é¢˜]]></title>
    <url>%2F2015%2F11%2F03%2Ffix-mv-argument-list-too-long%2F</url>
    <content type="text"><![CDATA[ç§»åŠ¨è¿‘ç™¾ä¸‡æ–‡ä»¶çš„æ—¶å€™ï¼Œå¿½ç„¶æŠ¥å‡ºé”™è¯¯ï¼š12$ mv 1/11*.dat 2/-bash: /bin/mv: Argument list too long æ˜¾ç„¶å½“éœ€è¦ç§»åŠ¨çš„æ–‡ä»¶å¤ªå¤šçš„æ—¶å€™ï¼Œmvå‘½ä»¤å°±æŸæ‰‹æ— ç­–äº†ã€‚ æ¯”å¦‚è¦å°†æ–‡ä»¶å¤¹1ä¸­æ‰€æœ‰ä»¥11å¼€å¤´çš„datæ–‡ä»¶ç§»åˆ°æ–‡ä»¶å¤¹2ä¸‹ï¼šè§£å†³åŠžæ³•ï¼šä½¿ç”¨findå‘½ä»¤ï¼š1$ find 1 -name '11*.dat' -exec mv &#123;&#125; 2 \; å…¶ä¸­-execåŽä¸ºéœ€è¦è¿è¡Œçš„å‘½ä»¤ï¼Œ{}ä¸ºæœåˆ°çš„æ–‡ä»¶ï¼Œ\;ä¸ºexecçš„ç»“æŸç¬¦ã€‚ ä¸è¿‡å¥½åƒå¾ˆè€—æ—¶çš„æ ·å­ã€‚ã€‚ reference:1.http://stackoverflow.com/questions/11942422/moving-large-number-of-filess]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>shell</tag>
        <tag>bash</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³Error=NeedsBrowseré—®é¢˜]]></title>
    <url>%2F2015%2F10%2F22%2Ffix-googleplaycrawler-needsbrowser%2F</url>
    <content type="text"><![CDATA[åœ¨æœ¬åœ°å¯ä»¥æ­£å¸¸è¿è¡Œçš„Raccoonï¼Œéƒ¨ç½²åˆ°æœåŠ¡å™¨æ—¶æŠ¥å¼‚å¸¸ï¼šã€Žcom.akdeniz.googleplaycrawler.GooglePlayException: Error=NeedsBrowserã€ã€‚ å¼‚å¸¸å¤§è‡´å¦‚ä¸‹ï¼š12345678Exception in thread "main" com.akdeniz.googleplaycrawler.GooglePlayException: Error=NeedsBrowserUrl=https://accounts.google.com/ContinueSignIn?sarp=1&amp;scc=1&amp;continue=https%3A%2F%2Faccounts.google.com%2Fo%2Fandroid%2Fauth%3Fhl%3Den_us%26xoauth_display_name%3DAndroid%2BLogin%2BService%26source%3DAndroid%2BLogin&amp;plt=AKgnsbvpYOFQNYD02v2gawgW73Qa_H9ymB1OhI6mqifo1tfMndMaVWA6wyfuVSN94w4003Kc6lz9gJ51fjnAY97fXoMvEHTlV0AqVIwRpHNwcNMS50dFsO7e7dveFv-8HhJRvfDHHruJy7MJH-Gq808p3U_LANxN0g0irHHDcf3o4TjFQC1GHpg2abYrIkPYuea4qVhzHgN2gI7tduYeFF7VTSLhQ-SQIHWLmgMhnfrTGMBsgWUPN7wErrorDetail=To access your account, you must sign in on the web. Touch Next to start browser sign-in.at com.akdeniz.googleplaycrawler.GooglePlayAPI.executeHttpRequest(GooglePlayAPI.java:522)at com.akdeniz.googleplaycrawler.GooglePlayAPI.executePost(GooglePlayAPI.java:482)at com.akdeniz.googleplaycrawler.GooglePlayAPI.executePost(GooglePlayAPI.java:462)at com.akdeniz.googleplaycrawler.GooglePlayAPI.loginAC2DM(GooglePlayAPI.java:180)... Googleäº†ä¸€ä¸‹ï¼Œè¯´æ˜¯Googleå¤„äºŽå®‰å…¨è€ƒè™‘ï¼Œåœ¨æ–°è®¾å¤‡ä¸Šç™»å½•æ—¶åšå‡ºäº†é™åˆ¶ã€‚ è§£å†³æ–¹æ¡ˆï¼šhttps://accounts.google.com/b/0/DisplayUnlockCaptcha ï¼Œç„¶åŽç‚¹å‡»ã€Žç»§ç»­/continueã€å³å¯ã€‚ å‚è€ƒï¼šhttps://github.com/Akdeniz/google-play-crawler/issues/79]]></content>
      <categories>
        <category>Other</category>
      </categories>
      <tags>
        <tag>çˆ¬è™«</tag>
        <tag>Google Play</tag>
        <tag>éªŒè¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ipythonåˆ‡æ¢python]]></title>
    <url>%2F2015%2F10%2F20%2Ffix-ipython-with-python%2F</url>
    <content type="text"><![CDATA[ç”±äºŽMacè‡ªå¸¦Pythonæƒé™æ–¹é¢çš„é—®é¢˜ï¼Œæ‰€ä»¥ç”¨brewå¦å¤–å®‰è£…äº†pythonã€‚ä½†ç”¨pipå®‰è£…äº†æ¨¡å—åŽå‘çŽ°ï¼Œpythonå¯ä»¥å¯¼å…¥è€Œipythonå´æ— æ³•å¯¼å…¥ã€‚ æ„å‘³ç€åœ¨Macä¸Šå­˜åœ¨äº†ä¸¤ä¸ªpythonï¼Œæˆ‘å·²ç»å°†brewå®‰è£…çš„pythonè®¾ç½®ä¸ºé»˜è®¤çš„äº†ï¼Œå…¶åœ°å€ä¸ºï¼š12âžœ bin which python/usr/local/bin/python è€ŒMacè‡ªå¸¦çš„pythonåœ°å€å…¶å®žæ˜¯/usr/bin/pythonã€‚ åœ¨çœ‹ä¸€ä¸‹ipythonï¼š12345678910111213âžœ bin which ipython/usr/local/bin/ipythonâžœ bin head `which ipython`#!/usr/bin/python# -*- coding: utf-8 -*-import reimport sysfrom IPython import start_ipythonif __name__ == '__main__': sys.argv[0] = re.sub(r'(-script\.pyw|\.exe)?$', '', sys.argv[0]) è¿™ä¹Ÿå°±æ„å‘³ç€ipythonçŽ°åœ¨é»˜è®¤æ˜¯æŒ‡å‘ç³»ç»Ÿè‡ªå¸¦çš„pythonçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¿®æ”¹ipythonå‘½ä»¤å¤´éƒ¨ã€‚å³ï¼š#!/usr/bin/pythonæ”¹ä¸º#!/usr/local/bin/pythonã€‚ é—®é¢˜è§£å†³ã€‚]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>mac</tag>
        <tag>python</tag>
        <tag>ipython</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Apache Commons CLI]]></title>
    <url>%2F2015%2F10%2F13%2FApache-Commons-CLI%2F</url>
    <content type="text"><![CDATA[Apache Commons ä¸­çš„CLIåº“æä¾›äº†è§£æžå‘½ä»¤è¡Œé€‰é¡¹çš„APIã€‚åŒæ ·ä¹Ÿå¯ä»¥å¸®ä½ æ‰“å°å‡ºæ ‡å‡†çš„å¸®åŠ©ä¿¡æ¯ã€‚ åœ¨*nixç³»ç»Ÿä¸­ä½¿ç”¨å‘½ä»¤è¡Œï¼Œç»å¸¸ä¼šéœ€è¦åŠ å‚æ•°è¿›è¡Œä¸åŒçš„æ“ä½œï¼ŒApache Commonsæä¾›çš„è¿™ä¸ªåº“å¯ä»¥å¸®ä½ å®žçŽ°è¿™æ ·çš„åŠŸèƒ½ã€‚ #ä»‹ç» é¡¹ç›®å®˜æ–¹åœ°å€ä¸‹è½½åœ°å€ #ä½¿ç”¨ç›´æŽ¥ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546import org.apache.commons.cli.CommandLine;import org.apache.commons.cli.CommandLineParser;import org.apache.commons.cli.DefaultParser;import org.apache.commons.cli.HelpFormatter;import org.apache.commons.cli.Options;import org.apache.commons.cli.ParseException;public class CliTest &#123; public static void main(String[] args) &#123; // TODO Auto-generated method stub Options options = new Options(); options.addOption("t", false, "display current time"); options.addOption("c", true, "country code"); HelpFormatter formatter = new HelpFormatter(); formatter.printHelp("help", options); CommandLineParser parser = new DefaultParser(); try &#123; CommandLine cmd = parser.parse(options, args); // No argument command 't' if (cmd.hasOption("t"))&#123; System.out.println("Yes"); &#125; else &#123; System.out.println("No"); &#125; // With argument command 'c' String countryCode = cmd.getOptionValue("c"); if (countryCode == null) &#123; System.out.println("no code"); &#125; else &#123; System.out.println("code:" + countryCode); &#125; &#125; catch (ParseException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); System.exit(-1); &#125; &#125;&#125; åŠ å‚æ•°-t -c cnæ‰§è¡Œå¾—åˆ°çš„ç»“æžœ:12345usage: help -c &lt;arg&gt; country code -t display current timeYescode:cn]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Apache</tag>
        <tag>CLI</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[androidè¾“å‡ºå¸¦ä¸Šå½“å‰ç±»åå’Œæ–¹æ³•ålog]]></title>
    <url>%2F2015%2F09%2F25%2Fandroid-tag-personalized%2F</url>
    <content type="text"><![CDATA[è¿™é‡Œä»‹ç»ä¸€ä¸‹æˆ‘è‡ªå·±åœ¨debug Androidç¨‹åºä¸­ä½¿ç”¨logçš„Tipsã€‚å¦‚æžœå‡ºçŽ°é—®é¢˜ï¼Œå¯ä»¥å¿«é€Ÿçœ‹åˆ°æ–¹æ³•çš„è°ƒç”¨å †æ ˆï¼Œä¾¿äºŽæ‰¾åˆ°å‡ºé”™çš„æ•Œæ–¹ã€‚ 12345678910111213141516171819202122import android.util.Log;/** * Created by jiezhi on 9/25/15. * Function: */public class LogUtil &#123; private static final String TAG = "jiezhi:LogUtil"; static boolean DEBUG = true; public static void d() &#123; if (!DEBUG) &#123; return; &#125; StackTraceElement[] stacks = Thread.currentThread().getStackTrace(); String file = stacks[3].getFileName(); String fileName = file.substring(0, file.indexOf('.')); String methodName = stacks[3].getMethodName(); Log.d(fileName, "-------&gt;" + methodName + "&lt;-------"); &#125;&#125; åœ¨æ–¹æ³•ä¸­ç›´æŽ¥è°ƒç”¨LogUtil.d()å³å¯è¾“å‡ºç±»åå’Œæ–¹æ³•åã€‚]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Log</tag>
        <tag>Tips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³Gravatarå¤´åƒåœ¨ä¸­å›½ä¸èƒ½æ­£å¸¸æ˜¾ç¤ºçš„é—®é¢˜]]></title>
    <url>%2F2015%2F09%2F16%2F%E8%A7%A3%E5%86%B3Gravatar%E5%A4%B4%E5%83%8F%E5%9C%A8%E4%B8%AD%E5%9B%BD%E4%B8%8D%E8%83%BD%E6%AD%A3%E5%B8%B8%E6%98%BE%E7%A4%BA%E7%9A%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[å¦‚æžœä½ é‡åˆ°Gravataråœ¨ä¸­å›½ä¸èƒ½æ­£å¸¸æ˜¾ç¤ºçš„é—®é¢˜ï¼Œè¿™ç¯‡æ–‡ç« ä¹Ÿè®¸å¯ä»¥å¸®åŠ©ä½ ã€‚æ˜¨å¤©èŠ±äº†å¤§åŠå¤©æ—¶é—´ç»ˆäºŽæŠŠhexoæ­å»ºå¥½äº†ï¼Œä¹ŸæŒ‘é€‰äº†ä¸ªæ¨¡æ¿ï¼Œå¹¶è¿›è¡Œé…ç½®ã€‚åŒæ—¶ä¹Ÿå°†ä¹‹å‰wpä¸­çš„ä¸€äº›æ–‡ç« ï¼Œå†æ¬¡è¿ç§»è‡³æ­¤ã€‚ç­‰deployè‡³githubåŽï¼Œç”¨æ‰‹æœºè®¿é—®ï¼Œå‘çŽ°ä¸èƒ½æ­£å¸¸æ˜¾ç¤ºå›¾ç‰‡ã€‚å—¯ï¼Œåœ¨å›½å†…ä½ ä¼šé‡è§å„ç§é—®é¢˜ã€‚Gravatarå·²ç»è¢«å¢™äº†ã€‚ æœäº†ä¸‹ï¼Œå¥½åƒä½¿ç”¨SSLè®¿é—®Gravataråˆ™å¯ä»¥ï¼Œæ‰€ä»¥å°†hexoä¸­å¤´åƒé…ç½®æ–‡ä»¶ä¿®æ”¹äº†ä¸€ä¸‹ï¼š hexo/node_modules/hexo/lib/plugins/helper/gravatar.js123var str = &apos;https://www.gravatar.com/avatar/&apos; + md5(email.toLowerCase()); åœ¨ç”µè„‘ä¸Šè¯•äº†ä¸‹æ˜¯å¯ä»¥çš„ï¼Œä½†åœ¨æ‰‹æœºä¸Šè¿˜æ˜¯æ— æ³•æ­£ç¡®æ˜¾ç¤ºå¤´åƒã€‚ã€‚ã€‚ ç´¢æ€§ç›´æŽ¥æ”¹ä¸ºå¾®åšå¤´åƒå§ï¼Œæˆ‘çš„weiboå¤´åƒåœ°å€ï¼šhttp://tp2.sinaimg.cn/1723846713/180/40002045318/1 hexo/node_modules/hexo/lib/plugins/helper/gravatar.js123456789function gravatarHelper(email, options)&#123; // use weibo avatar instead of gravatar. return &apos;http://tp2.sinaimg.cn/1723846713/180/40002045318/1&apos;;&#125; æ”¹å®ŒåŽé‡æ–°ç”Ÿæˆå³å¯ã€‚ 1hexo generate]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>gravatar</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¯¹inJustDecodeBoundsçš„ç†è§£]]></title>
    <url>%2F2015%2F08%2F28%2Fandroid-inJustDecodeBounds%2F</url>
    <content type="text"><![CDATA[æµ…è°ˆå¯¹BitmapFactory.Options.inJustDecodeBoundsçš„ç†è§£ã€‚ public boolean inJustDecodeBounds If set to true, the decoder will return null (no bitmap), but the outâ€¦ fields will still be set, allowing the caller to query the bitmap without having to allocate the memory for its pixels. å¯èƒ½è‹±æ–‡æ°´å¹³çš„å…³ç³»ï¼Œçœ‹è¿™ä¸ªè§£é‡Šæ¥žæ˜¯æ²¡çœ‹å‡ºä¸ªæ‰€ä»¥ç„¶æ¥ï¼Œä¸è¿‡åœ¨çœ‹Androidå®˜æ–¹è¿™ç¯‡åšå®¢ æœ‰ä¸ªè§£é‡Šå€’æ˜¯èƒ½é¢†æ‚Ÿä¸€äºŒï¼š Setting the inJustDecodeBounds property to true while decoding avoids memory allocation, returning null for the bitmap object but setting outWidth, outHeight and outMimeType. This technique allows you to read the dimensions and type of the image data prior to construction (and memory allocation) of the bitmap. å³ï¼šå¦‚æžœinJustDecoedBoundsè®¾ç½®ä¸ºtrueçš„è¯ï¼Œè§£ç bitmapæ—¶å¯ä»¥åªè¿”å›žå…¶é«˜ã€å®½å’ŒMimeç±»åž‹ï¼Œè€Œä¸å¿…ä¸ºå…¶ç”³è¯·å†…å­˜ï¼Œä»Žè€ŒèŠ‚çœäº†å†…å­˜ç©ºé—´ã€‚ ä¸‹é¢æ˜¯å®˜æ–¹ç»™çš„code snippet:123456BitmapFactory.Options options = new BitmapFactory.Options();options.inJustDecodeBounds = true;BitmapFactory.decodeResource(getResources(), R.id.myimage, options);int imageHeight = options.outHeight;int imageWidth = options.outWidth;String imageType = options.outMimeType;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>android</tag>
        <tag>BitmapFactory</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ubuntu é…ç½®MySQL]]></title>
    <url>%2F2015%2F08%2F26%2FUbuntu_%E9%85%8D%E7%BD%AEMySQL%2F</url>
    <content type="text"><![CDATA[åœ¨Ubuntuä¸Šä¸€é”®é…ç½®Apacheã€mysqlã€phpçŽ¯å¢ƒã€‚1sudo apt-get install lamp-server^ or1sudo apt-get install mysql-server]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>Apache</tag>
        <tag>lamp</tag>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android è®©EditTexté»˜è®¤ä¸èŽ·å–è½¯é”®ç›˜]]></title>
    <url>%2F2015%2F08%2F25%2FAndroid_%E8%AE%A9EditText%E9%BB%98%E8%AE%A4%E4%B8%8D%E8%8E%B7%E5%8F%96%E8%BD%AF%E9%94%AE%E7%9B%98%2F</url>
    <content type="text"><![CDATA[åœ¨Androidå¼€å‘ä¸­ï¼Œä¼šé‡åˆ°è¿™ç§æƒ…å†µï¼Œå½“é¡µé¢ä¸­å­˜åœ¨EditTextæ—¶ï¼Œé»˜è®¤ä¼šæŠŠè½¯é”®ç›˜ç»™è°ƒå‡ºæ¥ï¼Œè€Œæˆ‘ä»¬å¹¶ä¸æƒ³è®©è½¯é”®ç›˜å¼¹å‡ºã€‚è§£å†³æ–¹æ¡ˆï¼š åœ¨EditTextçš„çˆ¶æŽ§ä»¶ä¸­è®¾ç½®å¦‚ä¸‹ä¸¤ä¸ªå±žæ€§å³å¯ï¼š12android:focusable="true"android:focusableInTouchMode="true"]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Algorithm-é€‰æ‹©æŽ’åº]]></title>
    <url>%2F2015%2F06%2F24%2FAlgorithm-%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F%2F</url>
    <content type="text"><![CDATA[Cè¯­è¨€å®žçŽ°çš„é€‰æ‹©æŽ’åºã€‚123456789101112131415161718192021222324252627282930313233343536#include &lt;stdio.h&gt; void SelectionSort(int *a, int n); int main()&#123; int a[6] = &#123;3, 6, 4, 2, 1, 5&#125;; int i; for (i = 0; i &lt; 6; i++) printf("a[%d]=%d ", i, a[i]); printf("\n"); SelectionSort(a, 6); for (i = 0; i &lt; 6; i++) printf("a[%d]=%d ", i, a[i]); printf("\n"); return 0;&#125; void SelectionSort(int *a, int n)&#123; int i, j; int tmp; int t; for (i = 0; i &lt; n - 1; i++) &#123; tmp = i; for (j = i + 1; j &lt; n; j++) &#123; if (a[j] &lt; a[tmp]) tmp = j; &#125; t = a[tmp]; a[tmp] = a[i]; a[i] = t; &#125;&#125;]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>sort</tag>
        <tag>æŽ’åº</tag>
        <tag>é€‰æ‹©æŽ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Algorithm-å†’æ³¡æŽ’åº]]></title>
    <url>%2F2015%2F06%2F24%2FAlgorithm-%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F%2F</url>
    <content type="text"><![CDATA[Cè¯­è¨€å®žçŽ°å†’æ³¡æŽ’åºã€‚123456789101112131415161718192021222324252627282930313233343536373839#includevoid BubbleSort(int *a, int n);int main()&#123; int n = 6; int a[6] = &#123;3, 2, 4, 6, 5, 1&#125;; for (int i = 0; i &amp;lt; n; i++) &#123; printf(&amp;quot;a[%d]=%d ", i, a[i]); &#125; printf(&amp;quot;\n&amp;quot;); BubbleSort(a, n); for (int i = 0; i &amp;lt; n; i++) &#123; printf(&amp;quot;a[%d]=%d ", i, a[i]); &#125; printf(&amp;quot;\n&amp;quot;); return 0;&#125;void BubbleSort(int *a, int n)&#123; int i, j; int tmp; for (i = 0; i &amp;lt; n - 1; i++) &#123; for (j = 0; j &amp;lt; n - i - 1; j++) &#123; if (a[j] &gt; a[j + 1]) &#123; tmp = a[j]; a[j] = a[j + 1]; a[j + 1] = tmp; &#125; &#125; &#125;&#125; è¾“å‡ºç»“æžœï¼š 12a[0]=3 a[1]=2 a[2]=4 a[3]=6 a[4]=5 a[5]=1a[0]=1 a[1]=2 a[2]=3 a[3]=4 a[4]=5 a[5]=6]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>å†’æ³¡æŽ’åº</tag>
        <tag>ç®—æ³•</tag>
        <tag>sort</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Cè¯­è¨€å®žçŽ°äº¤æ¢]]></title>
    <url>%2F2015%2F06%2F24%2FC%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E4%BA%A4%E6%8D%A2%2F</url>
    <content type="text"><![CDATA[è¿™é‡Œä»‹ç»ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯é€šè¿‡å®å®šä¹‰çš„æ–¹å¼å®žçŽ°ï¼Œä¸€ç§æ˜¯é€šè¿‡æŒ‡é’ˆäº¤æ¢å®žçŽ°ï¼š12345678910111213141516171819202122232425#include &lt;stdio.h&gt;;#define swap_m(x, y, t) ((t)=(x),(x)=(y),(y)=(t))void swap(int *x, int *y);int main()&#123; int a = 10; int b = 1; int temp; swap(&amp;amp;a, &amp;amp;b); printf(&amp;quot;a=%d, b=%d\n&amp;quot;, a, b); swap_m(a, b, temp); printf(&amp;quot;a=%d, b=%d\n&amp;quot;, a, b); return 0;&#125;void swap(int *x, int *y)&#123; int tmp; tmp = *x; *x = *y; *y = tmp;&#125;]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>C</tag>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Regular Expressionså¸¸ç”¨è½¬ä¹‰å­—ç¬¦]]></title>
    <url>%2F2015%2F06%2F07%2FRegular_Expressions%E5%B8%B8%E7%94%A8%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6%2F</url>
    <content type="text"><![CDATA[è®°å½•REä¸€äº›å¸¸è§çš„è½¬ä¹‰å­—ç¬¦å­—ç¬¦ç®€å†™å¼ \a æŠ¥è­¦ç¬¦ [\b] é€€æ ¼å­—ç¬¦ \c x æŽ§åˆ¶å­—ç¬¦ \d (= [0-9])æ•°å­—å­—ç¬¦ \D ( = [^0-9]) éžæ•°å­—å­—ç¬¦ \o xxx å­—ç¬¦çš„å…«è¿›åˆ¶å€¼ \w ( = [_a-zA-Z0-9]) å•è¯å­—æ¯ \W ( = [^_a-zA-Z0-9])éžå•è¯å­—ç¬¦ \0 ç©ºå­—ç¬¦ \x xx å­—ç¬¦çš„åå…­è¿›åˆ¶å€¼ \u xxx å­—ç¬¦çš„Unicodeå€¼ ##åŒ¹é…ç©ºç™½ç¬¦ \f æ¢é¡µç¬¦ \h æ°´å¹³ç©ºç™½ç¬¦ \H éžæ°´å¹³ç©ºç™½ç¬¦ \n æ¢è¡Œç¬¦ \r å›žè½¦ç¬¦ \s ( = [ \t\n\r])ç©ºç™½ç¬¦ï¼ˆåŒ¹é…ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ã€å›žè½¦ç¬¦ï¼‰ \S éžç©ºç™½ç¬¦ \t æ°´å¹³åˆ¶è¡¨ç¬¦ \v åž‚ç›´åˆ¶è¡¨ç¬¦ \V éžåž‚ç›´åˆ¶è¡¨ç¬¦ æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„é€‰é¡¹ (?d) Unixä¸­çš„è¡Œ (?i) ä¸åŒºåˆ†å¤§å°å†™ (?J) å®¹è®¸é‡å¤çš„åå­— (?m) å¤šè¡Œ (?s) å•è¡Œï¼ˆdotallï¼‰ (?u) Unicode (?U) é»˜è®¤æœ€çŸ­åŒ¹é… (?x) å¿½ç•¥ç©ºæ ¼å’Œæ³¨é‡Š]]></content>
      <categories>
        <category>ç»¼åˆ</category>
      </categories>
      <tags>
        <tag>RE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Androidè¯»å–å†…å­˜ä¿¡æ¯]]></title>
    <url>%2F2015%2F06%2F01%2Fandroid_read_memory_info%2F</url>
    <content type="text"><![CDATA[é€šè¿‡adbå‘½ä»¤èŽ·å–è®¾å¤‡å†…å­˜ä¿¡æ¯åœ¨adb shellçš„æƒ…å†µä¸‹æ‰§è¡Œå‘½ä»¤ï¼š1234567891011121314151617181920212223242526272829303132333435363738shell@maguro:/ $ cat /proc/meminfo MemTotal: 710960 kB MemFree: 136148 kB Buffers: 3400 kB Cached: 228768 kB SwapCached: 0 kB Active: 266960 kB Inactive: 158372 kB Active(anon): 193608 kB Inactive(anon): 1552 kB Active(file): 73352 kB Inactive(file): 156820 kB Unevictable: 412 kB Mlocked: 0 kB HighTotal: 598016 kB HighFree: 85216 kB LowTotal: 112944 kB LowFree: 50932 kB SwapTotal: 0 kB SwapFree: 0 kB Dirty: 0 kB Writeback: 0 kB AnonPages: 193552 kB Mapped: 164744 kB Shmem: 1584 kB Slab: 19668 kB SReclaimable: 7920 kB SUnreclaim: 11748 kB KernelStack: 4208 kB PageTables: 6540 kB NFS_Unstable: 0 kB Bounce: 0 kB WritebackTmp: 0 kB CommitLimit: 355480 kB Committed_AS: 3875984 kB VmallocTotal: 778240 kB VmallocUsed: 55432 kB VmallocChunk: 686020 kB dmupsys:12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273shell@maguro:/ $ dumpsys meminfoApplications Memory Usage (kB):Uptime: 4699227 Realtime: 6241493Total PSS by process: 57336 kB: com.android.launcher (pid 625) 55811 kB: system (pid 379) 33484 kB: com.android.systemui (pid 463) 23032 kB: com.baidu.appsearch (pid 941) 17931 kB: com.android.phasebeam (pid 547) 17042 kB: com.lbe.security:service (pid 910) 16522 kB: com.baidu.appsearch:bdservice_v1 (pid 1239) 11232 kB: com.tencent.mobileqq:MSF (pid 2159) 10447 kB: com.baidu.BaiduMap:bdservice_v1 (pid 1217) 8220 kB: com.android.phone (pid 600) 7185 kB: com.baidu.BaiduMap:MapCoreService (pid 2223) 6628 kB: com.tencent.mobileqq (pid 2176) 5703 kB: com.android.inputmethod.latin (pid 574) 5115 kB: android.process.media (pid 2673) 4694 kB: com.android.nfc (pid 611) 3106 kB: com.android.nfc:handover (pid 665) 2769 kB: com.android.musicfx (pid 1736) 2763 kB: com.android.smspush (pid 705) 0 kB: com.qihoo.permmgr (pid 751) 0 kB: com.baidu.BaiduMap (pid 1405)Total PSS by OOM adjustment: 55811 kB: System 55811 kB: system (pid 379) 46398 kB: Persistent 33484 kB: com.android.systemui (pid 463) 8220 kB: com.android.phone (pid 600) 4694 kB: com.android.nfc (pid 611) 57336 kB: Foreground 57336 kB: com.android.launcher (pid 625) 23800 kB: Visible 17931 kB: com.android.phasebeam (pid 547) 3106 kB: com.android.nfc:handover (pid 665) 2763 kB: com.android.smspush (pid 705) 62299 kB: Perceptible 23032 kB: com.baidu.appsearch (pid 941) 17042 kB: com.lbe.security:service (pid 910) 16522 kB: com.baidu.appsearch:bdservice_v1 (pid 1239) 5703 kB: com.android.inputmethod.latin (pid 574) 15562 kB: A Services 10447 kB: com.baidu.BaiduMap:bdservice_v1 (pid 1217) 5115 kB: android.process.media (pid 2673) 27814 kB: Background 11232 kB: com.tencent.mobileqq:MSF (pid 2159) 7185 kB: com.baidu.BaiduMap:MapCoreService (pid 2223) 6628 kB: com.tencent.mobileqq (pid 2176) 2769 kB: com.android.musicfx (pid 1736) 0 kB: com.qihoo.permmgr (pid 751) 0 kB: com.baidu.BaiduMap (pid 1405)Total PSS by category: 109517 kB: Dalvik 75944 kB: Other dev 39041 kB: Unknown 31896 kB: .dex mmap 24323 kB: .so mmap 5692 kB: .apk mmap 1360 kB: .ttf mmap 655 kB: Other mmap 540 kB: Stack 28 kB: Ashmem 20 kB: .jar mmap 4 kB: Cursor 0 kB: NativeTotal PSS: 289020 kB KSM: 0 kB saved from shared 0 kB 0 kB unshared; 0 kB volatile æŒ‡å®špidä¿¡æ¯ï¼š123456789101112131415161718192021222324252627282930313233343536373839shell@maguro:/ $ dumpsys meminfo 625Applications Memory Usage (kB):Uptime: 4872829 Realtime: 6415095** MEMINFO in pid 625 [com.android.launcher] ** Shared Private Heap Heap Heap Pss Dirty Dirty Size Alloc Free ------ ------ ------ ------ ------ ------ Native 0 0 0 16752 8417 1926 Dalvik 15581 12884 14852 21608 19175 2433 Stack 40 8 40 Cursor 0 0 0 Ashmem 0 0 0 Other dev 30451 1412 18692 .so mmap 1890 2652 884 .jar mmap 0 0 0 .apk mmap 1459 0 0 .ttf mmap 470 0 0 .dex mmap 1122 2832 104 Other mmap 23 8 8 Unknown 6305 432 6296 TOTAL 57341 20228 40876 38360 27592 4359 Objects Views: 261 ViewRootImpl: 1 AppContexts: 9 Activities: 1 Assets: 4 AssetManagers: 4 Local Binders: 14 Proxy Binders: 29 Death Recipients: 0 OpenSSL Sockets: 0 SQL MEMORY_USED: 547 PAGECACHE_OVERFLOW: 393 MALLOC_SIZE: 62 DATABASES pgsz dbsz Lookaside(b) cache Dbname 4 68 79 37/20/6 /data/user/0/com.android.launcher/databases/launcher.db 4 312 23 251/16/2 /data/user/0/com.android.launcher/cache/widgetpreviews.db]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>android</tag>
        <tag>memory</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç”¨dialogç»™Bashç©¿ä¸Šè¡£æœ]]></title>
    <url>%2F2015%2F05%2F26%2F%E7%94%A8dialog%E7%BB%99Bash%E7%A9%BF%E4%B8%8A%E8%A1%A3%E6%9C%8D%2F</url>
    <content type="text"><![CDATA[bashä¸‹çš„dialogçª—å£çš„å®žçŽ°ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344#!/bin/bashtemp=$(mktemp -t test.XXXXXX)temp2=$(mktemp -t test2.XXXXXX)function diskspace &#123; df -h &gt; $temp dialog --textbox $temp 20 60&#125;function whoseon &#123; who &gt; $temp dialog --textbox $temp 20 50&#125;function memusage &#123; cat /proc/meminfo &gt; $temp diaolog --textbox $temp 20 50&#125;while [ 1 ]do dialog --menu &quot;Sys Admin Menu&quot; 20 30 10 1 &quot;Display disk space&quot; 2 &quot;Display users&quot; 3 &quot;Dispaly memory usage&quot; 0 &quot;Exi 2&gt; $temp2if [ $? -eq 1 ]then breakfiselection=$(cat $temp2)case $selection in1) diskspace ;;2) whoseon ;;3) memusage ;;0) break ;;*) dialog --msgbox &quot;Sorry, invalid selection&quot; 10 30esacdonerm -f $temp 2&gt; /dev/nullrm -f $temp2 2&gt; /dev/null]]></content>
      <categories>
        <category>Bash</category>
      </categories>
      <tags>
        <tag>bash</tag>
        <tag>dialog</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PHPå¤„ç†æ¥è‡ªPythonçš„Postçš„jsonæ•°æ®]]></title>
    <url>%2F2015%2F05%2F18%2FPHP%E5%A4%84%E7%90%86%E6%9D%A5%E8%87%AAPython%E7%9A%84Post%E7%9A%84json%E6%95%B0%E6%8D%AE%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘ç”¨Pythonå¤„ç†äº†ä¸€äº›jsonæ•°æ®ï¼Œä½†åœ¨è¿‡ç¨‹ä¸­é‡åˆ°ä¸€äº›é—®é¢˜ï¼Œé‚è®°å½•ä¹‹ã€‚1.Python Post jsonæ ¼å¼æ•°æ®è‡³æœåŠ¡å™¨ï¼š æŸ¥é˜…äº†ä¸€äº›èµ„æ–™ï¼Œå¤§å¤šæ˜¯è¿™ä¹ˆæ ·çš„ï¼š 12345678__author__ = 'jiezhi' import urllibimport urllib2 data = &#123;'name': 'jiezhi', 'age': '24'&#125;ret = urllib2.urlopen(url='http://jiezhiblog.com/test.php', data=urllib.urlencode(data))print ret.read() ä½†æ˜¯ï¼Œåˆ°phpé‚£é‡Œå¾€å¾€æ˜¯arrayç±»åž‹çš„äº†ã€‚ ç»è¿‡å‡ ç•ªæŠ˜è…¾æ”¹ç”¨ä¸‹é¢çš„ä»£ç ï¼š 12345678__author__ = 'jiezhi' import urllib2import json data = &#123;'name': 'jiezhi', 'age': '24'&#125;ret = urllib2.urlopen(url='http://jiezhiblog.com/test.php', data=json.dumps(data))print ret.read() 2.åœ¨PHPç«¯é—®é¢˜ ç”¨äº†æ”¹åŽçš„Pythonä»£ç ï¼Œå´å‘çŽ°$_POSTæ²¡æœ‰èŽ·å–åˆ°æ•°æ®ï¼Œæ‰€ä»¥æ”¹ç”¨file_get_contents(â€œphp://inputâ€)æ¥èŽ·å–æäº¤çš„æ•°æ®ï¼š12345678910&lt;?php $input = file_get_contents("php://input"); var_dump($input); if ($input)&#123; print_r($input); $arr = json_decode($input,true); echo "arr"; print_r($arr); &#125;?&gt; æ­¤æ—¶å¯ä»¥æ­£ç¡®èŽ·å–åˆ°æäº¤çš„æ•°æ®ã€‚]]></content>
      <categories>
        <category>PHP</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>json</tag>
        <tag>PHP</tag>
        <tag>POST</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ubuntuæ— æ³•ç™»é™†é—®é¢˜]]></title>
    <url>%2F2015%2F04%2F29%2FUbuntu%E6%97%A0%E6%B3%95%E7%99%BB%E9%99%86%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©ä¿®æ”¹/etc/environmentæ–‡ä»¶ï¼Œé‡å¯åŽå‘çŽ°æ— æ³•ç™»é™†è¿›å…¥äº†ï¼Œç”¨vsshç™»é™†å‡ºçŽ°ä»¥ä¸‹é”™è¯¯ï¼š123456789101112131415-bash: groups: command not foundCommand &apos;ls&apos; is available in &apos;/bin/ls&apos;The command could not be located because &apos;/bin&apos; is not included in the PATH environment variable.ls: command not foundCommand &apos;lesspipe&apos; is available in the following places * /bin/lesspipe * /usr/bin/lesspipeThe command could not be located because &apos;/bin:/usr/bin&apos; is not included in the PATH environment variable.lesspipe: command not foundCommand &apos;dircolors&apos; is available in &apos;/usr/bin/dircolors&apos;The command could not be located because &apos;/usr/bin&apos; is not included in the PATH environment variable.dircolors: command not foundCommand &apos;ls&apos; is available in &apos;/bin/ls&apos;The command could not be located because &apos;/bin&apos; is not included in the PATH environment variable.ls: command not found æ­¤æ—¶ä¸€äº›ä¾‹å¦‚â€lsâ€çš„å¤–ç½®å‘½ä»¤éƒ½æ— æ³•ä½¿ç”¨ï¼Œè§£å†³åŠžæ³•ï¼š12export PATH=/usr/bin:/binsudo vim /etc/environment ç„¶åŽåœ¨é‡Œé¢æ·»åŠ å˜é‡ï¼š 1PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games ä¿å­˜åŽï¼š 1source /etc/environment é—®é¢˜è§£å†³ï¼]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ubuntu 64ä½adbæ— æ³•ä½¿ç”¨é—®é¢˜çš„è§£å†³]]></title>
    <url>%2F2015%2F04%2F20%2FUbuntu_64%E4%BD%8Dadb%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©åœ¨Ubuntu 14.02 ï¼ˆ64ä½ï¼‰ä¸‹å®‰è£…äº†Androidå¼€å‘çŽ¯å¢ƒï¼Œå…¶ä¸­é‡åˆ°adbæ— æ³•ä½¿ç”¨çš„æƒ…å†µï¼Œä»¥ä¸ºæ˜¯æ²¡é…ç½®çŽ¯å¢ƒå˜é‡çš„é—®é¢˜ï¼Œå°±æ·»åŠ ä¸€ä¸‹ï¼š 1sudo vim /etc/profile 12export PATH=&quot;$PATH:/home/username/sdk/tools&quot;export PATH=&quot;$PATH:/home/username/sdk/paltform-tools&quot; ä½†æ˜¯ç³»ç»Ÿæ³¨é”€åŽè¿è¡Œï¼Œè¿˜æ˜¯ä¼šæŠ¥é”™ï¼šæ²¡æœ‰è¯¥æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ã€‚ ç»æŸ¥é˜…å‘çŽ°Linuxä¸‹SDKçš„adbå‘½ä»¤æ˜¯32ä½çš„ï¼Œæ‰€ä»¥è¦åœ¨64ä½ç³»ç»Ÿä¸Šè¦å®‰è£…å…¼å®¹åŒ…ï¼š Ubuntu 13.10åŠä»¥ä¸Šçš„ç‰ˆæœ¬ï¼š 123sudo dpkg --add-architecture i386sudo apt-get updatesudo apt-get install libncurses5:i386 libstdc++6:i386 zlib1g:i386 ä»¥ä¸‹çš„ç‰ˆæœ¬ï¼š 1apt-get install ia32-libs æ‰§è¡Œè¿‡åŽå¯å‘çŽ°adbå¯æ­£å¸¸è¿è¡Œã€‚]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>android</tag>
        <tag>aosp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆ©ç”¨å›½å†…é•œåƒæºä¸‹è½½ã€ç¼–è¯‘Androidæºç ]]></title>
    <url>%2F2015%2F04%2F15%2F%E5%88%A9%E7%94%A8%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%E6%BA%90%E4%B8%8B%E8%BD%BD%E3%80%81%E7%BC%96%E8%AF%91Android%E6%BA%90%E7%A0%81%2F</url>
    <content type="text"><![CDATA[åœ¨å›½å†…ä¸‹è½½Androidå¯æ˜¯ä¸å¤ªå®¹æ˜“ï¼Œä¸è¿‡ä»ŽGoogleæ–­æ–­ç»­ç»­åœ°ä¸‹è½½äº†å‡ å¤©æºç åŽå‘çŽ°æ¸…åŽå¤§å­¦æœ‰ä¸ªTUNAé•œåƒæºå¯ä»¥ä¸‹è½½Androidæºç ï¼Œç”šæ˜¯æ–¹ä¾¿ã€‚ å‚è€ƒç½‘ç«™ï¼š http://source.android.com/index.html https://aosp.tuna.tsinghua.edu.cn/ ä¸€.çŽ¯å¢ƒå‡†å¤‡ï¼š çŽ°åœ¨Androidæºç çš„ä¸‹è½½å’Œç¼–è¯‘åœ¨Linuxå’ŒMac OSä¸Šéƒ½å¯ä»¥äº†ï¼Œä½†Mac OSä¸Šè®¾ç½®ç•¥å¾®å¤æ‚ç‚¹ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©äº†Ubuntu 14.04 64ä½çš„è™šæ‹Ÿæœºã€‚ï¼ˆç¡¬ç›˜å»ºè®®50Gä»¥ä¸Šï¼Œç¼–è¯‘çš„æ—¶å€™ç»™è™šæ‹ŸæœºåŠ å¤§CPUå’Œå†…å­˜ã€‚ï¼‰ ç¼–è¯‘Gingerbread (2.3.x) åŠå…¶ä»¥ä¸Šçš„æºç éœ€è¦64ä½çš„ç³»ç»Ÿï¼Œä»¥ä¸‹çš„å¯ä»¥åœ¨32ä½ç³»ç»Ÿä¸Šç¼–è¯‘ã€‚ 1.Javaä¸‹è½½å’Œé…ç½® Java 7ï¼šé€‚ç”¨æœ€æ–°ç‰ˆçš„æºç ï¼š 12$ sudo apt-get update$ sudo apt-get install openjdk-7-jdk å¦‚æžœç³»ç»Ÿä¸Šæœ‰å¤šä¸ªJavaç‰ˆæœ¬ï¼Œå¯ä»¥è®¾ç½®é»˜è®¤çš„ï¼š 12$ sudo update-alternatives --config java$ sudo update-alternatives --config javac Java 6: é€‚ç”¨äºŽGingerbreadï¼ˆ2.3ï¼‰~ KitKatï¼ˆ4.4ï¼‰ Java 5:é€‚ç”¨äºŽ Cupcakeï¼ˆ1.5ï¼‰~ Froyoï¼ˆ2.2ï¼‰ å¦‚æžœJavaå®‰è£…å¤±è´¥å¯åˆ°Javaå®˜ç½‘ä¸‹è½½åŽè‡ªè¡Œå®‰è£…ï¼Œç•¥åŽ»ä¸è¡¨ã€‚ 2.å…¶å®ƒä¾èµ–åŒ…ï¼šâ€‹1$ sudo apt-get install bison g++-multilib git gperf libxml2-utils make zlib1g-dev:i386 zip ä½†åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å‘çŽ°è¿˜éœ€è¦ä¸¤ä¸ªåŒ…ï¼Œæ‰€ä»¥ä¹Ÿæå‰å®‰è£…å¥½å§ï¼š 1$ sudo apt-get install flex libswitch-perl å¦‚æžœæ˜¯Ubuntu 12.04ï¼š 123456$ sudo apt-get install git gnupg flex bison gperf build-essential \ zip curl libc6-dev libncurses5-dev:i386 x11proto-core-dev \ libx11-dev:i386 libreadline6-dev:i386 libgl1-mesa-glx:i386 \ libgl1-mesa-dev g++-multilib mingw32 tofrodos \ python-markdown libxml2-utils xsltproc zlib1g-dev:i386$ sudo ln -s /usr/lib/i386-linux-gnu/mesa/libGL.so.1 /usr/lib/i386-linux-gnu/libGL.so å¦‚æžœæ˜¯Ubuntu 10.04 â€“ 11.10ï¼š 12345$ sudo apt-get install git gnupg flex bison gperf build-essential \ zip curl zlib1g-dev libc6-dev lib32ncurses5-dev ia32-libs \ x11proto-core-dev libx11-dev lib32readline5-dev lib32z-dev \ libgl1-mesa-dev g++-multilib mingw32 tofrodos python-markdown \ libxml2-utils xsltproc 11.10ï¼š 1$ sudo apt-get install libx11-dev:i386 10.04ï¼š 1$ sudo ln -s /usr/lib32/mesa/libGL.so.1 /usr/lib32/mesa/libGL.so äºŒã€ä¸‹è½½æºç  1.ä¸‹è½½repoï¼š repoæ˜¯GoogleåŸºäºŽGitæŽ¨å‡ºçš„ä¸€æ¬¾ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œç”¨pythonå†™çš„ã€‚ å…ˆé…ç½®ç›®å½•ï¼š 12$ mkdir ~/bin$ PATH=~/bin:$PATH ä¸‹è½½repoå¹¶èµ‹äºˆå…¶å¯æ‰§è¡Œæƒé™ï¼š 12$ curl https://storage.googleapis.com/git-repo-downloads/repo &gt; ~/bin/repo$ chmod a+x ~/bin/repo å½“ç„¶ç”±äºŽä¼—æ‰€å‘¨çŸ¥çš„åŽŸå› ï¼Œæˆ‘ä»¬å¾€å¾€æ— æ³•æŠŠrepoä¸‹åˆ°æœ¬åœ°ã€‚è¿™é‡Œæä¾›ä¸€ä¸ªæˆ‘ä¸‹è½½å¹¶ä¿®æ”¹å¥½çš„ä¸‹è½½é“¾æŽ¥ï¼šhttp://jiezhiblog.com/wp-content/uploads/2015/04/repo1.txt ï¼ˆwpçš„é™åˆ¶ï¼Œåªèƒ½æŠŠrepoé‡å‘½åä¸ºrepo.txtï¼Œä¸‹è½½åŽæ”¹å›žrepoå³å¯ï¼‰ ä¸‹è½½æ”¾åˆ°~/binç›®å½•ä¸‹ï¼Œå¹¶ä¿®æ”¹æƒé™å³å¯ï¼š 1chmod a+x repo 2.åˆå§‹åŒ–repo è¿›å…¥æ”¾ç½®æºç çš„ç›®å½•ï¼Œå¦‚ï¼š 12$ mkdir ~/android/android 4.3_r1$ cd ~/android/android 4.3_r1 å…³é”®çš„æ¥äº†ï¼Œå¦‚æžœæƒ³ä½“éªŒå¥½ç‚¹ï¼Œå»ºè®®å›½å†…çš„ä»Žæ¸…åŽå¤§å­¦çš„é•œåƒæºä¸‹è½½ï¼š 1$ repo init -u git://aosp.tuna.tsinghua.edu.cn/android/platform/manifest æˆ–è€…æŒ‡å®šè¦ä¸‹è½½çš„åˆ†æ”¯ï¼š 1$ repo init -u git://aosp.tuna.tsinghua.edu.cn/android/platform/manifest -b android-4.3_r1 å®ŒæˆåŽå³å¯å’ŒæœåŠ¡å™¨åŒæ­¥äº†ï¼š 1$ repo sync è¯¥æœåŠ¡å™¨é™åˆ¶äº†æ¯ä¸ªIPå¹¶å‘æ•°ï¼Œä¹Ÿå°±æ˜¯ä½ å¯ä»¥ä½¿ç”¨ï¼š 1$ repo sync -j4 è®¾ç½®å¹¶å‘æ•°ä¸º4.ï¼Œç»™åˆ«äººç•™æœ‰ä½™åœ°ã€‚ çŽ°åœ¨åº”è¯¥åœ¨ä»ŽæœåŠ¡å™¨ä¸‹è½½æºç äº†ï¼Œä½†æ˜¯å¦‚æžœä¸­é€”æœ‰ä¸­æ–­äº†ï¼Œç»§ç»­æ‰§è¡Œrepo syncå³å¯ã€‚ å¦‚ä½•è®©repoè‡ªåŠ¨åœ¨æ–­å¼€åŽè‡ªåŠ¨ä¸‹è½½ï¼š æ–°å»ºautorepo.sh: 123456#!/bin/shrepo syncwhile [ $? -ne 0 ]dorepo syncdone ç„¶åŽæ‰§è¡Œå³å¯ï¼š 1$ sh autorepo.sh å¦‚æžœä½ ä¹‹å‰å·²ç»ä¸‹è½½äº†éƒ¨åˆ†AOSPçš„ä»£ç çš„è¯ï¼Œåˆ‡æ¢åˆ°TUNAæœåŠ¡å™¨ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œå¦‚å®˜ç½‘æ‰€ç¤ºï¼š å¦‚æžœä½ ä¹‹å‰å·²ç»é€šè¿‡æŸç§é€”å¾„èŽ·å¾—äº† AOSP çš„æºç (æˆ–è€…ä½ åªæ˜¯ init è¿™ä¸€æ­¥å®ŒæˆåŽ)ï¼Œ ä½ å¸Œæœ›ä»¥åŽé€šè¿‡ TUNA åŒæ­¥ AOSP éƒ¨åˆ†çš„ä»£ç ï¼Œåªéœ€è¦å°† .repo/manifest.xml æŠŠå…¶ä¸­çš„ aosp è¿™ä¸ª remote çš„ fetch ä»Ž https://android.googlesource.com æ”¹ä¸º git://aosp.tuna.tsinghua.edu.cn/android/ diff&lt;manifest&gt; &lt;remote name=&quot;aosp&quot;- fetch=&quot;https://android.googlesource.com&quot;+ fetch=&quot;git://aosp.tuna.tsinghua.edu.cn/android/&quot; review=&quot;android-review.googlesource.com&quot; /&gt; &lt;remote name=&quot;github&quot; è¿™ä¸ªæ–¹æ³•ä¹Ÿå¯ä»¥ç”¨æ¥åœ¨åŒæ­¥ Cyanogenmod ä»£ç çš„æ—¶å€™ä»Ž TUNA åŒæ­¥éƒ¨åˆ†ä»£ç  ä¸‰ã€ç¼–è¯‘ï¼š å½“æºç ä¸‹è½½åŽï¼Œå¯ä»¥çœ‹åˆ°ç›®å½•é‡Œå¤šå‡ºå¾ˆå¤šæºç æ–‡ä»¶å¤¹ï¼š 1234567891011121314151617181920212223242526[aosp@myserver android4.1_r1]$ ls -hltotal 100Kdrwxrwxr-x 3 aosp aosp 4.0K Apr 7 11:27 abidrwxrwxr-x 9 aosp aosp 4.0K Apr 7 11:27 bionicdrwxrwxr-x 5 aosp aosp 4.0K Apr 7 11:27 bootabledrwxrwxr-x 7 aosp aosp 4.0K Apr 7 11:27 builddrwxrwxr-x 11 aosp aosp 4.0K Apr 7 11:27 ctsdrwxrwxr-x 18 aosp aosp 4.0K Apr 7 11:27 dalvikdrwxrwxr-x 19 aosp aosp 4.0K Apr 7 11:27 developmentdrwxrwxr-x 10 aosp aosp 4.0K Apr 7 11:27 devicedrwxrwxr-x 3 aosp aosp 4.0K Apr 7 11:27 docsdrwxrwxr-x 144 aosp aosp 4.0K Apr 7 11:29 externaldrwxrwxr-x 14 aosp aosp 4.0K Apr 7 11:32 frameworksdrwxrwxr-x 10 aosp aosp 4.0K Apr 7 11:32 gdkdrwxrwxr-x 10 aosp aosp 4.0K Apr 7 11:32 hardwaredrwxrwxr-x 11 aosp aosp 4.0K Apr 7 11:32 libcoredrwxrwxr-x 4 aosp aosp 4.0K Apr 7 11:32 libnativehelper-r--r--r-- 1 aosp aosp 87 Apr 7 11:27 Makefiledrwxrwxr-x 8 aosp aosp 4.0K Apr 7 11:32 ndkdrwxrwxr-x 4 aosp aosp 4.0K Apr 7 14:28 outdrwxrwxr-x 7 aosp aosp 4.0K Apr 7 11:33 packagesdrwxrwxr-x 4 aosp aosp 4.0K Apr 7 11:33 pdkdrwxrwxr-x 12 aosp aosp 4.0K Apr 7 11:33 prebuiltdrwxrwxr-x 9 aosp aosp 4.0K Apr 7 11:34 prebuiltsdrwxrwxr-x 48 aosp aosp 4.0K Apr 7 11:34 sdkdrwxrwxr-x 9 aosp aosp 4.0K Apr 7 11:34 system å¦‚æžœä½ å‡†å¤‡åœ¨æ¨¡æ‹Ÿå™¨é‡Œè¿è¡Œï¼Œåˆ™æŒ‰ç…§å¦‚ä¸‹æ­¥éª¤ç¼–è¯‘å³å¯ï¼Œå¦‚æžœä½ æƒ³åˆ·åˆ°æ‰‹æœºä¸Šåˆ™è¿˜æœ‰ä¸€äº›ä»»åŠ¡è¦åšï¼ˆè§ç¬¬å››æ­¥ï¼‰ã€‚ 0.å…¶ä¸­ç”±äºŽé…ç½®é—®é¢˜ï¼Œæˆ‘çš„ä»£ç æ˜¯æ”¾åœ¨æœåŠ¡å™¨ä¸Šç¼–è¯‘çš„: ç”±äºŽ.repoè¿™ä¸ªéšè—æ–‡ä»¶å¤¹é‡Œçš„æ–‡ä»¶å ç”¨ç©ºé—´å¾ˆå¤§ï¼Œæ‰€ä»¥åœ¨åŽ‹ç¼©çš„æ—¶å€™å°†å…¶æŽ’é™¤ï¼š 1$ tar -zcvf android4.3_r1.tar.gz android4.3_r1/ --exclude .repo ç„¶åŽåˆ©ç”¨scpå‘½ä»¤å°†åŽ‹ç¼©å¥½çš„æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼š 1$ scp android4.3_r1.tar.gz username@host:/home/android/ å…¶ä¸­usernameå’Œhostæ˜¯ä½ ç”¨æˆ·åå’ŒæœåŠ¡å™¨åœ°å€ã€‚ è§£åŽ‹ï¼š 1$ tar -zxvf android4.3_r1.tar.gz / 1.åˆå§‹åŒ–ï¼š 1$ source build/envsetup.sh 2.ä½¿ç”¨lunchå‘½ä»¤é€‰æ‹©ç¼–è¯‘ç›®æ ‡ï¼Œå¦‚ï¼š 1$ lunch aosp_arm-eng æˆ–è€…ç›´æŽ¥lunchï¼Œä¼šè®©ä½ é€‰æ‹©ç¼–è¯‘ç›®æ ‡çš„ã€‚ å…¶ä¸­å‚æ•°è¯´æ˜Žï¼š BUILD NAME DEVICE NOTES aosp_arm ARM emulator åŒ…æ‹¬æ‰€æœ‰è¯­è¨€ã€APPå’Œè¾“å…¥æ³•çš„é…ç½® aosp_maguro maguro è¿è¡Œåœ¨Galaxy Nexus GSM/HSPA+ (â€œmaguroâ€)ä¸Š aosp_panda panda è¿è¡Œåœ¨ PandaBoard (â€œpandaâ€)ä¸Š BUILDTYPE USE user limited access; suited for productionï¼ˆæœ‰æƒé™é™åˆ¶ï¼Œé€‚åˆäº§å“çº§ï¼‰ userdebug preferred for debuggingï¼ˆé€‚åˆè°ƒè¯•ï¼‰ eng development configuration with additional debugging toolsï¼ˆæœ‰é¢å¤–çš„è°ƒè¯•å·¥å…·ï¼‰ 4.3.ç¼–è¯‘ 1$ make -j4 -jNè¡¨ç¤ºç”¨Nä¸ªçº¿ç¨‹æ¥ç¼–è¯‘ï¼Œå¦‚æžœä½ æ˜¯é…ç½®æ˜¯2CPUï¼Œæ¯ä¸ªCPUæœ‰4æ ¸ï¼Œæ¯æ ¸å¯è·‘ä¿©çº¿ç¨‹ï¼Œé‚£ä¹ˆä½ å¯ä»¥make -j16ä¹ƒè‡³-j32ï¼Œè¿™æ ·é€Ÿåº¦å°†å¤§å¤§åŠ å¿«ã€‚. 4.æˆåŠŸ åœ¨android4.3_r1/out/target/product/genericç›®å½•ä¸‹å¯ä»¥çœ‹åˆ°å¦‚ä¸‹æ–‡ä»¶ï¼š 12345678910111213141516[aosp@myserver generic]$ ls -lhtotal 205M-rw-rw-r-- 1 aosp aosp 7 Apr 7 14:49 android-info.txt-rw-rw-r-- 1 aosp aosp 25K Apr 7 14:48 clean_steps.mkdrwxrwxr-x 4 aosp aosp 4.0K Apr 7 15:19 datadrwxrwxr-x 3 aosp aosp 4.0K Apr 7 15:18 dex_bootjars-rw-rw-r-- 1 aosp aosp 47K Apr 7 15:27 installed-files.txtdrwxrwxr-x 14 aosp aosp 4.0K Apr 7 15:27 obj-rw-rw-r-- 1 aosp aosp 557 Apr 7 14:48 previous_build_config.mk-rw-rw-r-- 1 aosp aosp 163K Apr 7 15:18 ramdisk.imgdrwxrwxr-x 8 aosp aosp 4.0K Apr 7 15:18 rootdrwxrwxr-x 5 aosp aosp 4.0K Apr 7 15:18 symbolsdrwxrwxr-x 12 aosp aosp 4.0K Apr 7 15:27 system-rw------- 1 aosp aosp 204M Apr 7 15:27 system.imgdrwxrwxr-x 3 aosp aosp 4.0K Apr 7 15:05 test-rw------- 1 aosp aosp 99K Apr 7 15:19 userdata.img å››ã€åˆ·æœº 1.æ¨¡æ‹Ÿå™¨çš„è¯ï¼Œå…¶å®žç›´æŽ¥è¿è¡Œemulatorå³å¯è¿è¡Œï¼š ç”±äºŽä¸æ¶‰åŠå†…æ ¸ï¼Œæˆ‘çš„åšæ³•æ˜¯æŠŠramdisk.imgã€system.imgå’Œuserdata.imgå¤åˆ¶åˆ°sdk/system-images/android-18/default/armeabi-v7a/ç›®å½•ä¸‹æ›¿æ¢æŽ‰åŽŸæ¥çš„æ–‡ä»¶ã€‚ï¼ˆå¯ä»¥æŠŠåŽŸæ¥çš„å…ˆå¤‡ä»½ï¼‰ç„¶åŽæ–°å»ºå¯¹åº”çš„APIè™šæ‹Ÿæœºï¼Œè¿è¡Œå³å¯ã€‚ 2.çœŸæœº çœŸæœºæˆ‘æ˜¯ç”¨Googleä¸‰å¤ªå­Galaxy Nexus&nbsp;[maguro] (GSM/HSPA+)åšçš„å®žéªŒï¼Œæ¯•ç«Ÿäº²å„¿å­ï¼Œé©±åŠ¨æ–¹é¢éƒ½å¾ˆå¥½é…ç½®ã€‚ a.åœ¨ç¬¬ä¸‰æ­¥ç¼–è¯‘ä¹‹å‰ï¼Œå…ˆæŠŠé©±åŠ¨é…ç½®å¥½ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647$ cd ~/android/anddroid-4.3_r1$ wget https://dl.google.com/dl/android/aosp/broadcom-maguro-jwr66y-5fa7715b.tgz$ tar -zxvf broadcom-maguro-jwr66y-5fa7715b.tgz$ ./extract-broadcom-maguro.sh # (view the license and then type &quot;I ACCEPT&quot;)...$ wget https://dl.google.com/dl/android/aosp/imgtec-maguro-jwr66y-b0a4a1ef.tgz$ tar -zxvf imgtec-maguro-jwr66y-b0a4a1ef.tgz$ ./extract-imgtec-maguro.sh # (view the license and then type &quot;I ACCEPT&quot;)...$ wget https://dl.google.com/dl/android/aosp/invensense-maguro-jwr66y-e0d2e531.tgz$ tar -zxvf invensense-maguro-jwr66y-e0d2e531.tgz$ ./extract-invensense-maguro.sh # (view the license and then type &quot;I ACCEPT&quot;)...$ wget https://dl.google.com/dl/android/aosp/nxp-maguro-jwr66y-d8ac2804.tgz$ tar -zxvf nxp-maguro-jwr66y-d8ac2804.tgz$ ./extract-nxp-maguro.sh # (view the license and then type &quot;I ACCEPT&quot;)...$ wget https://dl.google.com/dl/android/aosp/samsung-maguro-jwr66y-fb8f93b6.tgz$ tar -zxvf samsung-maguro-jwr66y-fb8f93b6.tgz$ ./extract-samsung-maguro.sh # (view the license and then type &quot;I ACCEPT&quot;)...$ wget https://dl.google.com/dl/android/aosp/widevine-maguro-jwr66y-c49927ce.tgz$ tar -zxvf widevine-maguro-jwr66y-c49927ce.tgz$ ./extract-widevine-maguro.sh # (view the license and then type &quot;I ACCEPT&quot;) ç„¶åŽæŒ‰ç…§ç¬¬ä¸‰æ­¥ç¼–è¯‘å³å¯ã€‚ b.è¿žæŽ¥æ‰‹æœºï¼Œæ‰“å¼€USBè°ƒè¯•ï¼Œè¿›å…¥bootloaderæ¨¡å¼ï¼š 1$ adb reboot bootloader å¦‚æžœbootloaderè¢«é”ä½çš„è¯ï¼Œå…ˆè§£é”ï¼š1$ fastboot oem unlock ç„¶åŽè¿›å…¥system.imgç­‰æ–‡ä»¶çš„ç›®å½•ï¼š 12345$ fastboot flash boot boot.img$ fastboot flash system system.img$ fastboot flash userdata userdata.img ç„¶åŽé‡å¯å³å¯ã€‚]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>android</tag>
        <tag>aosp</tag>
        <tag>æºç </tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Macä¸Špythonå®‰è£…ç¬¬ä¸‰æ–¹åº“]]></title>
    <url>%2F2015%2F04%2F15%2FMac%E4%B8%8Apython%E5%AE%89%E8%A3%85%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%2F</url>
    <content type="text"><![CDATA[æœ¬äººé ç€ã€Šthinkpythonã€‹è¿™æœ¬ä¹¦ç®—æ˜¯å¯¹pythonå…¥äº†é—¨ï¼Œä½†å¯¹ç¬¬ä¸‰æ–¹åº“çš„ä½¿ç”¨è¿˜ä¸ç†Ÿæ‚‰ã€‚ å› ä¸ºç™¾åº¦ç©ºé—´å³å°†å…³é—­ï¼Œæƒ³å€ŸEvi1m0å¤§ç¥žçš„ä¸€æ®µpythonçˆ¬å‡ºä»£ç æ¥çˆ¬ä¸€ä¸‹è‡ªå·±çš„ç½‘ç«™çš„ï¼Œç»“æžœå…¶ä¸­ç¼ºå°‘ç¬¬ä¸‰æ–¹åº“è€Œæ— æ³•è¿è¡Œã€‚1.åœ¨çº¿å®‰è£…æœä¸€äº›èµ„æ–™å¤§å¤šæ˜¯ç”¨pipå®‰è£…çš„ï¼Œç»“æžœæˆ‘çš„Macä¸Šä¹Ÿæ²¡æœ‰pipã€‚é¦–å…ˆå®‰è£…pipï¼š 1sudo easy_install pip å¦‚æžœæˆ‘è¦å®‰è£…wgetæ¨¡å—ï¼Œç›´æŽ¥æ‰§è¡Œï¼š1sudo pip install wget 2.ç¦»çº¿å®‰è£…å¦‚æžœä½ å·²ç»æŠŠç¬¬ä¸‰æ–¹æ¨¡å—ä¸‹è½½å¥½äº†ï¼Œæ¯”å¦‚wgetæ¨¡å—ã€‚å…¶ç›®å½•ç»“æž„å¦‚ä¸‹ï¼š 12345-rw-r--r--@ 1 jiezhi staff 3.3K Jul 20 2014 PKG-INFO -rw-r--r--@ 1 jiezhi staff 2.0K Jul 20 2014 README.txt drwxr-xr-x 3 jiezhi staff 102B Apr 14 21:49 build -rw-r--r--@ 1 jiezhi staff 1.1K Jul 20 2014 setup.py -rwxr-xr-x@ 1 jiezhi staff 13K Jul 20 2014 wget.py å…¶ä¸­åªè¦æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å³å¯ï¼š 1sudo python setup.py install]]></content>
      <categories>
        <category>Python 2.x</category>
      </categories>
      <tags>
        <tag>mac</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[My Chrome Extensions]]></title>
    <url>%2F2015%2F04%2F07%2FMy_Chrome_Extensions%2F</url>
    <content type="text"><![CDATA[åˆ†äº«è‡ªå·±å¸¸ç”¨çš„ Chrome æ’ä»¶ #Life ##æƒ æƒ è´­ç‰©åŠ©æ‰‹ 4.1.0 ã€ç½‘æ˜“å‡ºå“ã€‘åœ¨æ‚¨ç½‘è´­æµè§ˆå•†å“çš„åŒæ—¶ï¼Œè‡ªåŠ¨å¯¹æ¯”å…¶ä»–ä¼˜è´¨ç”µå•†åŒæ¬¾å•†å“ä»·æ ¼ï¼Œå¹¶æä¾›å•†å“ä»·æ ¼åŽ†å²ï¼Œå¸®æ‚¨è½»æ¾æŠ„åº•ï¼Œèªæ˜Žç½‘è´­ä¸åƒäºï¼ ##Clearly 10.5.1.8 Clearly makes blog posts, articles and webpages clean and easy to read. Save them to Evernote to read anywhere. ##Evernote Web Clipper 6.3 Use the Evernote extension to save things you see on the web into your Evernote account. ##Save to Pocket 1.9.11 Pocket Extension for Chrome - The best way to save articles, videos and more. ##Momentum 0.41.1 Replace new tab page with a personal dashboard featuring todo, weather, and inspiration. ##è±†ç“£+ç™¾åº¦ç½‘ç›˜â„¢ 1.9 åœ¨è±†ç“£ç”µå½±,éŸ³ä¹,è¯»ä¹¦æ¡ç›®é¡µé¢æ˜¾ç¤ºç™¾åº¦ç½‘ç›˜æœç´¢ç»“æžœ. ##è¿…é›·ä¸‹è½½æ”¯æŒæµ‹è¯•ç‰ˆ 2.6.4 è¿…é›·ä¸‹è½½æ”¯æŒ(Not from Chrome Web Store.) ##Pomodoro Timer 1.6.0.1 Pomodoro Timer for Chrome App. a simple way to manage your time and increase your productivity. ##Google Dictionary (by Google) 4.0.2 View definitions easily as you browse the web. ##feedly Mini 34 The easiest way to add content to your feedly. #Tools ##AdBlock æœ€å—æ¬¢è¿Žçš„Chromeæ‰©å±•ï¼Œæ‹¥æœ‰è¶…è¿‡4000ä¸‡ç”¨æˆ·ï¼å±è”½æ•´ä¸ªäº’è”ç½‘ä¸Šçš„å¹¿å‘Šã€‚ ##Adkill and Media download åŽ»è§†é¢‘å¹¿å‘Šã€è§†é¢‘éŸ³é¢‘ä¸‹è½½ã€æ­£å¸¸æ˜¾ç¤ºåç›—é“¾å›¾ç‰‡ä¸‰åˆä¸€ by xplsy ##Advertising Terminator 3.1.4 Clear all the ads on the page: floating ads, shopping ads, malicious pop, tracking code, video ads. ##ARC Welder 41.4410.244.25 Package Android APKs for ARC (App Runtime for Chrome) ##Full Page Screen Capture 0.0.15 Screen capture your current page in entirety and reliably! ##Toolbox 1.0.43 Chrome Toolbox, Useful tool set. Commonly used text processing tools. ps:sorting, de-emphasis, trimming, md5, sha1, Code format. #Dev ##Android SDK Search 0.3.4 Adds an â€˜adâ€™ omnibox command and view source links for the Android SDK. #Web ##DHC - REST/HTTP API Client 0.7.20 REST &amp; HTTP API developerâ€™s pocket knife. Easy to use and configurable. HATEOAS, Hypermedia, Requests History+Repository, and more. ##Wappalyzer 2.37 Identifies software on the web. ##Responsive Web Design Tester 1.0.7 Responsive Web Design Tester is a quick and easy way to test your responsive website. ##Postman - REST Client (Packaged App) 2.0.14 Supercharge your API workflow with Postman! Build, test, and document your APIs faster. More than a million developers already do.]]></content>
      <categories>
        <category>ç»¼åˆ</category>
      </categories>
      <tags>
        <tag>chrome</tag>
        <tag>extensions</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŒ…å«Androidæºç çš„é•œåƒæº]]></title>
    <url>%2F2015%2F04%2F02%2F%E5%8C%85%E5%90%ABAndroid%E6%BA%90%E7%A0%81%E7%9A%84%E9%95%9C%E5%83%8F%E6%BA%90%2F</url>
    <content type="text"><![CDATA[è¿™ä¸¤å¤©ä¸‹è½½Androidæºç ï¼Œç®—æ˜¯è¢«æŠ˜è…¾æ­»äº†ã€‚åŽæ¥å°±æƒ³æ²¡å‡†å›½å†…æœ‰é•œåƒæºçš„è¯ï¼Œä¸‹è½½å°±ä¸è‡³äºŽè¿™ä¹ˆç—›è‹¦äº†ã€‚ ä¸‹é¢å°±æŠŠæˆ‘æ‰¾åˆ°æºåˆ—è¡¨åˆ†äº«ä¸€ä¸‹ï¼š æ¸…åŽå¤§å­¦ï¼šhttp://mirrors.tuna.tsinghua.edu.cn/ ä¸­å›½ç§‘å­¦é™¢å¤§å­¦å¼€æºè½¯ä»¶åä¼šï¼šhttp://www.opencas.org/]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[repoçš„ä¸‹è½½ä¸Žå®‰è£…]]></title>
    <url>%2F2015%2F03%2F30%2Frepo%E7%9A%84%E4%B8%8B%E8%BD%BD%E4%B8%8E%E5%AE%89%E8%A3%85%2F</url>
    <content type="text"><![CDATA[è¿™ä¸¤å¤©åœ¨å¼ ç½—ç€ä¸‹è½½Androidæºç ï¼Œç»“æžœåœ¨å®‰è£…repoçš„æ—¶å€™è€æ˜¯æç¤ºæ‰¾ä¸åˆ°æœåŠ¡å™¨ã€‚ 1curl https://storage.googleapis.com/git-repo-downloads/repo &amp;gt; ~/bin/repo åŽæ¥ç´¢æ€§æŠŠä»£ç æ‰¾åˆ°ç›´æŽ¥å¤åˆ¶åˆ°æœ¬åœ°å¥½äº†ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603#!/bin/sh## repo default configuration##REPO_URL='git://codeaurora.org/tools/repo.git'REPO_REV='stable'# Copyright (C) 2008 Google Inc.## Licensed under the Apache License, Version 2.0 (the "License");# you may not use this file except in compliance with the License.# You may obtain a copy of the License at## http://www.apache.org/licenses/LICENSE-2.0## Unless required by applicable law or agreed to in writing, software# distributed under the License is distributed on an "AS IS" BASIS,# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.# See the License for the specific language governing permissions and# limitations under the License.magic='--calling-python-from-/bin/sh--'"""exec" python -E "$0" "$@" """#$magic"if __name__ == '__main__': import sys if sys.argv[-1] == '#%s' % magic: del sys.argv[-1]del magic# increment this whenever we make important changes to this scriptVERSION = (1, 10)# increment this if the MAINTAINER_KEYS block is modifiedKEYRING_VERSION = (1,0)MAINTAINER_KEYS = """ Repo Maintainer &lt;repo@android.kernel.org&gt;-----BEGIN PGP PUBLIC KEY BLOCK-----Version: GnuPG v1.4.2.2 (GNU/Linux)mQGiBEj3ugERBACrLJh/ZPyVSKeClMuznFIrsQ+hpNnmJGw1a9GXKYKk8qHPhAZfWKtrBqAVMNRLhL85oSlekRz98u41H5si5zcuv+IXJDF5MJYcB8f22wAy15lUqPWiVCkk1l8qqLiuW0fo+ZkPY5qOgrvc0HW1SmdH649uNwqCbcKb6CxaTxzhOwCgj3APxI1WfzLqdJjsm1Nq98L0cLcD/iNsILCuw44PRds3J75YP0pze7YF/6WFMB6QSFGuaUX1FsTTztKNXGms8i5b2l1B8JaLRWq/jOnZzyl1zrUJhkc0JgyZW5oNLGyWGhKDFxp5YpHuIuMImopWEMFIRQNrvlg+YVK8t3FpdI1RY0LYqha8pPzANhEYgSfoVzObfbfbA/4ioOrxy8ifSoga7ITyZMA+XbW8bx33WXutO9N7SPKS/AK2JpasSEVLZcONae5hvAEGVXKxVPDjJBmIc2cOe7kOKSi3OxLzBqrjS2rnjiP4o0ekhZIe4+ocwVOge0PLlH5avCqihGRhpoqDRsmpzSHzJIxtoeb+GgGEX8KkUsVAhbQpUmVwbyBNYWludGFpbmVyIDxyZXBvQGFuZHJvaWQua2VybmVsLm9yZz6IYAQTEQIAIAUCSPe6AQIbAwYLCQgHAwIEFQIIAwQWAgMBAh4BAheAAAoJEBZTDV6SD1xl1GEAn0x/OKQpy7qI6G73NJviU0IUMtftAKCFMUhGb/0bZvQ8Rm3QCUpWHyEIu7kEDQRI97ogEBAA2wI65fs9y/rMwD6dkD/vK9v4C9mOn1IL5JCPYMJBVSci+9ED4ChzYvfq7wOcj9qIvaE0GwCt2ar7Q56me5J+byhSb32Rqsw/r3Vo5cZMH80N4cjesGuSXOGyEWTe4HYoxnHvgF4EKI2LK7xfTUcxMtlyn52sUpkfKsCpUhFvdmbAiJE+jCkQZr1Z8u2KphV79Ou+P1N5IXY/XWOlq48Qf4MWCYlJFrB07xjUjLKMPDNDnm58L5byDrP/eHysKexpbakLxCmYyfT6DV1SWLblpd2hie0sL3YejdtuBMYMS2rI7Yxb8kGuqkz+9l1qhwJtei945MaretDy/d/JH/pRYkRf7L+ke7dpzrP+aJmcz9P1e6gq4NJsWejaALVASBiioqNfQmtqSVzF1wkR5avZkFHuYvj6V/t1RrOZTXxkSk18KFMJRBZrdHFCWbc5qrVxUB6eN5pja0NFIUCigLBV1c6I2DwiuboMNh18VtJJh+nwWeez/RueN4ig59gRTtkcc0PR35tX2DR8+xCCFVW/NcJ4PSePYzCuuLvp1vEDHnj41R52Fz51hgddT4rBsp0nL+5IsocSOIIezw8T9vVzMY4ArCKFAVu2IVyBcahTfBS8q5EM63mONU6UVJEozfGljiMwxuQ7JwKcw0AUEKTKG7aBgBaTAgT8TOevpvlw91cAAwUP/jRkyVi/0WAb0qlEaq/SouWxX1faR+vU3b+Y2/DGjtXQMzG0qpetaTHC/AxxHpgt/dCkWI6ljYDnxgPLwG0aOasm94BjZc6vZwf1opFZUKsjOAAxRxNZyjUJKe4UZVuMTk6zo27Nt3LMnc0FO47vFcOjRyquvgNOS818irVHUf12waDx8gszKxQTTtFxU5/ePB2jZmhP6oXSe4K/LG5T+WBRPDrHiGPhCzJRzm9BP0lTnGCAj3o9W90STZa65RK7IaYpC8TB35JTBEbrrNCpw6lzd74LnNEp5eMlKDnXzUAgAH0yzCQeMl7t33QCdYx2hRs2wtTQSjGfAiNmj/WWVl5Jn+2jCDnRLenKHwVRFsBX2e0BiRWt/i9Y8fjorLCXVj4z+7yW6DawdLkJorEop3v5ILwfC7hVx4jHSnOgZ65L9s8EQdVr1ckN9243yta7rNgwfcqb60ILMFF1BRk/0V7wCL+68UwwiQDvyMOQuqkysKLSDCLb7BFcyA7j6KG+5hpsREstFX2wK1yKeraz5xGrFy8tfAaeBMIQ17gvFSp/suc9DYO0ICK2BISzq+F+ZiAKsjMYOBNdH/h0zobQHTHs37+/QLMomGEGKZMWi0dShU2J5mNRQu3Hhxl3hHDVbt5CeJBb26aQcQrFz69WzE3GNvmJosh6leayjtI9P2A6iEkEGBECAAkFAkj3uiACGwwACgkQFlMNXpIPXGWpTACbBS+Up3RpfYVfd63c1cDdlru13pQAn3NQy/SN858MkxN+zym86UBgOad2=CMiZ-----END PGP PUBLIC KEY BLOCK-----"""GIT = 'git' # our git commandMIN_GIT_VERSION = (1, 5, 4) # minimum supported git versionrepodir = '.repo' # name of repo's private directoryS_repo = 'repo' # special repo reposioryS_manifests = 'manifests' # special manifest repositoryREPO_MAIN = S_repo + '/main.py' # main scriptimport optparseimport osimport reimport readlineimport subprocessimport syshome_dot_repo = os.path.expanduser('~/.repoconfig')gpg_dir = os.path.join(home_dot_repo, 'gnupg')extra_args = []init_optparse = optparse.OptionParser(usage="repo init -u url [options]")# Logginggroup = init_optparse.add_option_group('Logging options')group.add_option('-q', '--quiet', dest="quiet", action="store_true", default=False, help="be quiet")# Manifestgroup = init_optparse.add_option_group('Manifest options')group.add_option('-u', '--manifest-url', dest='manifest_url', help='manifest repository location', metavar='URL')group.add_option('-o', '--origin', dest='manifest_origin', help="use REMOTE instead of 'origin' to track upstream", metavar='REMOTE')group.add_option('-b', '--manifest-branch', dest='manifest_branch', help='manifest branch or revision', metavar='REVISION')group.add_option('-m', '--manifest-name', dest='manifest_name', help='initial manifest file (deprecated)', metavar='NAME.xml')group.add_option('--mirror', dest='mirror', action='store_true', help='mirror the forrest')group.add_option('--reference', dest='reference', help='location of mirror directory', metavar='DIR')# Toolgroup = init_optparse.add_option_group('repo Version options')group.add_option('--repo-url', dest='repo_url', help='repo repository location', metavar='URL')group.add_option('--repo-branch', dest='repo_branch', help='repo branch or revision', metavar='REVISION')group.add_option('--no-repo-verify', dest='no_repo_verify', action='store_true', help='do not verify repo source code')class CloneFailure(Exception): """Indicate the remote clone of repo itself failed. """def _Init(args): """Installs repo by cloning it over the network. """ opt, args = init_optparse.parse_args(args) if args or not opt.manifest_url: init_optparse.print_usage() sys.exit(1) url = opt.repo_url if not url: url = REPO_URL extra_args.append('--repo-url=%s' % url) branch = opt.repo_branch if not branch: branch = REPO_REV extra_args.append('--repo-branch=%s' % branch) if branch.startswith('refs/heads/'): branch = branch[len('refs/heads/'):] if branch.startswith('refs/'): print &gt;&gt;sys.stderr, "fatal: invalid branch name '%s'" % branch raise CloneFailure() if not os.path.isdir(repodir): try: os.mkdir(repodir) except OSError, e: print &gt;&gt;sys.stderr, \ 'fatal: cannot make %s directory: %s' % ( repodir, e.strerror) # Don't faise CloneFailure; that would delete the # name. Instead exit immediately. # sys.exit(1) _CheckGitVersion() try: if _NeedSetupGnuPG(): can_verify = _SetupGnuPG(opt.quiet) else: can_verify = True if not opt.quiet: print &gt;&gt;sys.stderr, 'Getting repo ...' print &gt;&gt;sys.stderr, ' from %s' % url dst = os.path.abspath(os.path.join(repodir, S_repo)) _Clone(url, dst, opt.quiet) if can_verify and not opt.no_repo_verify: rev = _Verify(dst, branch, opt.quiet) else: rev = 'refs/remotes/origin/%s^0' % branch _Checkout(dst, branch, rev, opt.quiet) except CloneFailure: if opt.quiet: print &gt;&gt;sys.stderr, \ 'fatal: repo init failed; run without --quiet to see why' raisedef _CheckGitVersion(): cmd = [GIT, '--version'] proc = subprocess.Popen(cmd, stdout=subprocess.PIPE) ver_str = proc.stdout.read().strip() proc.stdout.close() proc.wait() if not ver_str.startswith('git version '): print &gt;&gt;sys.stderr, 'error: "%s" unsupported' % ver_str raise CloneFailure() ver_str = ver_str[len('git version '):].strip() ver_act = tuple(map(lambda x: int(x), ver_str.split('.')[0:3])) if ver_act &lt; MIN_GIT_VERSION: need = '.'.join(map(lambda x: str(x), MIN_GIT_VERSION)) print &gt;&gt;sys.stderr, 'fatal: git %s or later required' % need raise CloneFailure()def _NeedSetupGnuPG(): if not os.path.isdir(home_dot_repo): return True kv = os.path.join(home_dot_repo, 'keyring-version') if not os.path.exists(kv): return True kv = open(kv).read() if not kv: return True kv = tuple(map(lambda x: int(x), kv.split('.'))) if kv &lt; KEYRING_VERSION: return True return Falsedef _SetupGnuPG(quiet): if not os.path.isdir(home_dot_repo): try: os.mkdir(home_dot_repo) except OSError, e: print &gt;&gt;sys.stderr, \ 'fatal: cannot make %s directory: %s' % ( home_dot_repo, e.strerror) sys.exit(1) if not os.path.isdir(gpg_dir): try: os.mkdir(gpg_dir, 0700) except OSError, e: print &gt;&gt;sys.stderr, \ 'fatal: cannot make %s directory: %s' % ( gpg_dir, e.strerror) sys.exit(1) env = os.environ.copy() env['GNUPGHOME'] = gpg_dir.encode() cmd = ['gpg', '--import'] try: proc = subprocess.Popen(cmd, env = env, stdin = subprocess.PIPE) except OSError, e: if not quiet: print &gt;&gt;sys.stderr, 'warning: gpg (GnuPG) is not available.' print &gt;&gt;sys.stderr, 'warning: Installing it is strongly encouraged.' print &gt;&gt;sys.stderr return False proc.stdin.write(MAINTAINER_KEYS) proc.stdin.close() if proc.wait() != 0: print &gt;&gt;sys.stderr, 'fatal: registering repo maintainer keys failed' sys.exit(1) print fd = open(os.path.join(home_dot_repo, 'keyring-version'), 'w') fd.write('.'.join(map(lambda x: str(x), KEYRING_VERSION)) + '\n') fd.close() return Truedef _SetConfig(local, name, value): """Set a git configuration option to the specified value. """ cmd = [GIT, 'config', name, value] if subprocess.Popen(cmd, cwd = local).wait() != 0: raise CloneFailure()def _Fetch(local, quiet, *args): cmd = [GIT, 'fetch'] if quiet: cmd.append('--quiet') err = subprocess.PIPE else: err = None cmd.extend(args) cmd.append('origin') proc = subprocess.Popen(cmd, cwd = local, stderr = err) if err: proc.stderr.read() proc.stderr.close() if proc.wait() != 0: raise CloneFailure()def _Clone(url, local, quiet): """Clones a git repository to a new subdirectory of repodir """ try: os.mkdir(local) except OSError, e: print &gt;&gt;sys.stderr, \ 'fatal: cannot make %s directory: %s' \ % (local, e.strerror) raise CloneFailure() cmd = [GIT, 'init', '--quiet'] try: proc = subprocess.Popen(cmd, cwd = local) except OSError, e: print &gt;&gt;sys.stderr print &gt;&gt;sys.stderr, "fatal: '%s' is not available" % GIT print &gt;&gt;sys.stderr, 'fatal: %s' % e print &gt;&gt;sys.stderr print &gt;&gt;sys.stderr, 'Please make sure %s is installed'\ ' and in your path.' % GIT raise CloneFailure() if proc.wait() != 0: print &gt;&gt;sys.stderr, 'fatal: could not create %s' % local raise CloneFailure() _SetConfig(local, 'remote.origin.url', url) _SetConfig(local, 'remote.origin.fetch', '+refs/heads/*:refs/remotes/origin/*') _Fetch(local, quiet) _Fetch(local, quiet, '--tags')def _Verify(cwd, branch, quiet): """Verify the branch has been signed by a tag. """ cmd = [GIT, 'describe', 'origin/%s' % branch] proc = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE, cwd = cwd) cur = proc.stdout.read().strip() proc.stdout.close() proc.stderr.read() proc.stderr.close() if proc.wait() != 0 or not cur: print &gt;&gt;sys.stderr print &gt;&gt;sys.stderr,\ "fatal: branch '%s' has not been signed" \ % branch raise CloneFailure() m = re.compile(r'^(.*)-[0-9]&#123;1,&#125;-g[0-9a-f]&#123;1,&#125;$').match(cur) if m: cur = m.group(1) if not quiet: print &gt;&gt;sys.stderr print &gt;&gt;sys.stderr, \ "info: Ignoring branch '%s'; using tagged release '%s'" \ % (branch, cur) print &gt;&gt;sys.stderr env = os.environ.copy() env['GNUPGHOME'] = gpg_dir.encode() cmd = [GIT, 'tag', '-v', cur] proc = subprocess.Popen(cmd, stdout = subprocess.PIPE, stderr = subprocess.PIPE, cwd = cwd, env = env) out = proc.stdout.read() proc.stdout.close() err = proc.stderr.read() proc.stderr.close() if proc.wait() != 0: print &gt;&gt;sys.stderr print &gt;&gt;sys.stderr, out print &gt;&gt;sys.stderr, err print &gt;&gt;sys.stderr raise CloneFailure() return '%s^0' % curdef _Checkout(cwd, branch, rev, quiet): """Checkout an upstream branch into the repository and track it. """ cmd = [GIT, 'update-ref', 'refs/heads/default', rev] if subprocess.Popen(cmd, cwd = cwd).wait() != 0: raise CloneFailure() _SetConfig(cwd, 'branch.default.remote', 'origin') _SetConfig(cwd, 'branch.default.merge', 'refs/heads/%s' % branch) cmd = [GIT, 'symbolic-ref', 'HEAD', 'refs/heads/default'] if subprocess.Popen(cmd, cwd = cwd).wait() != 0: raise CloneFailure() cmd = [GIT, 'read-tree', '--reset', '-u'] if not quiet: cmd.append('-v') cmd.append('HEAD') if subprocess.Popen(cmd, cwd = cwd).wait() != 0: raise CloneFailure()def _FindRepo(): """Look for a repo installation, starting at the current directory. """ dir = os.getcwd() repo = None olddir = None while dir != '/' \ and dir != olddir \ and not repo: repo = os.path.join(dir, repodir, REPO_MAIN) if not os.path.isfile(repo): repo = None olddir = dir dir = os.path.dirname(dir) return (repo, os.path.join(dir, repodir))class _Options: help = Falsedef _ParseArguments(args): cmd = None opt = _Options() arg = [] for i in xrange(0, len(args)): a = args[i] if a == '-h' or a == '--help': opt.help = True elif not a.startswith('-'): cmd = a arg = args[i + 1:] break return cmd, opt, argdef _Usage(): print &gt;&gt;sys.stderr,\"""usage: repo COMMAND [ARGS]repo is not yet installed. Use "repo init" to install it here.The most commonly used repo commands are: init Install repo in the current working directory help Display detailed help on a commandFor access to the full online help, install repo ("repo init").""" sys.exit(1)def _Help(args): if args: if args[0] == 'init': init_optparse.print_help() sys.exit(0) else: print &gt;&gt;sys.stderr,\ "error: '%s' is not a bootstrap command.\n"\ ' For access to online help, install repo ("repo init").'\ % args[0] else: _Usage() sys.exit(1)def _NotInstalled(): print &gt;&gt;sys.stderr,\'error: repo is not installed. Use "repo init" to install it here.' sys.exit(1)def _NoCommands(cmd): print &gt;&gt;sys.stderr,\"""error: command '%s' requires repo to be installed first. Use "repo init" to install it here.""" % cmd sys.exit(1)def _RunSelf(wrapper_path): my_dir = os.path.dirname(wrapper_path) my_main = os.path.join(my_dir, 'main.py') my_git = os.path.join(my_dir, '.git') if os.path.isfile(my_main) and os.path.isdir(my_git): for name in ['git_config.py', 'project.py', 'subcmds']: if not os.path.exists(os.path.join(my_dir, name)): return None, None return my_main, my_git return None, Nonedef _SetDefaultsTo(gitdir): global REPO_URL global REPO_REV REPO_URL = gitdir proc = subprocess.Popen([GIT, '--git-dir=%s' % gitdir, 'symbolic-ref', 'HEAD'], stdout = subprocess.PIPE, stderr = subprocess.PIPE) REPO_REV = proc.stdout.read().strip() proc.stdout.close() proc.stderr.read() proc.stderr.close() if proc.wait() != 0: print &gt;&gt;sys.stderr, 'fatal: %s has no current branch' % gitdir sys.exit(1)def main(orig_args): main, dir = _FindRepo() cmd, opt, args = _ParseArguments(orig_args) wrapper_path = os.path.abspath(__file__) my_main, my_git = _RunSelf(wrapper_path) if not main: if opt.help: _Usage() if cmd == 'help': _Help(args) if not cmd: _NotInstalled() if cmd == 'init': if my_git: _SetDefaultsTo(my_git) try: _Init(args) except CloneFailure: for root, dirs, files in os.walk(repodir, topdown=False): for name in files: os.remove(os.path.join(root, name)) for name in dirs: os.rmdir(os.path.join(root, name)) os.rmdir(repodir) sys.exit(1) main, dir = _FindRepo() else: _NoCommands(cmd) if my_main: main = my_main ver_str = '.'.join(map(lambda x: str(x), VERSION)) me = [main, '--repo-dir=%s' % dir, '--wrapper-version=%s' % ver_str, '--wrapper-path=%s' % wrapper_path, '--'] me.extend(orig_args) me.extend(extra_args) try: os.execv(main, me) except OSError, e: print &gt;&gt;sys.stderr, "fatal: unable to start %s" % main print &gt;&gt;sys.stderr, "fatal: %s" % e sys.exit(148)if __name__ == '__main__': main(sys.argv[1:]) ä¿å­˜ä¸ºrepoï¼Œç„¶åŽä¿®æ”¹æƒé™å³å¯ï¼š æ¯”å¦‚ä¿å­˜åœ¨~/bin/repo åˆ™ 12$ PATH=~/bin:$PATH$ chmod a+x ~/bin/repo]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>aosp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ubuntu 12.04 ä¸­æ€Žä¹ˆå®‰è£… jdk 7]]></title>
    <url>%2F2015%2F03%2F27%2Fubuntu_12.04_%E4%B8%AD%E6%80%8E%E4%B9%88%E5%AE%89%E8%A3%85_jdk_7%2F</url>
    <content type="text"><![CDATA[ubuntu 12.04 ä¸­æ€Žä¹ˆå®‰è£… jdk 7.]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Mac æ›´æ”¹Hostsæ–‡ä»¶]]></title>
    <url>%2F2015%2F03%2F17%2FMac_%E6%9B%B4%E6%94%B9Hosts%E6%96%87%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[1sudo vi /etc/hosts]]></content>
      <categories>
        <category>Mac</category>
      </categories>
      <tags>
        <tag>mac</tag>
        <tag>hosts</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonå‡½æ•°å¼ç¼–ç¨‹]]></title>
    <url>%2F2015%2F03%2F16%2Fpython%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[1.æˆ‘ä»¬å¯ä»¥æŠŠä¸€ä¸ªå‡½æ•°ç›´æŽ¥ä½œä¸ºå‚æ•°ä¼ å…¥å¦ä¸€ä¸ªå‚æ•°ï¼š 123456import mathdef add(x, y, f): return f(x) + f(y)print add(25, 9, math.sqrt)&lt;/pre&gt; 2.map()å‡½æ•° map()æ˜¯ Python å†…ç½®çš„é«˜é˜¶å‡½æ•°ï¼Œå®ƒæŽ¥æ”¶ä¸€ä¸ªå‡½æ•° f å’Œä¸€ä¸ª listï¼Œå¹¶é€šè¿‡æŠŠå‡½æ•° f ä¾æ¬¡ä½œç”¨åœ¨ list çš„æ¯ä¸ªå…ƒç´ ä¸Šï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„ list å¹¶è¿”å›žã€‚ 1234def format_name(s): return s.capitalize()print map(format_name, ['adam', 'LISA', 'barT'])&lt;/pre&gt; 3.reduce()å‡½æ•° reduce()å‡½æ•°ä¹Ÿæ˜¯Pythonå†…ç½®çš„ä¸€ä¸ªé«˜é˜¶å‡½æ•°ã€‚reduce()å‡½æ•°æŽ¥æ”¶çš„å‚æ•°å’Œ map()ç±»ä¼¼ï¼Œä¸€ä¸ªå‡½æ•° fï¼Œä¸€ä¸ªlistï¼Œä½†è¡Œä¸ºå’Œ map()ä¸åŒï¼Œreduce()ä¼ å…¥çš„å‡½æ•° f å¿…é¡»æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œreduce()å¯¹listçš„æ¯ä¸ªå…ƒç´ åå¤è°ƒç”¨å‡½æ•°fï¼Œå¹¶è¿”å›žæœ€ç»ˆç»“æžœå€¼ã€‚ 1234def prod(x, y): return x * yprint reduce(prod, [2, 4, 5, 7, 12]) 4.filter()å‡½æ•° filter()å‡½æ•°æ˜¯ Python å†…ç½®çš„å¦ä¸€ä¸ªæœ‰ç”¨çš„é«˜é˜¶å‡½æ•°ï¼Œfilter()å‡½æ•°æŽ¥æ”¶ä¸€ä¸ªå‡½æ•° f å’Œä¸€ä¸ªlistï¼Œè¿™ä¸ªå‡½æ•° f çš„ä½œç”¨æ˜¯å¯¹æ¯ä¸ªå…ƒç´ è¿›è¡Œåˆ¤æ–­ï¼Œè¿”å›ž Trueæˆ– Falseï¼Œfilter()æ ¹æ®åˆ¤æ–­ç»“æžœè‡ªåŠ¨è¿‡æ»¤æŽ‰ä¸ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œè¿”å›žç”±ç¬¦åˆæ¡ä»¶å…ƒç´ ç»„æˆçš„æ–°listã€‚ åˆ©ç”¨filter()è¿‡æ»¤å‡º1~100ï¼ˆåŒ…æ‹¬1å’Œ100ï¼‰ä¸­å¹³æ–¹æ ¹æ˜¯æ•´æ•°çš„æ•° 1234567import mathdef is_sqr(x): i = int(math.sqrt(x)) return i * i == xprint filter(is_sqr, range(1, 101)) ä»¥ä¸Šèµ„æ–™æ¥è‡ªæ…•è¯¾ç½‘ä¸­ã€Špythonè¿›é˜¶ã€‹è¯¾ç¨‹ã€‚]]></content>
      <categories>
        <category>Python 2.x</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>code</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Androidä½¿ç”¨XmlPullParserè§£æžxmlæ–‡ä»¶]]></title>
    <url>%2F2015%2F03%2F12%2FAndroid%E4%BD%BF%E7%94%A8XmlPullParser%E8%A7%A3%E6%9E%90xml%E6%96%87%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233private void parse() &#123; try &#123; XmlPullParserFactory factory = XmlPullParserFactory.newInstance(); factory.setNamespaceAware(false); XmlPullParser xpp = factory.newPullParser(); xpp.setInput(new FileReader(filePath)); int eventType = xpp.getEventType(); while (eventType != XmlPullParser.END_DOCUMENT) &#123; if (eventType == XmlPullParser.START_DOCUMENT) &#123; System.out.println(&amp;quot;Start document&amp;quot;); &#125; else if (eventType == XmlPullParser.START_TAG) &#123; System.out.println(&amp;quot;Start tag &amp;quot; + xpp.getName()); &#125; else if (eventType == XmlPullParser.END_TAG) &#123; System.out.println(&amp;quot;end tag &amp;quot; + xpp.getName()); &#125; else if (eventType == XmlPullParser.TEXT) &#123; System.out.println(&amp;quot;Text &amp;quot; + xpp.getText()); &#125; eventType = xpp.next(); &#125; System.out.println(&amp;quot;End docment&amp;quot;); &#125; catch (XmlPullParserException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; catch (FileNotFoundException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; catch (IOException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125;&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>android</tag>
        <tag>xml</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æƒ…æ¨å¤©]]></title>
    <url>%2F2010%2F07%2F22%2F%E6%83%85%E6%81%A8%E5%A4%A9%2F</url>
    <content type="text"><![CDATA[æƒ…æ¨å¤©é•¿å‰‘è€¿ä»‹é•¿ç›¸æ€ï¼Œåœ¨ä½³äººã€‚ä¸€æ—¥ä¸è§ï¼Œæ€ä¹‹å¦‚ç‹‚ã€‚ç‹‚å…®ç‹‚å…®å¯å¥ˆä½•ï¼Ÿåªæ¨ç›¸è§.æ—¢ç›¸è§ï¼Œä½•ç›¸è¯†ï¼ŸèŠ³è‰å‡‹é›¶ï¼ŒåŒ—é›å—é£žã€‚é£žå…®é£žå…®ç•™ä¸ä½ï¼Œè‡ªæ˜¯æµå¹´ã€‚]]></content>
      <categories>
        <category>è¯´è¯´</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[noip 2006 ä½œä¸šè°ƒåº¦æ–¹æ¡ˆ jsp]]></title>
    <url>%2F2009%2F11%2F17%2FNOIP_2006_%E4%BD%9C%E4%B8%9A%E8%B0%83%E5%BA%A6%E6%96%B9%E6%A1%88_jsp%2F</url>
    <content type="text"><![CDATA[ä½œä¸šè°ƒåº¦æ–¹æ¡ˆ æœ¬æ¥æƒ³ç”¨è®°å½•p=record u,b,e:integer; end; ï¼ˆuä¸ºç¬¬å‡ é“å·¥åºï¼Œbä¸ºå¼€å§‹æ—¶é—´ï¼Œeä¸ºç»“æŸæ—¶é—´ï¼‰ æ¥å®žçŽ°çš„ï¼Œç›´æŽ¥æŽ’è¿˜æ˜¯æŒºæ–¹ä¾¿çš„ï¼Œä½†æœ‰äº›åœ°æ–¹ä¸å¥½å®žçŽ°å°±æ²¡åšä¸‹åŽ»â€¦â€¦ç›´æŽ¥æŽ’ï¼š1234567891011for I:=1 to m*n do beginj:=1;while p[I,j].e&lt;&gt;0 do inc(j);&#123;p[I,j].e=0æ„å‘³ç€p[I,j]å·²è¢«å®‰æŽ’è¿‡äº†ï¼Œä¸‹ä¸€é“å·¥åº&#125;p[I,j].b:=p[I-1,j].e;&#123;åœ¨åŒä¸€ä¸ªæœºå™¨ä¸Šçš„ä¸Šä¸€é“å·¥åºç»“æŸæ—¶é—´&#125;p[I,j].e:=p[I,j].b+t[I,j];&#123;t[I,j]ä¸ºè¯¥é“å·¥åºæ‰€å æ—¶é—´&#125;end; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899program jsp;const nn=20;var f:array[1..nn,0..nn*nn]of boolean;//each machine condition; t:array[1..nn,1..nn]of integer;//cover time; e:array[1..nn,0..nn]of integer;//end time; a:array[1..nn*nn]of integer;//following; b:array[1..nn,1..nn]of integer;//belong to machine g:array[1..nn*nn]of integer;//dealing with; flag:boolean; i,j,m,n,k,best,nt,nm:integer;beginassign(input,&amp;#39;jsp.in&amp;#39;);reset(input);assign(output,&amp;#39;&amp;#39;);rewrite(output);readln(m,n);fillchar(a,sizeof(a),0);fillchar(e,sizeof(e),0);fillchar(f,sizeof(f),true);fillchar(g,sizeof(g),0);for i:=1 to m*n do read(a[i]);readln;for i:=1 to n do begin for j:=1 to m do read(b[i,j]);end;for i:=1 to n do begin for j:=1 to m do read(t[i,j]); readln;end;for i:=1 to m*n do begin inc(g[a[i]]); nt:=t[a[i],g[a[i]]]; nm:=b[a[i],g[a[i]]];&#123;ntï¼šneedtimeï¼›nmï¼šmachine&#125; for j:=e[a[i],g[a[i]]-1]to 400 do begin&#123;ä»Žè¯¥å·¥ä»¶çš„ä¸Šä¸€ä¸ªå·¥åºç»“æŸæ—¶é—´å¼€å§‹æœç´¢&#125; flag:=true; for k:=j to j+nt do if k&amp;amp;lt;=400 then flag:=flag and f[nm,k]; if flag then begin&#123;å¦‚æžœæœç´¢æˆåŠŸ&#125; e[a[i],g[a[i]]]:=j+nt;&#123;è®°ä¸‹ç»“æŸæ—¶é—´&#125; for k:=j+1 to j+nt-1 do f[nm,k]:=false; break;&#123;å‡å°‘æœç´¢&#125; end; end;end; best:=0; for i:=1 to n do &#123;ä»Žæ¯é“å·¥åºå…¥æ‰‹ï¼Œä½†å¦‚æžœä»Žæ¯ä¸ªæœºå™¨å…¥æ‰‹å‘¢ï¼Ÿ&#125; if best&amp;amp;lt;e[i,m]then best:=e[i,m]; writeln(best); close(input);close(output);end.]]></content>
      <categories>
        <category>Pascal</category>
      </categories>
      <tags>
        <tag>noip</tag>
        <tag>pascal</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[noip 2006 èƒ½é‡é¡¹é“¾ energy]]></title>
    <url>%2F2009%2F11%2F17%2FNOIP_2006_%E8%83%BD%E9%87%8F%E9%A1%B9%E9%93%BE_energy%2F</url>
    <content type="text"><![CDATA[èƒ½é‡é¡¹é“¾ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273rogram energy;&#123;20:02 &#125;var a1,a2:array[1..200]of integer; q:array[1..200,1..200]of longint; i,j,n,k,m,p:integer; best:longint;beginassign(input,&apos;energy.in&apos;);reset(input);assign(output,&apos;energy.ans&apos;);rewrite(output);readln(n);for i:=1 to n do read(a1[i]);readln;for i:=1 to n-1 do a2[i]:=a1[i+1];a2[n]:=a1[1];m:=n*2-1;for i:=n+1 to m do begin a1[i]:=a1[i-n];a2[i]:=a2[i-n]end;//for i:=1 to m do writeln(a1[i],&apos; &apos;,a2[i],&apos; &apos;);fillchar(q,sizeof(q),0);for p:=1 to n-1 do for i:=1 to m-1 do begin j:=i+p; if j&gt;m then break; for k:=i to j-1 do begin if q[i,j]&lt;q[i,k]+q[k+1,j]+a1[i]*a2[k]*a2[j] then q[i,j]:=q[i,k]+q[k+1,j]+a1[i]*a2[k]*a2[j]; end; end;best:=0;for i:=1 to n do if best&lt;q[i,i+n-1]then best:=q[i,i+n-1];writeln(best);close(input);close(output);end.]]></content>
      <categories>
        <category>Pascal</category>
      </categories>
      <tags>
        <tag>noip</tag>
        <tag>pascal</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[noip 2006 é‡‘æ˜Žçš„é¢„ç®—æ–¹æ¡ˆ budget]]></title>
    <url>%2F2009%2F11%2F17%2FNOIP_2006_%E9%87%91%E6%98%8E%E7%9A%84%E9%A2%84%E7%AE%97%E6%96%B9%E6%A1%88_budget%2F</url>
    <content type="text"><![CDATA[é‡‘æ˜Žçš„é¢„ç®—æ–¹æ¡ˆ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127program budget; &#123;20:03 &#125; type node=record u:integer; v,p:array[0..2]of integer; end; var w:array[1..60]of node; f:array[0..60,0..2000]of longint; vx,px,qx,g:array[1..60]of integer; m,n,i,k,j:integer; begin assign(input,&apos;budget.in&apos;);reset(input); assign(output,&apos;budget.out&apos;);rewrite(output); readln(n,m); k:=0; for i:=1 to m do begin readln(px[i],vx[i],qx[i]); if qx[i]=0 then begin inc(k);g[i]:=k; with w[k] do begin u:=0; v[0]:=vx[i];p[0]:=px[i]; for j:=1 to 2 do begin v[j]:=0;p[j]:=0; end; end; end; end; for i:=1 to m do begin if qx[i]&lt;&gt;0 then with w[g[qx[i]]] do begin inc(u);v[u]:=vx[i];p[u]:=px[i]; end; end; for i:=1 to k do with w[i] do begin write(&apos;w[&apos;,i,&apos;]:&apos;); for j:=0 to 2 do write(&apos;(&apos;,v[j],&apos;,&apos;,p[j],&apos;) &apos;); writeln; end; fillchar(f,sizeof(f),0); for i:=1 to k do for j:=1 to n do with w[i] do begin f[i,j]:=f[i-1,j]; if (f[i,j]&lt; (f[i-1,j-p[0]]+p[0]*v[0]))and(j&gt;=p[0]) then f[i,j]:=f[i-1,j-p[0]]+p[0]*v[0]; if (f[i,j]&lt; (f[i-1,j-p[0]-p[1]]+p[0]*v[0]+v[1]*p[1]))and(j&gt;=p[0]+p[1]) then f[i,j]:=f[i-1,j-p[0]-p[1]]+p[0]*v[0]+v[1]*p[1]; if (f[i,j]&lt; (f[i-1,j-p[0]-p[2]]+p[0]*v[0]+p[2]*v[2]))and(j&gt;=p[0]+p[2]) then f[i,j]:=f[i-1,j-p[0]-p[2]]+p[0]*v[0]+p[2]*v[2]; if (f[i,j]&lt; (f[i-1,j-p[0]-p[1]-p[2]]+p[0]*v[0]+v[1]*p[1]+p[2]*v[2]))and(j&gt;=p[0]+p[1]+p[2]) then f[i,j]:=f[i-1,j-p[0]-p[1]-p[2]]+p[0]*v[0]+v[1]*p[1]+p[2]*v[2]; writeln(&apos;f[&apos;,i,&apos;,&apos;,j,&apos;]:&apos;,f[i,j]); end; writeln(f[k,n]); close(input);close(output); end.]]></content>
      <categories>
        <category>Pascal</category>
      </categories>
      <tags>
        <tag>noip</tag>
        <tag>pascal</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NOIP 2005 è°æ‹¿äº†æœ€å¤šå¥–å­¦é‡‘]]></title>
    <url>%2F2009%2F11%2F17%2FNOIP_2005_%E8%B0%81%E6%8B%BF%E4%BA%86%E6%9C%80%E5%A4%9A%E5%A5%96%E5%AD%A6%E9%87%91%2F</url>
    <content type="text"><![CDATA[å°±åƒè§£é¢˜æŠ¥å‘Šä¸­è¯´çš„è¶…ç®€å•ï¼Œä½†è¿˜æ˜¯å‡ºäº†è®¸å¤šå°æ¯›ç—…,å¦‚åˆšå¼€å§‹å°†sumåŒavi,paperç­‰å®šä¹‰åœ¨ä¸€èµ·ï¼Œè€Œæˆ‘ä¸ºäº†çœç©ºé—´å°†å®ƒä»¬é™åˆ¶åœ¨0..100ï¼Œæ•…ç®—å‡ºæ¥çš„sumé”™è¯¯æ— ç–‘äº†ï¼›ç”¨å­—ç¬¦è¯»å…¥æ•°æ®æ—¶å¿˜äº†ç©ºæ ¼â€¦â€¦æœ€åŽåœ¨æ¯”è¾ƒæ—¶æœ¬æƒ³è¾“å‡ºsumåŒæœ€å…ˆå‡ºçŽ°çš„äººå´è´¹äº‹çš„ç”¨downtoï¼Œç»“æžœæ²¡ç”¨â€˜&lt;=â€™åç”»è›‡æ·»è¶³äº†â€¦â€¦å”‰â€¦â€¦å¤ªç²—å¿ƒäº†â€¦â€¦123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109program scholar;type node=record name:string[20]; avi,ping,paper:0..100; bu,west:boolean; sum:integer; end;var stu:array [0..100] of node; i,n,max:integer; sumup:longint; c:char;beginassign(input,&apos;scholar1.in&apos;);reset(input);assign(output,&apos;&apos;);rewrite(output);readln(n);for i:=0 to 100 do with stu[i] do begin name:=&apos;&apos;; avi:=0;ping:=0;paper:=0;sum:=0; bu:=false;west:=false; end;for i:=1 to n do with stu[i] do begin read(c); while c&lt;&gt;&apos; &apos; do begin name:=name+c;read(c);end; read(avi);read(ping); read(c); read(c);if c=&apos;Y&apos;then bu:=true else bu:=false; read(c); read(c);if c=&apos;Y&apos;then west:=true else west:=false; readln(paper); if (avi&gt;80)and(paper&gt;0)then inc(sum,8000); if (avi&gt;85)and(ping&gt;80) then inc(sum,4000); if avi&gt;90 then inc(sum,2000); if (avi&gt;85)and west then inc(sum,1000); if (ping&gt;80)and bu then inc(sum,850);end;sumup:=0;max:=0;for i:=1 to n do begin sumup:=sumup+stu[i].sum; if max&lt;stu[i].sum then begin max:=stu[i].sum;stu[0]:=stu[i]; end;end;writeln(stu[0].name);writeln(stu[0].sum);writeln(sumup);close(input);close(output);end.]]></content>
      <categories>
        <category>Pascal</category>
      </categories>
      <tags>
        <tag>noip</tag>
        <tag>pascal</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NOIP 2004 æ´¥æ´¥çš„å‚¨è“„è®¡åˆ’]]></title>
    <url>%2F2009%2F11%2F17%2FNOIP_2004_%E6%B4%A5%E6%B4%A5%E7%9A%84%E5%82%A8%E8%93%84%E8%AE%A1%E5%88%92%2F</url>
    <content type="text"><![CDATA[å¯ä»¥è¯´è¶…ç®€å•çš„ä¸€é“é¢˜ï¼Œå­¦è¿‡æ•°ç»„çš„äººéƒ½åº”ä¼šåš1234567891011121314151617181920212223program save;var a:array[0..12]of integer; i,x,p:integer;beginassign(input,&apos;save.in&apos;);reset(input);assign(output,&apos;&apos;);rewrite(output);for i:=1 to 12 do a[i]:=300;a[0]:=0;p:=0;for i:=1 to 12 do beginreadln(x);inc(a[i],a[i-1]);dec(a[i],x); if a[i]&lt;0 then begin writeln(&apos;-&apos;,i); close(input);close(output);exit;end else &#123;if a[i]&gt;=100 then&#125; begin p:=(a[i]div 100)*100; inc(a[0],p); a[i]:=a[i]-p;end;end;a[0]:=a[0]*6 div 5;writeln(a[0]+a[12]);close(input);close(output);end.]]></content>
      <categories>
        <category>Pascal</category>
      </categories>
      <tags>
        <tag>noip</tag>
        <tag>pascal</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NOIP 2004 åˆå¹¶æžœå­ fruit]]></title>
    <url>%2F2009%2F11%2F17%2FNOIP_2004_%E5%90%88%E5%B9%B6%E6%9E%9C%E5%AD%90_fruit%2F</url>
    <content type="text"><![CDATA[é¦–å…ˆå¿«æŽ’æ˜¯è¦çš„ï¼Œä¸‹é¢å°±æ˜¯è®¡ç®—æœ€å°çš„ä½“åŠ›è€—è´¹å€¼äº†ï¼Œå…¶ä¸­æˆ‘ç”¨åˆ°äº†å†’æ³¡æŽ’åºï¼Œå…·ä½“è§ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879program fruit;var a:array [0..10001]of longint; i,j,k,n:integer; t,s:longint; flag:boolean;procedure fastsort(l,r:integer);var lx,rx,pi:integer;beginlx:=l;rx:=r;pi:=a[l];while lx&lt;rx do begin while a[rx]&gt;pi do dec(rx); if lx&lt;rx then begin t:=a[rx];a[rx]:=a[lx];a[lx]:=t;inc(lx); end; while a[lx]&lt;pi do inc(lx); if lx&lt;rx then begin t:=a[rx];a[rx]:=a[lx];a[lx]:=t;dec(rx); end;end; if l&lt;lx-1 then fastsort(l,lx-1); if r&gt;rx+1 then fastsort(rx+1,r);end;beginassign(input,&apos;fruit.in&apos;);reset(input);assign(output,&apos;fruit.ans&apos;);rewrite(output);readln(n);for i:=1 to n do read(a[i]);fastsort(1,n);s:=0;a[0]:=0;for i:=1 to n do begin s:=s+a[i]+a[i-1];a[i]:=a[i-1]+a[i]; for k:=i to n-1 do if a[k]&gt;a[k+1] then begin t:=a[k];a[k]:=a[k+1];a[k+1]:=t; end;end; dec(s,a[1]); writeln(s);close(input);close(output);end. å…¶ä¸­è¿˜æœ‰è®¸å¤šå¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ï¼Œå¦‚ï¼šå¯ä»¥ç”¨t:=a[i];a[i]:=a[n];a[n]:=t;æ¥å‡å°‘åŽé¢çš„æŽ’åºæ¬¡æ•°ï¼Œåˆæ•°ç»„å·²æ˜¯æœ‰åºçš„äº†æ•…è¿˜å¯åœ¨å†’æ³¡æŽ’åºä¸Šä¼˜åŒ–ï¼Œå¯ç½®ä¸€å¸ƒå°”åž‹å˜é‡flagæ¥æå‰ç»“æŸæŽ’åº. ä½†åä¸ªæµ‹è¯•ç‚¹éƒ½è¿‡äº†å°±ä¸åšäº†.]]></content>
      <categories>
        <category>Pascal</category>
      </categories>
      <tags>
        <tag>noip</tag>
      </tags>
  </entry>
</search>
